<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>5.0</version>
    <date>2022-05-20T06:22:51Z</date>
    <groups>
        <group>
            <name>Custom Templates</name>
        </group>
    </groups>
    <templates>
        <template>
            <template>MaxDB DBMMonitor</template>
            <name>MaxDB DBMMonitor</name>
            <description>MaxDB instance monitor</description>
            <groups>
                <group>
                    <name>Custom Templates</name>
                </group>
            </groups>
            <discovery_rules>
                <discovery_rule>
                    <name>MaxDB discovery</name>
                    <key>maxdb.discovery[{$MAXDBINIPATH},{$MAXDBEXCLUDEDB},{$MAXDBONLYDB}]</key>
                    <delay>4h</delay>
                    <lifetime>7d</lifetime>
                    <description>Discover MaxDB installations</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup DAT daily ckeck today</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.dat.checkdaily[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>1d</history>
                            <trends>0</trends>
                            <description>Flag whether it is necessary to check the status of the daily copy today</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <valuemap>
                                <name>MaxDB DBMMonitor backup daily check</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.zm_backup_daily_dat_days</params>
                                </step>
                                <step>
                                    <type>JAVASCRIPT</type>
                                    <params>if (value.length == 0) return 0;

//Get current day
var today = new Date();
var day = today.getDay();

//If current day are in list for checking AND current time greater than check time - return 1, otherwise return 0
if (value.includes(day.toString())){
return 1;
} else {
return 0;
}</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup DAT daily ckeck time</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.dat.checktime[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>1d</history>
                            <trends>0</trends>
                            <description>Time of day from which the status of the daily copy will be checked</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.zm_backup_daily_dat_time</params>
                                </step>
                                <step>
                                    <type>JAVASCRIPT</type>
                                    <params>if (value.length == 0) return 0;

//Get check time
return parseInt(value);</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup DAT duration</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.dat.duration[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <units>s</units>
                            <description>Last DataArea backup duration</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.DAT_DURATION</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup DAT end date</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.dat.enddate[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Last DataArea backup end date</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.DAT_END_DATE</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup DAT end time</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.dat.endtime[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Last DataArea backup end time</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.DAT_END_TIME</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup DAT message</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.dat.message[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <description>Last DataArea backup message</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.DAT_MESSAGE</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup DAT number</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.dat.number[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Last DataArea backup number</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.DAT_NUMBER</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup DAT start date</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.dat.startdate[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Last DataArea backup start date</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.DAT_START_DATE</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup DAT start time</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.dat.starttime[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Last DataArea backup start time</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.DAT_START_TIME</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup DAT successful</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.dat.successful[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Is Last DataArea backup successful</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <valuemap>
                                <name>MaxDB DBMMonitor backup state</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.DAT_SUCCESSFUL</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}=0</expression>
                                    <name>{#MAXDBNAME} last DAT backup failed</name>
                                    <priority>WARNING</priority>
                                    <description>This error occurs when the last DataArea full backup failed.</description>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} get backup info error</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.error[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <description>Error getting backup status data</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.error</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup LOG duration</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.log.duration[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <units>s</units>
                            <description>Last LogArea backup duration</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.LOG_DURATION</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup LOG end date</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.log.enddate[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Last LogArea backup end date</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.LOG_END_DATE</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup LOG end time</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.log.endtime[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Last LogArea backup end time</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.LOG_END_TIME</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup LOG message</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.log.message[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <description>Last LogArea backup message</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.LOG_MESSAGE</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup LOG number</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.log.number[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Last LogArea backup number</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.LOG_NUMBER</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup LOG start date</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.log.startdate[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Last LogArea backup start date</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.LOG_START_DATE</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup LOG start time</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.log.starttime[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Last LogArea backup start time</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.LOG_START_TIME</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup LOG successful</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.log.successful[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Is Last LogArea backup successful</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <valuemap>
                                <name>MaxDB DBMMonitor backup state</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.LOG_SUCCESSFUL</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup PAG duration</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.pag.duration[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <units>s</units>
                            <description>Last DataArea incremental backup duration</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.PAG_DURATION</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup PAG end date</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.pag.enddate[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Last DataArea incremental backup end date</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.PAG_END_DATE</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup PAG end time</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.pag.endtime[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Last DataArea incremental backup end time</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.PAG_END_TIME</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup PAG message</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.pag.message[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <description>Last DataArea incremental backup message</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.PAG_MESSAGE</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup PAG number</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.pag.number[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Last DataArea incremental backup number</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.PAG_NUMBER</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup PAG start date</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.pag.startdate[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Last DataArea incremental backup start date</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.PAG_START_DATE</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup PAG start time</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.pag.starttime[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Last DataArea incremental backup start time</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.PAG_START_TIME</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Backup PAG successful</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.backup.pag.successful[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Is last DataArea incremental backup successful</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                            <valuemap>
                                <name>MaxDB DBMMonitor backup state</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.PAG_SUCCESSFUL</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}=0</expression>
                                    <name>{#MAXDBNAME} last PAG backup failed</name>
                                    <priority>WARNING</priority>
                                    <description>This error occurs when the last DataArea incremental backup failed.</description>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} backup data</name>
                            <key>maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            <delay>30m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <description>Data map for command &lt;backup_history_list -c LABEL,START,STOP,RC,ERROR -Inverted&gt;</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Backup</name>
                                </application_prototype>
                            </application_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Cache catalog hit rate</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.cache.hitrate.catalog[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <units>%</units>
                            <description>Percentage of successful accesses to catalog cache</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Cache</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.cache_hitrate_catalogcache</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.cache.hitrate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Cache command execute hit rate</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.cache.hitrate.commandexecute[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <units>%</units>
                            <description>Percentage of successful accesses to command execute cache</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Cache</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.cache_hitrate_commandexecute</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.cache.hitrate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Cache command prepare hit rate</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.cache.hitrate.commandprepare[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <units>%</units>
                            <description>Percentage of successful accesses to command prepare cache</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Cache</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.cache_hitrate_commandprepare</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.cache.hitrate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Cache data hit rate</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.cache.hitrate.data[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <units>%</units>
                            <description>Percentage of successful accesses to data cache</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Cache</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.cache_hitrate_data</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.cache.hitrate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} get caches hitrate error</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.cache.hitrate.error[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <description>Error getting caches hitrate data</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Cache</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.error</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.cache.hitrate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Cache sequence hit rate</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.cache.hitrate.sequence[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <units>%</units>
                            <description>Percentage of successful accesses to sequence cache</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Cache</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.cache_hitrate_sequence</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.cache.hitrate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} cache hit rate</name>
                            <key>maxdb.cache.hitrate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            <delay>5m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <description>Data map for command &lt;info caches&gt;</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Cache</name>
                                </application_prototype>
                            </application_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Bad devspaces count</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.common.bad_devspaces[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <description>Number of bad devspases</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Common</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.bad_devspaces</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.infostate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{change()}&gt;0</expression>
                                    <name>There are new bad devspaces in the database {#MAXDBNAME}</name>
                                    <priority>INFO</priority>
                                    <description>This message informs that there are new bad devspaces in the database.</description>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Bad indexes count</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.common.bad_indexes[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <description>Number of bad indexes</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Common</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.bad_indexes</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.infostate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{change()}&gt;0</expression>
                                    <name>There are new bad indexes in the database {#MAXDBNAME}</name>
                                    <priority>INFO</priority>
                                    <description>This message informs that there are new bad indexes in the database.</description>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Command monitoring</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.common.command_monitoring[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Is command monitoring enabled</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Common</name>
                                </application_prototype>
                            </application_prototypes>
                            <valuemap>
                                <name>MaxDB DBMMonitor switch state</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.command_monitoring</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.infostate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}=0</expression>
                                    <name>{#MAXDBNAME} command monitoring disabled</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <description>This message informs that command monitoring mode has been disabled in the database.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Connect possible</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.common.connect_possible[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>30d</trends>
                            <description>Is it possible to create a new connection to {#MAXDBNAME}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Common</name>
                                </application_prototype>
                            </application_prototypes>
                            <valuemap>
                                <name>MaxDB DBMMonitor YN</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.connect_possible</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.infostate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}=0</expression>
                                    <name>{#MAXDBNAME} connect not possible</name>
                                    <priority>WARNING</priority>
                                    <description>This error occurs when the DB reports that it cannot be connected to.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} DB monitoring</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.common.database_monitoring[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Is database monitoring enabled</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Common</name>
                                </application_prototype>
                            </application_prototypes>
                            <valuemap>
                                <name>MaxDB DBMMonitor switch state</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.database_monitoring</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.infostate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}=0</expression>
                                    <name>{#MAXDBNAME} database monitoring disabled</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <description>This message informs that databese monitoring mode has been disabled in the database.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} Kernel trace</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.common.kernel_trace[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Is kernel trace enabled</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Common</name>
                                </application_prototype>
                            </application_prototypes>
                            <valuemap>
                                <name>MaxDB DBMMonitor switch state</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.kernel_trace</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.infostate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}=0</expression>
                                    <name>{#MAXDBNAME} kernel trace disabled</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <description>This message informs that kernel trace mode has been disabled in the database.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} DataArea bytes</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.data.bytes[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <units>bytes</units>
                            <description>Number of bytes of data in DataArea</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info DataArea</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.data_bytes</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.infostate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} DataArea is full</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.data.full[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Is DataArea full</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info DataArea</name>
                                </application_prototype>
                            </application_prototypes>
                            <valuemap>
                                <name>MaxDB DBMMonitor YN</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.database_full</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.infostate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}=1</expression>
                                    <name>{#MAXDBNAME} DataArea is full</name>
                                    <priority>HIGH</priority>
                                    <description>This error occurs when the database runs out of free space. For the correct operation of the database, you need to free up some space or create a new DataArea volume.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} DataArea MAX bytes</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.data.max_bytes[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <units>bytes</units>
                            <description>Number of maximum possible bytes of data in DataArea</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info DataArea</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.data_max_bytes</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.infostate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} DataArea percentage</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.data.percentage[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <units>%</units>
                            <description>Percentage of used space in DataArea</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info DataArea</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.data_percentage</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.infostate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} DataArea permanent bytes</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.data.perm_bytes[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <units>bytes</units>
                            <description>Number of bytes of permanent data in DataArea</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info DataArea</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.perm_data_bytes</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.infostate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} DataArea permanent percentage</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.data.perm_percentage[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <units>%</units>
                            <description>Percentage of used space by permanent data in DataArea</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info DataArea</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.perm_data_percentage</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.infostate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} DataArea temporarily bytes</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.data.temp_data_bytes[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <units>bytes</units>
                            <description>Number of bytes of temporarily data in DataArea</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info DataArea</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.temp_data_bytes</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.infostate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} DataArea temporarily percantage</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.data.temp_data_percentage[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <units>%</units>
                            <description>Percentage of used space by temporarily data in DataArea</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info DataArea</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.temp_data_percentage</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.infostate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} DataArea volumes count</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.data.volumes_count[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>180d</trends>
                            <description>Number of DataArea volumes</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info DataArea</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.data_volumes_count</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.infostate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{diff()}&lt;&gt;0</expression>
                                    <name>{#MAXDBNAME} number of volumes in DataArea was been changed</name>
                                    <priority>INFO</priority>
                                    <description>This message informs that the number of volumes in DataArea has been changed. Disable this trigger if dynamic DataArea adjustment is enabled.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} get info state data error</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.infostate.error[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <description>Error getting info state data</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Common</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.error</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.infostate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} info state data</name>
                            <key>maxdb.infostate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            <delay>5m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <description>Data map for command &lt;info state&gt;</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Common</name>
                                </application_prototype>
                            </application_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} locks collisions</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.locks.collisions[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <description>Number of lock collisions</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Locks</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.locks_collisions</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.locks[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} locks entries average used</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.locks.entries.avgused[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <description>Number of average entries used for locks and lock requests</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Locks</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.locks_average_used_entries</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.locks[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} locks entries MAX</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.locks.entries.max[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>180d</trends>
                            <description>Number of entries available for locks and lock requests</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Locks</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.locks_max_entries</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.locks[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} get locks info error</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.locks.error[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <description>Error getting locks data</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Locks</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.error</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.locks[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} locks escalations</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.locks.escalations[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <description>Number of row locks from which the row locks are converted into table locks (lock escalation)</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Locks</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.locks_escalations</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.locks[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} locks request timeout</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.locks.requesttimeout[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <units>s</units>
                            <description>Timeout of locks request</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Locks</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.locks_request_timeout</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.locks[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} locks rows</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.locks.rows[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <description>Number of row locks held</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Locks</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.locks_row_locks</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.locks[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} locks tables</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.locks.tables[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <description>Number of table locks held</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Locks</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.locks_table_locks</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.locks[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} locks</name>
                            <key>maxdb.locks[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            <delay>5m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <description>Data map for command &lt;info locks&gt;</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Locks</name>
                                </application_prototype>
                            </application_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} LogArea auto override ON</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.log.autooverride[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Is override mode ON for LogArea</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info LogArea</name>
                                </application_prototype>
                            </application_prototypes>
                            <valuemap>
                                <name>MaxDB DBMMonitor YN</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.log_automatic_overwrite</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.log[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{change()}&lt;&gt;0</expression>
                                    <name>{#MAXDBNAME} LogArea auto override mode changed</name>
                                    <priority>INFO</priority>
                                    <description>This message informs that the LogArea overwrite mode has been changed.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} LogArea bytes</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.log.bytes[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <units>bytes</units>
                            <description>Number of bytes of data in LogArea</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info LogArea</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.log_used_size_bytes</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.log[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} get log info error</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.log.error[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <description>Error getting log info data</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info LogArea</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.error</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.log[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} LogArea is full</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.log.full[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Is LogArea full</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info LogArea</name>
                                </application_prototype>
                            </application_prototypes>
                            <valuemap>
                                <name>MaxDB DBMMonitor YN</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.log_full</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.infostate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}=1</expression>
                                    <name>{#MAXDBNAME} LogArea is full</name>
                                    <priority>HIGH</priority>
                                    <description>This error occurs when the database runs out of free LogArea space. For the correct operation of the database, you need to backup LogArea or create a new LogAre volume.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} LogArea MAX bytes</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.log.max_bytes[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <units>bytes</units>
                            <description>Number of maximum possible bytes of data in LogArea</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info LogArea</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.log_max_size_bytes</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.log[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} LogArea is mirrored</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.log.mirrored[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Is LogArea mirrored</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info LogArea</name>
                                </application_prototype>
                            </application_prototypes>
                            <valuemap>
                                <name>MaxDB DBMMonitor YN</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.log_mirrored</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.log[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{change()}&lt;&gt;0</expression>
                                    <name>{#MAXDBNAME} LogArea mirror mode changed</name>
                                    <priority>INFO</priority>
                                    <description>This message informs that the LogArea mirror mode has been changed.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} LogArea percentage</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.log.percentage[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <units>%</units>
                            <description>Percentage of used space in LogArea</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info LogArea</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.log_used_size_percentage</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.log[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} LogArea is writing</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.log.writing[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <description>Is LogArea writing</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info LogArea</name>
                                </application_prototype>
                            </application_prototypes>
                            <valuemap>
                                <name>MaxDB DBMMonitor YN</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.log_writing</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.log[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{change()}&lt;&gt;0</expression>
                                    <name>{#MAXDBNAME} LogArea writing mode changed</name>
                                    <priority>INFO</priority>
                                    <description>This message informs that the LogArea writing mode has been changed.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} LogArea info</name>
                            <key>maxdb.log[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            <delay>5m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <description>Data map for command &lt;info log&gt;</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info LogArea</name>
                                </application_prototype>
                            </application_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} get parameters difference error</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.params.diff.error[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <description>Error getting parameters difference data</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Common</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.error</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.params.diff[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} parameters difference</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.params.diff.value[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <description>List of changed DB parameters</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Common</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.diff</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.params.diff[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{strlen()}&gt;0</expression>
                                    <name>{#MAXDBNAME} parameters was been changed</name>
                                    <priority>INFO</priority>
                                    <description>This message informs about the change of one or more database parameters.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} parameters data</name>
                            <key>maxdb.params.diff[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            <delay>15m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <description>List of changed parameters for command &lt;info params&gt;</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Common</name>
                                </application_prototype>
                            </application_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} get power state error</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.power.error[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <description>Error getting power state data</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Power</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.error</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.power[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{strlen()}&gt;1</expression>
                                    <name>{#MAXDBNAME} error occurred at getting power state info</name>
                                    <priority>HIGH</priority>
                                    <description>This error occurs when an exception occurs when the maxdb-dbm-monitor library executes &lt;db_state&gt; command. You need to parse the message and fix the error.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} power state</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.power.state[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>30d</trends>
                            <description>DB power state</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Power</name>
                                </application_prototype>
                            </application_prototypes>
                            <valuemap>
                                <name>MaxDB DBMMonitor power state</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.operstate</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.power[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{nodata(16m)}=1</expression>
                                    <name>Cant get {#MAXDBNAME} power state</name>
                                    <priority>HIGH</priority>
                                    <description>This error occurs when the monitoring system cannot get data about the power state of the database for a long time. Possible reasons:&#13;
- critical database error;&#13;
- &lt;maxdb-dbm-monitor.jar&gt; library command execution error;&#13;
- no connection to the server.</description>
                                    <dependencies>
                                        <dependency>
                                            <name>{#MAXDBNAME} error occurred at getting power state info</name>
                                            <expression>{MaxDB DBMMonitor:maxdb.power.error[{#MAXDBNAME}].strlen()}&gt;1</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}=2 or {last()}=3</expression>
                                    <name>{#MAXDBNAME} is not ONLINE</name>
                                    <priority>INFO</priority>
                                    <description>This message informs that databese is up, but not in ONLINE state.</description>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}=0 or {last()}=4</expression>
                                    <name>{#MAXDBNAME} is OFFLINE</name>
                                    <priority>HIGH</priority>
                                    <description>This error occurs when the database is in the state OFFLINE or UNKNOWN.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} power state data</name>
                            <key>maxdb.power[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            <delay>5m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <description>Data map for command &lt;db_state&gt;</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Power</name>
                                </application_prototype>
                            </application_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} sessions active</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.sessions.active[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <description>Number of active sessions</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Sessions</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.sessions</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.infostate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} sessions active percentage</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.sessions.active_percentage[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <units>%</units>
                            <description>Percentage of active sessions</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Sessions</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.sessions_percentage</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.infostate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}=100</expression>
                                    <name>{#MAXDBNAME} all sessions are busy</name>
                                    <priority>HIGH</priority>
                                    <description>This error occurs when the session limit has been reached in the database, which means it is not possible to create a new connection to the database.</description>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}&gt;90</expression>
                                    <name>{#MAXDBNAME} few sessions left</name>
                                    <priority>WARNING</priority>
                                    <description>This message occurs when the number of connections to the database has almost reached the limit. It is necessary to analyze opened database connections.</description>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#MAXDBNAME} sessions MAX</name>
                            <type>DEPENDENT</type>
                            <key>maxdb.sessions.max[{#MAXDBNAME}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>180d</trends>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB Info Sessions</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.sessions_max</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>maxdb.infostate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <trigger_prototypes>
                        <trigger_prototype>
                            <expression>{MaxDB DBMMonitor:maxdb.data.percentage[{#MAXDBNAME}].last()}&gt;90 and ({MaxDB DBMMonitor:maxdb.data.max_bytes[{#MAXDBNAME}].last()}-{MaxDB DBMMonitor:maxdb.data.bytes[{#MAXDBNAME}].last()})&lt;{$MAXDB_DA_FREEBYTESLIMIT}</expression>
                            <name>{#MAXDBNAME} DataArea few space left</name>
                            <priority>WARNING</priority>
                            <description>DataArea cells are filled almost to the limit. It is necessary to analyze the increase in the amount of data in the database.</description>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{MaxDB DBMMonitor:maxdb.backup.dat.checkdaily[{#MAXDBNAME}].last()}=1 and {MaxDB DBMMonitor:maxdb.backup.dat.enddate[{#MAXDBNAME}].last()}&lt;&gt;{MaxDB DBMMonitor:maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}].date()} and {MaxDB DBMMonitor:maxdb.backup.dat.checktime[{#MAXDBNAME}].last()}&lt;{MaxDB DBMMonitor:maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}].time()}</expression>
                            <name>{#MAXDBNAME} DAT daily backup not found</name>
                            <priority>WARNING</priority>
                            <description>Daily backup process has not been started, or is still in progress.</description>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{MaxDB DBMMonitor:maxdb.backup.error[{#MAXDBNAME}].strlen()}&gt;1 or {MaxDB DBMMonitor:maxdb.cache.hitrate.error[{#MAXDBNAME}].strlen()}&gt;1 or {MaxDB DBMMonitor:maxdb.infostate.error[{#MAXDBNAME}].strlen()}&gt;1 or {MaxDB DBMMonitor:maxdb.locks.error[{#MAXDBNAME}].strlen()}&gt;1 or {MaxDB DBMMonitor:maxdb.log.error[{#MAXDBNAME}].strlen()}&gt;1 or {MaxDB DBMMonitor:maxdb.params.diff.error[{#MAXDBNAME}].strlen()}&gt;1</expression>
                            <name>{#MAXDBNAME} error occurred at getting DB info</name>
                            <priority>WARNING</priority>
                            <description>This error occurs when an exception occurs when the maxdb-dbm-monitor library executes info command. You need to parse the message and fix the error.</description>
                            <dependencies>
                                <dependency>
                                    <name>Cant get {#MAXDBNAME} power state</name>
                                    <expression>{MaxDB DBMMonitor:maxdb.power.state[{#MAXDBNAME}].nodata(16m)}=1</expression>
                                </dependency>
                                <dependency>
                                    <name>{#MAXDBNAME} all sessions are busy</name>
                                    <expression>{MaxDB DBMMonitor:maxdb.sessions.active_percentage[{#MAXDBNAME}].last()}=100</expression>
                                </dependency>
                                <dependency>
                                    <name>{#MAXDBNAME} error occurred at getting power state info</name>
                                    <expression>{MaxDB DBMMonitor:maxdb.power.error[{#MAXDBNAME}].strlen()}&gt;1</expression>
                                </dependency>
                                <dependency>
                                    <name>{#MAXDBNAME} is OFFLINE</name>
                                    <expression>{MaxDB DBMMonitor:maxdb.power.state[{#MAXDBNAME}].last()}=0 or {MaxDB DBMMonitor:maxdb.power.state[{#MAXDBNAME}].last()}=4</expression>
                                </dependency>
                            </dependencies>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{MaxDB DBMMonitor:maxdb.backup.log.successful[{#MAXDBNAME}].last()}=0 and {MaxDB DBMMonitor:maxdb.log.autooverride[{#MAXDBNAME}].last()}&lt;&gt;1</expression>
                            <name>{#MAXDBNAME} last LOG backup failed</name>
                            <priority>WARNING</priority>
                            <description>This error occurs when the last LogArea backup failed.</description>
                            <manual_close>YES</manual_close>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{MaxDB DBMMonitor:maxdb.log.percentage[{#MAXDBNAME}].last()}&gt;90 and ({MaxDB DBMMonitor:maxdb.log.max_bytes[{#MAXDBNAME}].last()}-&#13;
&#13;
{MaxDB DBMMonitor:maxdb.log.bytes[{#MAXDBNAME}].last()})&lt;{$MAXDB_LA_FREEBYTESLIMIT}</expression>
                            <name>{#MAXDBNAME} LogArea few space left</name>
                            <priority>WARNING</priority>
                            <description>LogArea cells are filled almost to the limit. It is necessary to analyze the increase in the amount of data in the LogArea or run backup task.</description>
                        </trigger_prototype>
                    </trigger_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>{#MAXDBNAME} Cahes hit rate</name>
                            <ymin_type_1>FIXED</ymin_type_1>
                            <graph_items>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <drawtype>BOLD_LINE</drawtype>
                                    <color>2774A4</color>
                                    <item>
                                        <host>MaxDB DBMMonitor</host>
                                        <key>maxdb.cache.hitrate.catalog[{#MAXDBNAME}]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>2</sortorder>
                                    <drawtype>BOLD_LINE</drawtype>
                                    <color>E64A19</color>
                                    <item>
                                        <host>MaxDB DBMMonitor</host>
                                        <key>maxdb.cache.hitrate.commandexecute[{#MAXDBNAME}]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>3</sortorder>
                                    <drawtype>BOLD_LINE</drawtype>
                                    <color>FFC107</color>
                                    <item>
                                        <host>MaxDB DBMMonitor</host>
                                        <key>maxdb.cache.hitrate.commandprepare[{#MAXDBNAME}]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>4</sortorder>
                                    <drawtype>BOLD_LINE</drawtype>
                                    <color>199C0D</color>
                                    <item>
                                        <host>MaxDB DBMMonitor</host>
                                        <key>maxdb.cache.hitrate.data[{#MAXDBNAME}]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>5</sortorder>
                                    <drawtype>BOLD_LINE</drawtype>
                                    <color>E91E63</color>
                                    <item>
                                        <host>MaxDB DBMMonitor</host>
                                        <key>maxdb.cache.hitrate.sequence[{#MAXDBNAME}]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                        <graph_prototype>
                            <name>{#MAXDBNAME} DataArea bytes used</name>
                            <ymin_type_1>FIXED</ymin_type_1>
                            <graph_items>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <drawtype>FILLED_REGION</drawtype>
                                    <color>81C784</color>
                                    <item>
                                        <host>MaxDB DBMMonitor</host>
                                        <key>maxdb.data.max_bytes[{#MAXDBNAME}]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>2</sortorder>
                                    <drawtype>FILLED_REGION</drawtype>
                                    <color>E57373</color>
                                    <item>
                                        <host>MaxDB DBMMonitor</host>
                                        <key>maxdb.data.bytes[{#MAXDBNAME}]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                        <graph_prototype>
                            <name>{#MAXDBNAME} Locks</name>
                            <graph_items>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <color>199C0D</color>
                                    <item>
                                        <host>MaxDB DBMMonitor</host>
                                        <key>maxdb.locks.collisions[{#MAXDBNAME}]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>2</sortorder>
                                    <color>F63100</color>
                                    <item>
                                        <host>MaxDB DBMMonitor</host>
                                        <key>maxdb.locks.entries.avgused[{#MAXDBNAME}]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>3</sortorder>
                                    <color>B0BEC5</color>
                                    <item>
                                        <host>MaxDB DBMMonitor</host>
                                        <key>maxdb.locks.entries.max[{#MAXDBNAME}]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>4</sortorder>
                                    <color>F7941D</color>
                                    <item>
                                        <host>MaxDB DBMMonitor</host>
                                        <key>maxdb.locks.escalations[{#MAXDBNAME}]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>5</sortorder>
                                    <drawtype>BOLD_LINE</drawtype>
                                    <color>0040FF</color>
                                    <item>
                                        <host>MaxDB DBMMonitor</host>
                                        <key>maxdb.locks.rows[{#MAXDBNAME}]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>6</sortorder>
                                    <drawtype>BOLD_LINE</drawtype>
                                    <color>FF0080</color>
                                    <item>
                                        <host>MaxDB DBMMonitor</host>
                                        <key>maxdb.locks.tables[{#MAXDBNAME}]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                        <graph_prototype>
                            <name>{#MAXDBNAME} LogArea bytes used</name>
                            <ymin_type_1>FIXED</ymin_type_1>
                            <graph_items>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <drawtype>FILLED_REGION</drawtype>
                                    <color>81C784</color>
                                    <item>
                                        <host>MaxDB DBMMonitor</host>
                                        <key>maxdb.log.max_bytes[{#MAXDBNAME}]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>2</sortorder>
                                    <drawtype>FILLED_REGION</drawtype>
                                    <color>E57373</color>
                                    <item>
                                        <host>MaxDB DBMMonitor</host>
                                        <key>maxdb.log.bytes[{#MAXDBNAME}]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                        <graph_prototype>
                            <name>{#MAXDBNAME} Sessions used</name>
                            <ymin_type_1>FIXED</ymin_type_1>
                            <graph_items>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <drawtype>FILLED_REGION</drawtype>
                                    <color>795548</color>
                                    <item>
                                        <host>MaxDB DBMMonitor</host>
                                        <key>maxdb.sessions.max[{#MAXDBNAME}]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>2</sortorder>
                                    <drawtype>FILLED_REGION</drawtype>
                                    <color>0277BD</color>
                                    <item>
                                        <host>MaxDB DBMMonitor</host>
                                        <key>maxdb.sessions.active[{#MAXDBNAME}]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>XServer discovery</name>
                    <key>xserver.discovery[{$MAXDBINIPATH},{$MAXDBEXCLUDEDB},{$MAXDBONLYDB}]</key>
                    <delay>4h</delay>
                    <lifetime>7d</lifetime>
                    <description>Discover XServer installations</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#XSERVERNAME} data</name>
                            <key>xserver.data[localhost,{#XSERVERPORT}]</key>
                            <delay>5m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <description>XServer status data</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB XServer</name>
                                </application_prototype>
                            </application_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#XSERVERNAME} error</name>
                            <type>DEPENDENT</type>
                            <key>xserver.error[{#XSERVERNAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <description>XServer checker error</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB XServer</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.error</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>xserver.data[localhost,{#XSERVERPORT}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{strlen()}&gt;1</expression>
                                    <name>{#XSERVERNAME} error occurred at getting data</name>
                                    <priority>WARNING</priority>
                                    <description>This error occurs when an exception occurs in a maxdb-dbm-monitor library call. You need to analyze the message and fix the error.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#XSERVERNAME} availability</name>
                            <type>DEPENDENT</type>
                            <key>xserver.state[{#XSERVERNAME},{#XSERVERPORT}]</key>
                            <delay>0</delay>
                            <history>30d</history>
                            <trends>90d</trends>
                            <description>XServer availability</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>SAP MaxDB XServer</name>
                                </application_prototype>
                            </application_prototypes>
                            <valuemap>
                                <name>MaxDB DBMMonitor XServer connection state</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.xserver_state</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>xserver.data[localhost,{#XSERVERPORT}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}=0</expression>
                                    <name>{#XSERVERNAME} is not available on {#XSERVERPORT}</name>
                                    <priority>WARNING</priority>
                                    <description>This error occurs when it is not possible to connect to the XServer service.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
            </discovery_rules>
            <macros>
                <macro>
                    <macro>{$MAXDBEXCLUDEDB}</macro>
                    <description>Exclude database name from DB and XServer discovery. Excluded db-names must be separated by comma (f.e. &quot;ADB,BDB&quot;).</description>
                </macro>
                <macro>
                    <macro>{$MAXDBHOST}</macro>
                    <value>localhost</value>
                    <description>Node on which the MaxDB instance is running.</description>
                </macro>
                <macro>
                    <macro>{$MAXDBINIPATH}</macro>
                    <description>ONLY FOR LINUX SYSTEMS! Absolute path to Installations.ini file (for MaxDB and XServer discovery). By default &quot;/sapdb/data/config/Installations.ini&quot;.</description>
                </macro>
                <macro>
                    <macro>{$MAXDBONLYDB}</macro>
                    <description>Discover only DB in this list (for DB instances and XServer) discovery. Db-names must be separated by comma (f.e. &quot;ADB,BDB&quot;).</description>
                </macro>
                <macro>
                    <macro>{$MAXDBPASS}</macro>
                    <description>Read-access MaxDB instance password.</description>
                </macro>
                <macro>
                    <macro>{$MAXDBPASSFILE}</macro>
                    <value>c:\zabbix\plugins\maxdb\.pass</value>
                    <description>Absolute path to the file containing authorization data. The file is prioritized. That is, if you specify authentication data both in the macroses {$MAXDBUSER}{$MAXDBPASS} and in the file, data from the file will be used.</description>
                </macro>
                <macro>
                    <macro>{$MAXDBUSER}</macro>
                    <description>Read-access MaxDB instance user.</description>
                </macro>
                <macro>
                    <macro>{$MAXDB_DA_FREEBYTESLIMIT}</macro>
                    <value>53687091200</value>
                    <description>DataArea top filling limit for triggering (by default = 50 Gbytes).</description>
                </macro>
                <macro>
                    <macro>{$MAXDB_LA_FREEBYTESLIMIT}</macro>
                    <value>53687091200</value>
                    <description>LogArea top filling limit for triggering (by default = 50 Gbytes).</description>
                </macro>
                <macro>
                    <macro>{$MAXDB_ZMACROS}</macro>
                    <value>backup_daily_dat_days=12345#backup_daily_dat_time=080000</value>
                    <description>Custom macros. This value will be returned from node with the DB response.</description>
                </macro>
            </macros>
        </template>
    </templates>
    <value_maps>
        <value_map>
            <name>MaxDB DBMMonitor backup daily check</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>SKIP</newvalue>
                </mapping>
                <mapping>
                    <value>1</value>
                    <newvalue>CHECK</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>MaxDB DBMMonitor backup state</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>UNSUCCESS</newvalue>
                </mapping>
                <mapping>
                    <value>1</value>
                    <newvalue>SUCCESS</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>NO_DATA</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>SKIP</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>MaxDB DBMMonitor power state</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>OFFLINE</newvalue>
                </mapping>
                <mapping>
                    <value>1</value>
                    <newvalue>ONLINE</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>ADMIN</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>STANDBY</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>UNKNOWN</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>MaxDB DBMMonitor switch state</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>DISABLED</newvalue>
                </mapping>
                <mapping>
                    <value>1</value>
                    <newvalue>ENABLED</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>MaxDB DBMMonitor XServer connection state</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>NOT CONNECTED</newvalue>
                </mapping>
                <mapping>
                    <value>1</value>
                    <newvalue>CONNECTED</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>SKIP</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>MaxDB DBMMonitor YN</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>NO</newvalue>
                </mapping>
                <mapping>
                    <value>1</value>
                    <newvalue>YES</newvalue>
                </mapping>
            </mappings>
        </value_map>
    </value_maps>
</zabbix_export>
