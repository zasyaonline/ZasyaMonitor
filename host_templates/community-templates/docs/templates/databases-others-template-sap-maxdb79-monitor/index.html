<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>MaxDB DBMMonitor</title>
  <link rel="stylesheet" href="/assets/css/styles.css">
  <script src="/assets/js/jquery.min.js"></script>
</head>

<body id="body">
  
  
  
  <a href="https://github.com/zabbix/community-templates/tree/main/Databases/Others/template_sap_maxdb79_monitor">
    <section class="banner-integrations">
	<div class="w container conference-header" id="training_overview" style="padding-top: 60px; min-height: 150px;">
		<div class="banner-content" style="padding-left: 0; padding-bottom: 16px;">
			<h1 class="h1 center">MaxDB DBMMonitor</h1>
		</div>
		<!-- <div class="w container">
			<div class="content text">
				<div class="grid grid-space-category center">
					
				</div>
			</div>
		</div> -->
	</div>
</section>
  </a>
  <div class="w container">
    <h2 class="h2">Available versions</h2>
    <br>
    <div class="tabs-section">
      <div id="integrations_tabs" class="tabs">
        <ul>
          
          
          <li>
            <a class="js_tab" id="ver_5_0" href="#body">ver. 5.0
            </a>
          </li>
          
          <li>
            <a class="js_tab" id="ver_6_0" href="#body">ver. 6.0
            </a>
          </li>
          
          <li>
            <a class="js_tab" id="ver_5_4" href="#body">ver. 5.4
            </a>
          </li>
          
        </ul>
      </div>
    </div>
    <br>
    <br>
    
    
    <div id="content_ver_5_0" class="readme">
      <div class="banner-buttons " style="padding-top: 20px; ">
        <a class="button button-gray" style="color: #ffff;" href="/#databases-others-template-sap-maxdb79-monitor">Back to index</a>
        <a class="button button-green" style="color: #ffff;" href="https://raw.githubusercontent.com/zabbix/community-templates/main/Databases/Others/template_sap_maxdb79_monitor/5.0/template_maxdb-dbm-monitor.xml">Download</a>
      </div>
      
      



<h1 id="sap-maxdb-monitor">SAP MaxDB Monitor</h1>

<h2 id="overview">Overview</h2>
<p>The template monitors SAP MaxDB database baselines. Сollection and transfer of data from the database to the Zabbix 
agent is performed by the custom library <strong>maxdb-dbm-monitor.jar</strong>, which in turn uses <strong>sapdbc.jar</strong> from 
<a href="https://help.sap.com/docs/SAP_NETWEAVER_DBOS/e55b190e1c0b462bbaabd2ad8eb6a692/e9005dac1592496783e26133eb7fad0b.html">SAP MaxDB Database Studio</a>. 
All indicators of the database are retrieved by commands similar to the Database Studio console; the library does not 
directly access database tables by SQL queries.<br />
Detailed description of the template are located here <a href="https://github.com/onlycrab/maxdb-dbm-monitor/tree/master/src/zabbix">https://github.com/onlycrab/maxdb-dbm-monitor/tree/master/src/zabbix</a>.</p>

<h2 id="author">Author</h2>
<p>Roman Rynkovich</p>

<h2 id="how-to-add-plugin-to-zabbix-agent">How to add plugin to zabbix-agent</h2>
<h3 id="standalone-server">Standalone server</h3>
<ol>
  <li>Place the contents of the <code class="language-plaintext highlighter-rouge">zabbixRoot</code> directory from the <code class="language-plaintext highlighter-rouge">maxdb-dbm-monitor-zabbix.zip</code> archive into the root 
directory of the zabbix-agent configuration. Make changes to the agent configuration file, similar to the file 
<code class="language-plaintext highlighter-rouge">~zabbix_agentd.conf</code>. If you are already using the <code class="language-plaintext highlighter-rouge">Include</code> directive, change it or place <code class="language-plaintext highlighter-rouge">maxdb.conf</code> so that <code class="language-plaintext highlighter-rouge">maxdb.conf</code> 
match within its definition.</li>
  <li>Place the <code class="language-plaintext highlighter-rouge">maxdb-dbm-monior.jar</code> and <code class="language-plaintext highlighter-rouge">sapdbc.jar</code> libraries in the <code class="language-plaintext highlighter-rouge">&lt;zabbixRoot&gt;\plugins\maxdb\</code> directory.</li>
  <li>For linux-like systems, make sure the zabbix-agent daemon has enough access to the plugin’s directories and files.</li>
  <li>Restart the zabbix-agent service.</li>
  <li>Make sure the settings are correct. To do this, follow<br />
for Windows<br />
<code class="language-plaintext highlighter-rouge">&lt;zabbixRoot&gt;\zabbix-agentd.exe -c &lt;zabbixRoot&gt;\zabbix-agentd.conf -t maxdb.discovery[]</code><br />
for Linux<br />
<code class="language-plaintext highlighter-rouge">/usr/sbin/zabbix-agentd -c &lt;zabbixRoot&gt;/zabbix-agentd.conf -t maxdb.discovery[]</code><br />
If the settings are correct, you will get a list of MaxDB database names as a result, or an empty list if the MaxDB 
database is not found.<br />
In case of an error in the settings, the result of the command will contain a textual description of the error.
    <h3 id="microsoft-failover-cluster">Microsoft failover cluster</h3>
  </li>
  <li>In order to correctly connect the cluster object to zabbix, you need to install a second instance of zabbix-agent 
service on each cluster node. Cmd command example:<br />
<code class="language-plaintext highlighter-rouge">sc create "Zabbix Agent Cluster" binPath= "c:\zabbixCluster\zabbix_agentd.exe -c c:\zabbixCluster\zabbix_agentd.win.conf" displayname= "Zabbix Agent Cluster" start= auto</code></li>
  <li>On the zabbix-server, create a host for the cluster object.</li>
  <li>Then follow all steps in sequence as for the case with a standalone server.</li>
</ol>

<h2 id="macros-used">Macros used</h2>
<p>|Name|Description|Default|Type|
|—-|———–|——-|—-|
|{$MAXDBHOST}|&lt;p&gt;Node on which the MaxDB instance is running.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">localhost</code>|Text macro|
|{$MAXDBUSER}|&lt;p&gt;Read-access MaxDB instance user.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">|Text macro|
|{$MAXDBPASS}|&lt;p&gt;Read-access MaxDB instance password.&lt;/p&gt;|</code>|Text macro|
|{$MAXDBPASSFILE}|&lt;p&gt;Absolute path to the file containing authorization data. The file is prioritized. That is, if you specify authentication data both in the macroses {$MAXDBUSER}{$MAXDBPASS} and in the file, data from the file will be used.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">c:\zabbix\plugins\maxdb\.pass</code>|Text macro|
|{$MAXDBINIPATH}|&lt;p&gt;ONLY FOR LINUX SYSTEMS! Absolute path to Installations.ini file (for MaxDB and XServer discovery). By default “/sapdb/data/config/Installations.ini”.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">|Text macro|
|{$MAXDBEXCLUDEDB}|&lt;p&gt;Exclude database name from DB and XServer discovery. Excluded db-names must be separated by comma (f.e. "ADB,BDB").&lt;/p&gt;|</code>|Text macro|
|{$MAXDBONLYDB}|&lt;p&gt;Discover only DB in this list (for DB instances and XServer) discovery. Db-names must be separated by comma (f.e. “ADB,BDB”).&lt;/p&gt;|``|Text macro|
|{$MAXDB_DA_FREEBYTESLIMIT}|&lt;p&gt;DataArea top filling limit for triggering (by default = 50 Gbytes).&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">52427776</code>|Text macro|
|{$MAXDB_LA_FREEBYTESLIMIT}|&lt;p&gt;LogArea top filling limit for triggering (by default = 50 Gbytes).&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">52427776</code>|Text macro|
|{$MAXDB_ZMACROS}|&lt;p&gt;Custom macros. This value will be returned from node with the DB response.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">backup_daily_dat_days=12345#backup_daily_dat_time=080000</code>|Text macro|</p>

<h2 id="template-links">Template links</h2>
<p>There are no template links in this template.</p>

<h2 id="discovery-rules">Discovery rules</h2>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|MaxDB discovery|&lt;p&gt;Discover of MaxDB installations&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Zabbix agent</code>|maxdb.discovery[{$MAXDBINIPATH},{$MAXDBEXCLUDEDB},{$MAXDBONLYDB}]&lt;p&gt;Update: 4h&lt;/p&gt;|
|XServer discovery|&lt;p&gt;Discovery of XServer installations&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Zabbix agent</code>|xserver.discovery[{$MAXDBINIPATH},{$MAXDBEXCLUDEDB},{$MAXDBONLYDB}]&lt;p&gt;Update: 4h&lt;/p&gt;|</p>

<h2 id="items-collected">Items collected</h2>
<h3 id="xserver">XServer</h3>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|{#XSERVERNAME} data|&lt;p&gt;XServer status data&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Zabbix agent</code>|xserver.data[localhost,{#XSERVERPORT}]&lt;p&gt;Update: 5m&lt;/p&gt;|
|{#XSERVERNAME} availability|&lt;p&gt;XServer availability&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|xserver.state[{#XSERVERNAME},{#XSERVERPORT}]|
|{#XSERVERNAME} error|&lt;p&gt;XServer checker error&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|xserver.error[{#XSERVERNAME}]|</p>
<h3 id="power">Power</h3>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|{#MAXDBNAME} power state data|&lt;p&gt;Data map for command <db_state>&lt;/p&gt;|`Zabbix agent`|maxdb.power[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]&lt;p&gt;Update: 5m&lt;/p&gt;|
|{#MAXDBNAME} power state|&lt;p&gt;DB power state&lt;/p&gt;|`Dependent item`|maxdb.power.state[{#MAXDBNAME}]|
|{#MAXDBNAME} get power state error|&lt;p&gt;Error getting power state data&lt;/p&gt;|`Dependent item`|maxdb.power.error[{#MAXDBNAME}]|</db_state></p>
<h3 id="info-state">Info state</h3>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|{#MAXDBNAME} info state data|&lt;p&gt;Data map for command <info state="">&lt;/p&gt;|`Zabbix agent`|maxdb.infostate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]&lt;p&gt;Update: 5m&lt;/p&gt;|
|{#MAXDBNAME} Bad devspaces count|&lt;p&gt;Number of bad devspases&lt;/p&gt;|`Dependent item`|maxdb.common.bad_devspaces[{#MAXDBNAME}]|
|{#MAXDBNAME} Bad indexes count|&lt;p&gt;Number of bad indexes&lt;/p&gt;|`Dependent item`|maxdb.common.bad_indexes[{#MAXDBNAME}]|
|{#MAXDBNAME} Command monitoring|&lt;p&gt;Is command monitoring enabled&lt;/p&gt;|`Dependent item`|maxdb.common.command_monitoring[{#MAXDBNAME}]|
|{#MAXDBNAME} Connect possible|&lt;p&gt;Is it possible to create a new connection to {#MAXDBNAME}&lt;/p&gt;|`Dependent item`|maxdb.common.connect_possible[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea bytes|&lt;p&gt;Number of bytes of data in DataArea&lt;/p&gt;|`Dependent item`|maxdb.data.bytes[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea is full|&lt;p&gt;Is DataArea full&lt;/p&gt;|`Dependent item`|maxdb.data.full[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea MAX bytes|&lt;p&gt;Number of maximum possible bytes of data in DataArea&lt;/p&gt;|`Dependent item`|maxdb.data.max_bytes[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea percentage|&lt;p&gt;Percentage of used space in DataArea&lt;/p&gt;|`Dependent item`|maxdb.data.percentage[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea permanent bytes|&lt;p&gt;Number of bytes of permanent data in DataArea&lt;/p&gt;|`Dependent item`|maxdb.data.perm_bytes[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea permanent percentage|&lt;p&gt;Percentage of used space by permanent data in DataArea&lt;/p&gt;|`Dependent item`|maxdb.data.perm_percentage[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea temporarily bytes|&lt;p&gt;Number of bytes of temporarily data in DataArea&lt;/p&gt;|`Dependent item`|maxdb.data.temp_data_bytes[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea temporarily percentage|&lt;p&gt;Percentage of used space by temporarily data in DataArea&lt;/p&gt;|`Dependent item`|maxdb.data.temp_data_percentage[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea volumes count|&lt;p&gt;Number of DataArea volumes&lt;/p&gt;|`Dependent item`|maxdb.data.volumes_count[{#MAXDBNAME}]|
|{#MAXDBNAME} DB monitoring|&lt;p&gt;Is database monitoring enabled&lt;/p&gt;|`Dependent item`|maxdb.common.database_monitoring[{#MAXDBNAME}]|
|{#MAXDBNAME} get info state data error|&lt;p&gt;Error getting info state data&lt;/p&gt;|`Dependent item`|maxdb.infostate.error[{#MAXDBNAME}]|
|{#MAXDBNAME} Kernel trace|&lt;p&gt;Is kernel trace enabled&lt;/p&gt;|`Dependent item`|maxdb.common.kernel_trace[{#MAXDBNAME}]|
|{#MAXDBNAME} LogArea is full|&lt;p&gt;Is LogArea full&lt;/p&gt;|`Dependent item`|maxdb.log.full[{#MAXDBNAME}]|
|{#MAXDBNAME} sessions active|&lt;p&gt;Number of active sessions&lt;/p&gt;|`Dependent item`|maxdb.sessions.active[{#MAXDBNAME}]|
|{#MAXDBNAME} sessions active percentage|&lt;p&gt;Percentage of active sessions&lt;/p&gt;|`Dependent item`|maxdb.sessions.active_percentage[{#MAXDBNAME}]|
|{#MAXDBNAME} sessions MAX|&lt;p&gt;Number of maximum possible sessions&lt;/p&gt;|`Dependent item`|maxdb.sessions.max[{#MAXDBNAME}]|</info></p>
<h3 id="log">Log</h3>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|{#MAXDBNAME} LogArea info|&lt;p&gt;Data map for command <info log="">&lt;/p&gt;|`Zabbix agent`|maxdb.log[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]&lt;p&gt;Update: 5m&lt;/p&gt;|
|{#MAXDBNAME} get log info error|&lt;p&gt;Error getting log info data&lt;/p&gt;|`Dependent item`|maxdb.log.error[{#MAXDBNAME}]|
|{#MAXDBNAME} LogArea bytes|&lt;p&gt;Number of bytes of data in LogArea&lt;/p&gt;|`Dependent item`|maxdb.log.bytes[{#MAXDBNAME}]|
|{#MAXDBNAME} LogArea MAX bytes|&lt;p&gt;Number of maximum possible bytes of data in LogArea&lt;/p&gt;|`Dependent item`|maxdb.log.max_bytes[{#MAXDBNAME}]|
|{#MAXDBNAME} LogArea percentage|&lt;p&gt;Percentage of used space in LogArea&lt;/p&gt;|`Dependent item`|maxdb.log.percentage[{#MAXDBNAME}]|
|{#MAXDBNAME} LogArea auto override ON|&lt;p&gt;Is override mode ON for LogArea&lt;/p&gt;|`Dependent item`|maxdb.log.autooverride[{#MAXDBNAME}]|
|{#MAXDBNAME} LogArea is mirrored|&lt;p&gt;Is LogArea mirrored&lt;/p&gt;|`Dependent item`|maxdb.log.mirrored[{#MAXDBNAME}]|
|{#MAXDBNAME} LogArea is writing|&lt;p&gt;Is LogArea writing&lt;/p&gt;|`Dependent item`|maxdb.log.writing[{#MAXDBNAME}]|</info></p>
<h3 id="parameters">Parameters</h3>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|{#MAXDBNAME} parameters data|&lt;p&gt;List of changed parameters for command <info params="">&lt;/p&gt;|`Zabbix agent`|maxdb.params.diff[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]&lt;p&gt;Update: 15m&lt;/p&gt;|
|{#MAXDBNAME} parameters difference|&lt;p&gt;List of changed DB parameters&lt;/p&gt;|`Dependent item`|maxdb.params.diff.value[{#MAXDBNAME}]|
|{#MAXDBNAME} get parameters difference error|&lt;p&gt;Error getting parameters difference data&lt;/p&gt;|`Dependent item`|maxdb.params.diff.error[{#MAXDBNAME}]|</info></p>
<h3 id="cache-hit-rate">Cache hit rate</h3>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|{#MAXDBNAME} cache hit rate|&lt;p&gt;Data map for command <info caches="">&lt;/p&gt;|`Zabbix agent`|maxdb.cache.hitrate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]&lt;p&gt;Update: 5m&lt;/p&gt;|
|{#MAXDBNAME} Cache catalog hit rate|&lt;p&gt;Percentage of successful accesses to catalog cache&lt;/p&gt;|`Dependent item`|maxdb.cache.hitrate.catalog[{#MAXDBNAME}]|
|{#MAXDBNAME} Cache command execute hit rate|&lt;p&gt;Percentage of successful accesses to command execute cache&lt;/p&gt;|`Dependent item`|maxdb.cache.hitrate.commandexecute[{#MAXDBNAME}]|
|{#MAXDBNAME} Cache command prepare hit rate|&lt;p&gt;Percentage of successful accesses to command prepare cache&lt;/p&gt;|`Dependent item`|maxdb.cache.hitrate.commandprepare[{#MAXDBNAME}]|
|{#MAXDBNAME} Cache data hit rate|&lt;p&gt;Percentage of successful accesses to data cache&lt;/p&gt;|`Dependent item`|maxdb.cache.hitrate.data[{#MAXDBNAME}]|
|{#MAXDBNAME} Cache sequence hit rate|&lt;p&gt;Percentage of successful accesses to sequence cache&lt;/p&gt;|`Dependent item`|maxdb.cache.hitrate.sequence[{#MAXDBNAME}]|
|{#MAXDBNAME} get caches hitrate error|&lt;p&gt;Error getting caches hitrate data&lt;/p&gt;|`Dependent item`|maxdb.cache.hitrate.error[{#MAXDBNAME}]|</info></p>
<h3 id="locks">Locks</h3>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|{#MAXDBNAME} locks|&lt;p&gt;Data map for command <info locks="">&lt;/p&gt;|`Zabbix agent`|maxdb.locks[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]&lt;p&gt;Update: 5m&lt;/p&gt;|
|{#MAXDBNAME} locks collisions|&lt;p&gt;Number of lock collisions&lt;/p&gt;|`Dependent item`|maxdb.locks.collisions[{#MAXDBNAME}]|
|{#MAXDBNAME} locks entries average used|&lt;p&gt;Number of average entries used for locks and lock requests&lt;/p&gt;|`Dependent item`|maxdb.locks.entries.avgused[{#MAXDBNAME}]|
|{#MAXDBNAME} locks entries MAX|&lt;p&gt;Number of entries available for locks and lock requests&lt;/p&gt;|`Dependent item`|maxdb.locks.entries.max[{#MAXDBNAME}]|
|{#MAXDBNAME} locks escalations|&lt;p&gt;Number of row locks from which the row locks are converted into table locks (lock escalation)&lt;/p&gt;|`Dependent item`|maxdb.locks.escalations[{#MAXDBNAME}]|
|{#MAXDBNAME} locks request timeout|&lt;p&gt;Timeout of locks request&lt;/p&gt;|`Dependent item`|maxdb.locks.requesttimeout[{#MAXDBNAME}]|
|{#MAXDBNAME} locks rows|&lt;p&gt;Number of row locks held&lt;/p&gt;|`Dependent item`|maxdb.locks.rows[{#MAXDBNAME}]|
|{#MAXDBNAME} locks tables|&lt;p&gt;Number of table locks held&lt;/p&gt;|`Dependent item`|maxdb.locks.tables[{#MAXDBNAME}]|
|{#MAXDBNAME} get locks info error|&lt;p&gt;Error getting locks data&lt;/p&gt;|`Dependent item`|maxdb.locks.error[{#MAXDBNAME}]|</info></p>
<h3 id="backup">Backup</h3>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|{#MAXDBNAME} backup data|&lt;p&gt;Data map for command &lt;backup_history_list -c LABEL,START,STOP,RC,ERROR -Inverted&gt;&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Zabbix agent</code>|maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]&lt;p&gt;Update: 30m&lt;/p&gt;|
|{#MAXDBNAME} get backup info error|&lt;p&gt;Error getting backup status data&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.error[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT daily ckeck time|&lt;p&gt;Time of day from which the status of the daily copy will be checked&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.checktime[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT daily ckeck today|&lt;p&gt;Flag whether it is necessary to check the status of the daily copy today&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.checkdaily[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT duration|&lt;p&gt;Last DataArea backup duration&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.duration[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT end date|&lt;p&gt;Last DataArea backup end date&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.enddate[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT end time|&lt;p&gt;Last DataArea backup end time&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.endtime[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT message|&lt;p&gt;Last DataArea backup message&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.message[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT number|&lt;p&gt;Last DataArea backup number&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.number[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT start date|&lt;p&gt;Last DataArea backup start date&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.startdate[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT start time|&lt;p&gt;Last DataArea backup start time&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.starttime[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT successful|&lt;p&gt;Is Last DataArea backup successful&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.successful[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup LOG duration|&lt;p&gt;Last LogArea backup duration&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.log.duration[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup LOG end date|&lt;p&gt;Last LogArea backup end date&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.log.enddate[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup LOG end time|&lt;p&gt;Last LogArea backup end time&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.log.endtime[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup LOG message|&lt;p&gt;Last LogArea backup message&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.log.message[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup LOG number|&lt;p&gt;Last LogArea backup number&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.log.number[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup LOG start date|&lt;p&gt;Last LogArea backup start date&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.log.startdate[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup LOG start time|&lt;p&gt;Last LogArea backup start time&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.log.starttime[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup LOG successful|&lt;p&gt;Is Last LogArea backup successful&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.log.successful[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup PAG duration|&lt;p&gt;Last DataArea incremental backup duration&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.pag.duration[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup PAG end date|&lt;p&gt;Last DataArea incremental backup end date&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.pag.enddate[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup PAG end time|&lt;p&gt;Last DataArea incremental backup end time&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.pag.endtime[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup PAG message|&lt;p&gt;Last DataArea incremental backup message&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.pag.message[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup PAG number|&lt;p&gt;Last DataArea incremental backup number&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.pag.number[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup PAG start date|&lt;p&gt;Last DataArea incremental backup start date&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.pag.startdate[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup PAG start time|&lt;p&gt;Last DataArea incremental backup start time&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.pag.starttime[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup PAG successful|&lt;p&gt;Is last DataArea incremental backup successful&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.pag.successful[{#MAXDBNAME}]|</p>

<h2 id="triggers">Triggers</h2>
<p>|Name|Description|Expression|Priority|
|—-|———–|———-|——–|
|Cant get {#MAXDBNAME} power state|&lt;p&gt;This error occurs when the monitoring system cannot get data about the power state of the database for a long time. Possible reasons: - critical database error; - <maxdb-dbm-monitor.jar> library command execution error; - no connection to the server.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.power.state[{#MAXDBNAME}].nodata(16m)}=1&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|hight|
|{#MAXDBNAME} all sessions are busy|&lt;p&gt;This error occurs when the session limit has been reached in the database, which means it is not possible to create a new connection to the database.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.sessions.active_percentage[{#MAXDBNAME}].last()}=100&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|hight|
|{#MAXDBNAME} DataArea is full|&lt;p&gt;This error occurs when the database runs out of free space. For the correct operation of the database, you need to free up some space or create a new DataArea volume.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.data.full[{#MAXDBNAME}].last()}=1&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|hight|
|{#MAXDBNAME} error occurred at getting power state info|&lt;p&gt;This error occurs when an exception occurs when the maxdb-dbm-monitor library executes <db_state> command. You need to analyze the message and fix the error.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.power.error[{#MAXDBNAME}].strlen()}&gt;1&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|hight|
|{#MAXDBNAME} is OFFLINE|&lt;p&gt;This error occurs when the database is in the state OFFLINE or UNKNOWN.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.power.state[{#MAXDBNAME}].last()}=0 or {MaxDB DBMMonitor:maxdb.power.state[{#MAXDBNAME}].last()}=4&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|hight|
|{#MAXDBNAME} LogArea is full|&lt;p&gt;This error occurs when the database runs out of free LogArea space. For the correct operation of the database, you need to backup LogArea or create a new LogAre volume.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.log.full[{#MAXDBNAME}].last()}=1&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|hight|
|{#XSERVERNAME} is not available on {#XSERVERPORT}|&lt;p&gt;This error occurs when it is not possible to connect to the XServer service.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:xserver.state[{#XSERVERNAME},{#XSERVERPORT}].last()}=0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#XSERVERNAME} error occurred at getting data|&lt;p&gt;This error occurs when an exception occurs in a maxdb-dbm-monitor library call. You need to analyze the message and fix the error.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:xserver.error[{#XSERVERNAME}].strlen()}&gt;1&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} connect not possible|&lt;p&gt;This error occurs when the DB reports that it cannot be connected to.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.common.connect_possible[{#MAXDBNAME}].last()}=0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} DataArea few space left|&lt;p&gt;DataArea cells are filled almost to the limit. It is necessary to analyze the increase in the amount of data in the database.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.data.percentage[{#MAXDBNAME}].last()}&gt;90 and ({MaxDB DBMMonitor:maxdb.data.max_bytes[{#MAXDBNAME}].last()}-{MaxDB DBMMonitor:maxdb.data.bytes[{#MAXDBNAME}].last()})&lt;{$MAXDB_DA_FREEBYTESLIMIT}&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} DAT daily backup not found|&lt;p&gt;Daily backup process has not been started, or is still in progress.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.backup.dat.checkdaily[{#MAXDBNAME}].last()}=1 and {MaxDB DBMMonitor:maxdb.backup.dat.enddate[{#MAXDBNAME}].last()}&lt;&gt;{MaxDB DBMMonitor:maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}].date()} and {MaxDB DBMMonitor:maxdb.backup.dat.checktime[{#MAXDBNAME}].last()}&lt;{MaxDB DBMMonitor:maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}].time()}&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} error occurred at getting DB info|&lt;p&gt;This error occurs when an exception occurs when the maxdb-dbm-monitor library executes info command. You need to parse the message and fix the error.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.backup.error[{#MAXDBNAME}].strlen()}&gt;1 or {MaxDB DBMMonitor:maxdb.cache.hitrate.error[{#MAXDBNAME}].strlen()}&gt;1 or {MaxDB DBMMonitor:maxdb.infostate.error[{#MAXDBNAME}].strlen()}&gt;1 or {MaxDB DBMMonitor:maxdb.locks.error[{#MAXDBNAME}].strlen()}&gt;1 or {MaxDB DBMMonitor:maxdb.log.error[{#MAXDBNAME}].strlen()}&gt;1 or {MaxDB DBMMonitor:maxdb.params.diff.error[{#MAXDBNAME}].strlen()}&gt;1&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} few sessions left|&lt;p&gt;This message occurs when the number of connections to the database has almost reached the limit. It is necessary to analyze opened database connections.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.sessions.active_percentage[{#MAXDBNAME}].last()}&gt;90&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} last DAT backup failed|&lt;p&gt;This error occurs when the last DataArea full backup failed.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.backup.dat.successful[{#MAXDBNAME}].last()}=0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} last LOG backup failed|&lt;p&gt;This error occurs when the last LogArea backup failed.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.backup.log.successful[{#MAXDBNAME}].last()}=0 and {MaxDB DBMMonitor:maxdb.log.autooverride[{#MAXDBNAME}].last()}&lt;&gt;1&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} last PAG backup failed|&lt;p&gt;This error occurs when the last DataArea incremental backup failed.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.backup.pag.successful[{#MAXDBNAME}].last()}=0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} LogArea few space left|&lt;p&gt;LogArea cells are filled almost to the limit. It is necessary to analyze the increase in the amount of data in the LogArea or run backup task.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.log.percentage[{#MAXDBNAME}].last()}&gt;90 and ({MaxDB DBMMonitor:maxdb.log.max_bytes[{#MAXDBNAME}].last()}-{MaxDB DBMMonitor:maxdb.log.bytes[{#MAXDBNAME}].last()})&lt;{$MAXDB_LA_FREEBYTESLIMIT}&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|There are new bad devspaces in the database {#MAXDBNAME}|&lt;p&gt;This message informs that there are new bad devspaces in the database.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.common.bad_devspaces[{#MAXDBNAME}].change()}&gt;0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|There are new bad indexes in the database {#MAXDBNAME}|&lt;p&gt;This message informs that there are new bad indexes in the database.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.common.bad_indexes[{#MAXDBNAME}].change()}&gt;0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} command monitoring disabled|&lt;p&gt;This message informs that command monitoring mode has been disabled in the database.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.common.command_monitoring[{#MAXDBNAME}].last()}=0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} database monitoring disabled|&lt;p&gt;This message informs that databese monitoring mode has been disabled in the database.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.common.database_monitoring[{#MAXDBNAME}].last()}=0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} is not ONLINE|&lt;p&gt;This message informs that databese is up, but not in ONLINE state.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.power.state[{#MAXDBNAME}].last()}=2 or {MaxDB DBMMonitor:maxdb.power.state[{#MAXDBNAME}].last()}=3&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} kernel trace disabled|&lt;p&gt;This message informs that kernel trace mode has been disabled in the database.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.common.kernel_trace[{#MAXDBNAME}].last()}=0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} LogArea auto override mode changed|&lt;p&gt;This message informs that the LogArea overwrite mode has been changed.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.log.autooverride[{#MAXDBNAME}].change()}&lt;&gt;0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} LogArea mirror mode changed|&lt;p&gt;This message informs that the LogArea mirror mode has been changed.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.log.mirrored[{#MAXDBNAME}].change()}&lt;&gt;0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} LogArea writing mode changed|&lt;p&gt;This message informs that the LogArea writing mode has been changed.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.log.writing[{#MAXDBNAME}].change()}&lt;&gt;0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} number of volumes in DataArea was been changed|&lt;p&gt;This message informs that the number of volumes in DataArea has been changed. Disable this trigger if dynamic DataArea adjustment is enabled.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.data.volumes_count[{#MAXDBNAME}].diff()}&lt;&gt;0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} parameters was been changed|&lt;p&gt;This message informs about the change of one or more database parameters.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.params.diff.value[{#MAXDBNAME}].strlen()}&gt;0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|</db_state></maxdb-dbm-monitor.jar></p>


    </div>
    
    
    <div id="content_ver_6_0" class="readme">
      <div class="banner-buttons " style="padding-top: 20px; ">
        <a class="button button-gray" style="color: #ffff;" href="/#databases-others-template-sap-maxdb79-monitor">Back to index</a>
        <a class="button button-green" style="color: #ffff;" href="https://raw.githubusercontent.com/zabbix/community-templates/main/Databases/Others/template_sap_maxdb79_monitor/6.0/template_maxdb-dbm-monitor.yaml">Download</a>
      </div>
      
      



<h1 id="sap-maxdb-monitor">SAP MaxDB Monitor</h1>

<h2 id="overview">Overview</h2>
<p>The template monitors SAP MaxDB database baselines. Сollection and transfer of data from the database to the Zabbix 
agent is performed by the custom library <strong>maxdb-dbm-monitor.jar</strong>, which in turn uses <strong>sapdbc.jar</strong> from 
<a href="https://help.sap.com/docs/SAP_NETWEAVER_DBOS/e55b190e1c0b462bbaabd2ad8eb6a692/e9005dac1592496783e26133eb7fad0b.html">SAP MaxDB Database Studio</a>. 
All indicators of the database are retrieved by commands similar to the Database Studio console; the library does not 
directly access database tables by SQL queries.<br />
Detailed description of the template are located here <a href="https://github.com/onlycrab/maxdb-dbm-monitor/tree/master/src/zabbix">https://github.com/onlycrab/maxdb-dbm-monitor/tree/master/src/zabbix</a>.</p>

<h2 id="author">Author</h2>
<p>Roman Rynkovich</p>

<h2 id="how-to-add-plugin-to-zabbix-agent">How to add plugin to zabbix-agent</h2>
<h3 id="standalone-server">Standalone server</h3>
<ol>
  <li>Place the contents of the <code class="language-plaintext highlighter-rouge">zabbixRoot</code> directory from the <code class="language-plaintext highlighter-rouge">maxdb-dbm-monitor-zabbix.zip</code> archive into the root 
directory of the zabbix-agent configuration. Make changes to the agent configuration file, similar to the file 
<code class="language-plaintext highlighter-rouge">~zabbix_agentd.conf</code>. If you are already using the <code class="language-plaintext highlighter-rouge">Include</code> directive, change it or place <code class="language-plaintext highlighter-rouge">maxdb.conf</code> so that <code class="language-plaintext highlighter-rouge">maxdb.conf</code> 
match within its definition.</li>
  <li>Place the <code class="language-plaintext highlighter-rouge">maxdb-dbm-monior.jar</code> and <code class="language-plaintext highlighter-rouge">sapdbc.jar</code> libraries in the <code class="language-plaintext highlighter-rouge">&lt;zabbixRoot&gt;\plugins\maxdb\</code> directory.</li>
  <li>For linux-like systems, make sure the zabbix-agent daemon has enough access to the plugin’s directories and files.</li>
  <li>Restart the zabbix-agent service.</li>
  <li>Make sure the settings are correct. To do this, follow<br />
for Windows<br />
<code class="language-plaintext highlighter-rouge">&lt;zabbixRoot&gt;\zabbix-agentd.exe -c &lt;zabbixRoot&gt;\zabbix-agentd.conf -t maxdb.discovery[]</code><br />
for Linux<br />
<code class="language-plaintext highlighter-rouge">/usr/sbin/zabbix-agentd -c &lt;zabbixRoot&gt;/zabbix-agentd.conf -t maxdb.discovery[]</code><br />
If the settings are correct, you will get a list of MaxDB database names as a result, or an empty list if the MaxDB 
database is not found.<br />
In case of an error in the settings, the result of the command will contain a textual description of the error.
    <h3 id="microsoft-failover-cluster">Microsoft failover cluster</h3>
  </li>
  <li>In order to correctly connect the cluster object to zabbix, you need to install a second instance of zabbix-agent 
service on each cluster node. Cmd command example:<br />
<code class="language-plaintext highlighter-rouge">sc create "Zabbix Agent Cluster" binPath= "c:\zabbixCluster\zabbix_agentd.exe -c c:\zabbixCluster\zabbix_agentd.win.conf" displayname= "Zabbix Agent Cluster" start= auto</code></li>
  <li>On the zabbix-server, create a host for the cluster object.</li>
  <li>Then follow all steps in sequence as for the case with a standalone server.</li>
</ol>

<h2 id="macros-used">Macros used</h2>
<p>|Name|Description|Default|Type|
|—-|———–|——-|—-|
|{$MAXDBHOST}|&lt;p&gt;Node on which the MaxDB instance is running.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">localhost</code>|Text macro|
|{$MAXDBUSER}|&lt;p&gt;Read-access MaxDB instance user.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">|Text macro|
|{$MAXDBPASS}|&lt;p&gt;Read-access MaxDB instance password.&lt;/p&gt;|</code>|Text macro|
|{$MAXDBPASSFILE}|&lt;p&gt;Absolute path to the file containing authorization data. The file is prioritized. That is, if you specify authentication data both in the macroses {$MAXDBUSER}{$MAXDBPASS} and in the file, data from the file will be used.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">c:\zabbix\plugins\maxdb\.pass</code>|Text macro|
|{$MAXDBINIPATH}|&lt;p&gt;ONLY FOR LINUX SYSTEMS! Absolute path to Installations.ini file (for MaxDB and XServer discovery). By default “/sapdb/data/config/Installations.ini”.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">|Text macro|
|{$MAXDBEXCLUDEDB}|&lt;p&gt;Exclude database name from DB and XServer discovery. Excluded db-names must be separated by comma (f.e. "ADB,BDB").&lt;/p&gt;|</code>|Text macro|
|{$MAXDBONLYDB}|&lt;p&gt;Discover only DB in this list (for DB instances and XServer) discovery. Db-names must be separated by comma (f.e. “ADB,BDB”).&lt;/p&gt;|``|Text macro|
|{$MAXDB_DA_FREEBYTESLIMIT}|&lt;p&gt;DataArea top filling limit for triggering (by default = 50 Gbytes).&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">52427776</code>|Text macro|
|{$MAXDB_LA_FREEBYTESLIMIT}|&lt;p&gt;LogArea top filling limit for triggering (by default = 50 Gbytes).&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">52427776</code>|Text macro|
|{$MAXDB_ZMACROS}|&lt;p&gt;Custom macros. This value will be returned from node with the DB response.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">backup_daily_dat_days=12345#backup_daily_dat_time=080000</code>|Text macro|</p>

<h2 id="template-links">Template links</h2>
<p>There are no template links in this template.</p>

<h2 id="discovery-rules">Discovery rules</h2>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|MaxDB discovery|&lt;p&gt;Discover of MaxDB installations&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Zabbix agent</code>|maxdb.discovery[{$MAXDBINIPATH},{$MAXDBEXCLUDEDB},{$MAXDBONLYDB}]&lt;p&gt;Update: 4h&lt;/p&gt;|
|XServer discovery|&lt;p&gt;Discovery of XServer installations&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Zabbix agent</code>|xserver.discovery[{$MAXDBINIPATH},{$MAXDBEXCLUDEDB},{$MAXDBONLYDB}]&lt;p&gt;Update: 4h&lt;/p&gt;|</p>

<h2 id="items-collected">Items collected</h2>
<h3 id="xserver">XServer</h3>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|{#XSERVERNAME} data|&lt;p&gt;XServer status data&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Zabbix agent</code>|xserver.data[localhost,{#XSERVERPORT}]&lt;p&gt;Update: 5m&lt;/p&gt;|
|{#XSERVERNAME} availability|&lt;p&gt;XServer availability&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|xserver.state[{#XSERVERNAME},{#XSERVERPORT}]|
|{#XSERVERNAME} error|&lt;p&gt;XServer checker error&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|xserver.error[{#XSERVERNAME}]|</p>
<h3 id="power">Power</h3>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|{#MAXDBNAME} power state data|&lt;p&gt;Data map for command <db_state>&lt;/p&gt;|`Zabbix agent`|maxdb.power[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]&lt;p&gt;Update: 5m&lt;/p&gt;|
|{#MAXDBNAME} power state|&lt;p&gt;DB power state&lt;/p&gt;|`Dependent item`|maxdb.power.state[{#MAXDBNAME}]|
|{#MAXDBNAME} get power state error|&lt;p&gt;Error getting power state data&lt;/p&gt;|`Dependent item`|maxdb.power.error[{#MAXDBNAME}]|</db_state></p>
<h3 id="info-state">Info state</h3>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|{#MAXDBNAME} info state data|&lt;p&gt;Data map for command <info state="">&lt;/p&gt;|`Zabbix agent`|maxdb.infostate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]&lt;p&gt;Update: 5m&lt;/p&gt;|
|{#MAXDBNAME} Bad devspaces count|&lt;p&gt;Number of bad devspases&lt;/p&gt;|`Dependent item`|maxdb.common.bad_devspaces[{#MAXDBNAME}]|
|{#MAXDBNAME} Bad indexes count|&lt;p&gt;Number of bad indexes&lt;/p&gt;|`Dependent item`|maxdb.common.bad_indexes[{#MAXDBNAME}]|
|{#MAXDBNAME} Command monitoring|&lt;p&gt;Is command monitoring enabled&lt;/p&gt;|`Dependent item`|maxdb.common.command_monitoring[{#MAXDBNAME}]|
|{#MAXDBNAME} Connect possible|&lt;p&gt;Is it possible to create a new connection to {#MAXDBNAME}&lt;/p&gt;|`Dependent item`|maxdb.common.connect_possible[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea bytes|&lt;p&gt;Number of bytes of data in DataArea&lt;/p&gt;|`Dependent item`|maxdb.data.bytes[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea is full|&lt;p&gt;Is DataArea full&lt;/p&gt;|`Dependent item`|maxdb.data.full[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea MAX bytes|&lt;p&gt;Number of maximum possible bytes of data in DataArea&lt;/p&gt;|`Dependent item`|maxdb.data.max_bytes[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea percentage|&lt;p&gt;Percentage of used space in DataArea&lt;/p&gt;|`Dependent item`|maxdb.data.percentage[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea permanent bytes|&lt;p&gt;Number of bytes of permanent data in DataArea&lt;/p&gt;|`Dependent item`|maxdb.data.perm_bytes[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea permanent percentage|&lt;p&gt;Percentage of used space by permanent data in DataArea&lt;/p&gt;|`Dependent item`|maxdb.data.perm_percentage[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea temporarily bytes|&lt;p&gt;Number of bytes of temporarily data in DataArea&lt;/p&gt;|`Dependent item`|maxdb.data.temp_data_bytes[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea temporarily percentage|&lt;p&gt;Percentage of used space by temporarily data in DataArea&lt;/p&gt;|`Dependent item`|maxdb.data.temp_data_percentage[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea volumes count|&lt;p&gt;Number of DataArea volumes&lt;/p&gt;|`Dependent item`|maxdb.data.volumes_count[{#MAXDBNAME}]|
|{#MAXDBNAME} DB monitoring|&lt;p&gt;Is database monitoring enabled&lt;/p&gt;|`Dependent item`|maxdb.common.database_monitoring[{#MAXDBNAME}]|
|{#MAXDBNAME} get info state data error|&lt;p&gt;Error getting info state data&lt;/p&gt;|`Dependent item`|maxdb.infostate.error[{#MAXDBNAME}]|
|{#MAXDBNAME} Kernel trace|&lt;p&gt;Is kernel trace enabled&lt;/p&gt;|`Dependent item`|maxdb.common.kernel_trace[{#MAXDBNAME}]|
|{#MAXDBNAME} LogArea is full|&lt;p&gt;Is LogArea full&lt;/p&gt;|`Dependent item`|maxdb.log.full[{#MAXDBNAME}]|
|{#MAXDBNAME} sessions active|&lt;p&gt;Number of active sessions&lt;/p&gt;|`Dependent item`|maxdb.sessions.active[{#MAXDBNAME}]|
|{#MAXDBNAME} sessions active percentage|&lt;p&gt;Percentage of active sessions&lt;/p&gt;|`Dependent item`|maxdb.sessions.active_percentage[{#MAXDBNAME}]|
|{#MAXDBNAME} sessions MAX|&lt;p&gt;Number of maximum possible sessions&lt;/p&gt;|`Dependent item`|maxdb.sessions.max[{#MAXDBNAME}]|</info></p>
<h3 id="log">Log</h3>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|{#MAXDBNAME} LogArea info|&lt;p&gt;Data map for command <info log="">&lt;/p&gt;|`Zabbix agent`|maxdb.log[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]&lt;p&gt;Update: 5m&lt;/p&gt;|
|{#MAXDBNAME} get log info error|&lt;p&gt;Error getting log info data&lt;/p&gt;|`Dependent item`|maxdb.log.error[{#MAXDBNAME}]|
|{#MAXDBNAME} LogArea bytes|&lt;p&gt;Number of bytes of data in LogArea&lt;/p&gt;|`Dependent item`|maxdb.log.bytes[{#MAXDBNAME}]|
|{#MAXDBNAME} LogArea MAX bytes|&lt;p&gt;Number of maximum possible bytes of data in LogArea&lt;/p&gt;|`Dependent item`|maxdb.log.max_bytes[{#MAXDBNAME}]|
|{#MAXDBNAME} LogArea percentage|&lt;p&gt;Percentage of used space in LogArea&lt;/p&gt;|`Dependent item`|maxdb.log.percentage[{#MAXDBNAME}]|
|{#MAXDBNAME} LogArea auto override ON|&lt;p&gt;Is override mode ON for LogArea&lt;/p&gt;|`Dependent item`|maxdb.log.autooverride[{#MAXDBNAME}]|
|{#MAXDBNAME} LogArea is mirrored|&lt;p&gt;Is LogArea mirrored&lt;/p&gt;|`Dependent item`|maxdb.log.mirrored[{#MAXDBNAME}]|
|{#MAXDBNAME} LogArea is writing|&lt;p&gt;Is LogArea writing&lt;/p&gt;|`Dependent item`|maxdb.log.writing[{#MAXDBNAME}]|</info></p>
<h3 id="parameters">Parameters</h3>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|{#MAXDBNAME} parameters data|&lt;p&gt;List of changed parameters for command <info params="">&lt;/p&gt;|`Zabbix agent`|maxdb.params.diff[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]&lt;p&gt;Update: 15m&lt;/p&gt;|
|{#MAXDBNAME} parameters difference|&lt;p&gt;List of changed DB parameters&lt;/p&gt;|`Dependent item`|maxdb.params.diff.value[{#MAXDBNAME}]|
|{#MAXDBNAME} get parameters difference error|&lt;p&gt;Error getting parameters difference data&lt;/p&gt;|`Dependent item`|maxdb.params.diff.error[{#MAXDBNAME}]|</info></p>
<h3 id="cache-hit-rate">Cache hit rate</h3>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|{#MAXDBNAME} cache hit rate|&lt;p&gt;Data map for command <info caches="">&lt;/p&gt;|`Zabbix agent`|maxdb.cache.hitrate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]&lt;p&gt;Update: 5m&lt;/p&gt;|
|{#MAXDBNAME} Cache catalog hit rate|&lt;p&gt;Percentage of successful accesses to catalog cache&lt;/p&gt;|`Dependent item`|maxdb.cache.hitrate.catalog[{#MAXDBNAME}]|
|{#MAXDBNAME} Cache command execute hit rate|&lt;p&gt;Percentage of successful accesses to command execute cache&lt;/p&gt;|`Dependent item`|maxdb.cache.hitrate.commandexecute[{#MAXDBNAME}]|
|{#MAXDBNAME} Cache command prepare hit rate|&lt;p&gt;Percentage of successful accesses to command prepare cache&lt;/p&gt;|`Dependent item`|maxdb.cache.hitrate.commandprepare[{#MAXDBNAME}]|
|{#MAXDBNAME} Cache data hit rate|&lt;p&gt;Percentage of successful accesses to data cache&lt;/p&gt;|`Dependent item`|maxdb.cache.hitrate.data[{#MAXDBNAME}]|
|{#MAXDBNAME} Cache sequence hit rate|&lt;p&gt;Percentage of successful accesses to sequence cache&lt;/p&gt;|`Dependent item`|maxdb.cache.hitrate.sequence[{#MAXDBNAME}]|
|{#MAXDBNAME} get caches hitrate error|&lt;p&gt;Error getting caches hitrate data&lt;/p&gt;|`Dependent item`|maxdb.cache.hitrate.error[{#MAXDBNAME}]|</info></p>
<h3 id="locks">Locks</h3>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|{#MAXDBNAME} locks|&lt;p&gt;Data map for command <info locks="">&lt;/p&gt;|`Zabbix agent`|maxdb.locks[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]&lt;p&gt;Update: 5m&lt;/p&gt;|
|{#MAXDBNAME} locks collisions|&lt;p&gt;Number of lock collisions&lt;/p&gt;|`Dependent item`|maxdb.locks.collisions[{#MAXDBNAME}]|
|{#MAXDBNAME} locks entries average used|&lt;p&gt;Number of average entries used for locks and lock requests&lt;/p&gt;|`Dependent item`|maxdb.locks.entries.avgused[{#MAXDBNAME}]|
|{#MAXDBNAME} locks entries MAX|&lt;p&gt;Number of entries available for locks and lock requests&lt;/p&gt;|`Dependent item`|maxdb.locks.entries.max[{#MAXDBNAME}]|
|{#MAXDBNAME} locks escalations|&lt;p&gt;Number of row locks from which the row locks are converted into table locks (lock escalation)&lt;/p&gt;|`Dependent item`|maxdb.locks.escalations[{#MAXDBNAME}]|
|{#MAXDBNAME} locks request timeout|&lt;p&gt;Timeout of locks request&lt;/p&gt;|`Dependent item`|maxdb.locks.requesttimeout[{#MAXDBNAME}]|
|{#MAXDBNAME} locks rows|&lt;p&gt;Number of row locks held&lt;/p&gt;|`Dependent item`|maxdb.locks.rows[{#MAXDBNAME}]|
|{#MAXDBNAME} locks tables|&lt;p&gt;Number of table locks held&lt;/p&gt;|`Dependent item`|maxdb.locks.tables[{#MAXDBNAME}]|
|{#MAXDBNAME} get locks info error|&lt;p&gt;Error getting locks data&lt;/p&gt;|`Dependent item`|maxdb.locks.error[{#MAXDBNAME}]|</info></p>
<h3 id="backup">Backup</h3>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|{#MAXDBNAME} backup data|&lt;p&gt;Data map for command &lt;backup_history_list -c LABEL,START,STOP,RC,ERROR -Inverted&gt;&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Zabbix agent</code>|maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]&lt;p&gt;Update: 30m&lt;/p&gt;|
|{#MAXDBNAME} get backup info error|&lt;p&gt;Error getting backup status data&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.error[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT daily ckeck time|&lt;p&gt;Time of day from which the status of the daily copy will be checked&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.checktime[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT daily ckeck today|&lt;p&gt;Flag whether it is necessary to check the status of the daily copy today&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.checkdaily[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT duration|&lt;p&gt;Last DataArea backup duration&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.duration[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT end date|&lt;p&gt;Last DataArea backup end date&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.enddate[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT end time|&lt;p&gt;Last DataArea backup end time&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.endtime[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT message|&lt;p&gt;Last DataArea backup message&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.message[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT number|&lt;p&gt;Last DataArea backup number&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.number[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT start date|&lt;p&gt;Last DataArea backup start date&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.startdate[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT start time|&lt;p&gt;Last DataArea backup start time&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.starttime[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT successful|&lt;p&gt;Is Last DataArea backup successful&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.successful[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup LOG duration|&lt;p&gt;Last LogArea backup duration&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.log.duration[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup LOG end date|&lt;p&gt;Last LogArea backup end date&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.log.enddate[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup LOG end time|&lt;p&gt;Last LogArea backup end time&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.log.endtime[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup LOG message|&lt;p&gt;Last LogArea backup message&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.log.message[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup LOG number|&lt;p&gt;Last LogArea backup number&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.log.number[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup LOG start date|&lt;p&gt;Last LogArea backup start date&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.log.startdate[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup LOG start time|&lt;p&gt;Last LogArea backup start time&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.log.starttime[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup LOG successful|&lt;p&gt;Is Last LogArea backup successful&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.log.successful[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup PAG duration|&lt;p&gt;Last DataArea incremental backup duration&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.pag.duration[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup PAG end date|&lt;p&gt;Last DataArea incremental backup end date&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.pag.enddate[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup PAG end time|&lt;p&gt;Last DataArea incremental backup end time&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.pag.endtime[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup PAG message|&lt;p&gt;Last DataArea incremental backup message&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.pag.message[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup PAG number|&lt;p&gt;Last DataArea incremental backup number&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.pag.number[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup PAG start date|&lt;p&gt;Last DataArea incremental backup start date&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.pag.startdate[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup PAG start time|&lt;p&gt;Last DataArea incremental backup start time&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.pag.starttime[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup PAG successful|&lt;p&gt;Is last DataArea incremental backup successful&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.pag.successful[{#MAXDBNAME}]|</p>

<h2 id="triggers">Triggers</h2>
<p>|Name|Description|Expression|Priority|
|—-|———–|———-|——–|
|Cant get {#MAXDBNAME} power state|&lt;p&gt;This error occurs when the monitoring system cannot get data about the power state of the database for a long time. Possible reasons: - critical database error; - <maxdb-dbm-monitor.jar> library command execution error; - no connection to the server.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.power.state[{#MAXDBNAME}].nodata(16m)}=1&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|hight|
|{#MAXDBNAME} all sessions are busy|&lt;p&gt;This error occurs when the session limit has been reached in the database, which means it is not possible to create a new connection to the database.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.sessions.active_percentage[{#MAXDBNAME}].last()}=100&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|hight|
|{#MAXDBNAME} DataArea is full|&lt;p&gt;This error occurs when the database runs out of free space. For the correct operation of the database, you need to free up some space or create a new DataArea volume.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.data.full[{#MAXDBNAME}].last()}=1&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|hight|
|{#MAXDBNAME} error occurred at getting power state info|&lt;p&gt;This error occurs when an exception occurs when the maxdb-dbm-monitor library executes <db_state> command. You need to analyze the message and fix the error.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.power.error[{#MAXDBNAME}].strlen()}&gt;1&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|hight|
|{#MAXDBNAME} is OFFLINE|&lt;p&gt;This error occurs when the database is in the state OFFLINE or UNKNOWN.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.power.state[{#MAXDBNAME}].last()}=0 or {MaxDB DBMMonitor:maxdb.power.state[{#MAXDBNAME}].last()}=4&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|hight|
|{#MAXDBNAME} LogArea is full|&lt;p&gt;This error occurs when the database runs out of free LogArea space. For the correct operation of the database, you need to backup LogArea or create a new LogAre volume.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.log.full[{#MAXDBNAME}].last()}=1&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|hight|
|{#XSERVERNAME} is not available on {#XSERVERPORT}|&lt;p&gt;This error occurs when it is not possible to connect to the XServer service.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:xserver.state[{#XSERVERNAME},{#XSERVERPORT}].last()}=0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#XSERVERNAME} error occurred at getting data|&lt;p&gt;This error occurs when an exception occurs in a maxdb-dbm-monitor library call. You need to analyze the message and fix the error.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:xserver.error[{#XSERVERNAME}].strlen()}&gt;1&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} connect not possible|&lt;p&gt;This error occurs when the DB reports that it cannot be connected to.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.common.connect_possible[{#MAXDBNAME}].last()}=0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} DataArea few space left|&lt;p&gt;DataArea cells are filled almost to the limit. It is necessary to analyze the increase in the amount of data in the database.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.data.percentage[{#MAXDBNAME}].last()}&gt;90 and ({MaxDB DBMMonitor:maxdb.data.max_bytes[{#MAXDBNAME}].last()}-{MaxDB DBMMonitor:maxdb.data.bytes[{#MAXDBNAME}].last()})&lt;{$MAXDB_DA_FREEBYTESLIMIT}&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} DAT daily backup not found|&lt;p&gt;Daily backup process has not been started, or is still in progress.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.backup.dat.checkdaily[{#MAXDBNAME}].last()}=1 and {MaxDB DBMMonitor:maxdb.backup.dat.enddate[{#MAXDBNAME}].last()}&lt;&gt;{MaxDB DBMMonitor:maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}].date()} and {MaxDB DBMMonitor:maxdb.backup.dat.checktime[{#MAXDBNAME}].last()}&lt;{MaxDB DBMMonitor:maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}].time()}&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} error occurred at getting DB info|&lt;p&gt;This error occurs when an exception occurs when the maxdb-dbm-monitor library executes info command. You need to parse the message and fix the error.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.backup.error[{#MAXDBNAME}].strlen()}&gt;1 or {MaxDB DBMMonitor:maxdb.cache.hitrate.error[{#MAXDBNAME}].strlen()}&gt;1 or {MaxDB DBMMonitor:maxdb.infostate.error[{#MAXDBNAME}].strlen()}&gt;1 or {MaxDB DBMMonitor:maxdb.locks.error[{#MAXDBNAME}].strlen()}&gt;1 or {MaxDB DBMMonitor:maxdb.log.error[{#MAXDBNAME}].strlen()}&gt;1 or {MaxDB DBMMonitor:maxdb.params.diff.error[{#MAXDBNAME}].strlen()}&gt;1&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} few sessions left|&lt;p&gt;This message occurs when the number of connections to the database has almost reached the limit. It is necessary to analyze opened database connections.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.sessions.active_percentage[{#MAXDBNAME}].last()}&gt;90&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} last DAT backup failed|&lt;p&gt;This error occurs when the last DataArea full backup failed.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.backup.dat.successful[{#MAXDBNAME}].last()}=0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} last LOG backup failed|&lt;p&gt;This error occurs when the last LogArea backup failed.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.backup.log.successful[{#MAXDBNAME}].last()}=0 and {MaxDB DBMMonitor:maxdb.log.autooverride[{#MAXDBNAME}].last()}&lt;&gt;1&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} last PAG backup failed|&lt;p&gt;This error occurs when the last DataArea incremental backup failed.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.backup.pag.successful[{#MAXDBNAME}].last()}=0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} LogArea few space left|&lt;p&gt;LogArea cells are filled almost to the limit. It is necessary to analyze the increase in the amount of data in the LogArea or run backup task.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.log.percentage[{#MAXDBNAME}].last()}&gt;90 and ({MaxDB DBMMonitor:maxdb.log.max_bytes[{#MAXDBNAME}].last()}-{MaxDB DBMMonitor:maxdb.log.bytes[{#MAXDBNAME}].last()})&lt;{$MAXDB_LA_FREEBYTESLIMIT}&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|There are new bad devspaces in the database {#MAXDBNAME}|&lt;p&gt;This message informs that there are new bad devspaces in the database.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.common.bad_devspaces[{#MAXDBNAME}].change()}&gt;0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|There are new bad indexes in the database {#MAXDBNAME}|&lt;p&gt;This message informs that there are new bad indexes in the database.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.common.bad_indexes[{#MAXDBNAME}].change()}&gt;0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} command monitoring disabled|&lt;p&gt;This message informs that command monitoring mode has been disabled in the database.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.common.command_monitoring[{#MAXDBNAME}].last()}=0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} database monitoring disabled|&lt;p&gt;This message informs that databese monitoring mode has been disabled in the database.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.common.database_monitoring[{#MAXDBNAME}].last()}=0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} is not ONLINE|&lt;p&gt;This message informs that databese is up, but not in ONLINE state.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.power.state[{#MAXDBNAME}].last()}=2 or {MaxDB DBMMonitor:maxdb.power.state[{#MAXDBNAME}].last()}=3&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} kernel trace disabled|&lt;p&gt;This message informs that kernel trace mode has been disabled in the database.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.common.kernel_trace[{#MAXDBNAME}].last()}=0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} LogArea auto override mode changed|&lt;p&gt;This message informs that the LogArea overwrite mode has been changed.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.log.autooverride[{#MAXDBNAME}].change()}&lt;&gt;0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} LogArea mirror mode changed|&lt;p&gt;This message informs that the LogArea mirror mode has been changed.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.log.mirrored[{#MAXDBNAME}].change()}&lt;&gt;0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} LogArea writing mode changed|&lt;p&gt;This message informs that the LogArea writing mode has been changed.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.log.writing[{#MAXDBNAME}].change()}&lt;&gt;0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} number of volumes in DataArea was been changed|&lt;p&gt;This message informs that the number of volumes in DataArea has been changed. Disable this trigger if dynamic DataArea adjustment is enabled.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.data.volumes_count[{#MAXDBNAME}].diff()}&lt;&gt;0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} parameters was been changed|&lt;p&gt;This message informs about the change of one or more database parameters.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.params.diff.value[{#MAXDBNAME}].strlen()}&gt;0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|</db_state></maxdb-dbm-monitor.jar></p>


    </div>
    
    
    <div id="content_ver_5_4" class="readme">
      <div class="banner-buttons " style="padding-top: 20px; ">
        <a class="button button-gray" style="color: #ffff;" href="/#databases-others-template-sap-maxdb79-monitor">Back to index</a>
        <a class="button button-green" style="color: #ffff;" href="https://raw.githubusercontent.com/zabbix/community-templates/main/Databases/Others/template_sap_maxdb79_monitor/5.4/template_maxdb-dbm-monitor.yaml">Download</a>
      </div>
      
      



<h1 id="sap-maxdb-monitor">SAP MaxDB Monitor</h1>

<h2 id="overview">Overview</h2>
<p>The template monitors SAP MaxDB database baselines. Сollection and transfer of data from the database to the Zabbix 
agent is performed by the custom library <strong>maxdb-dbm-monitor.jar</strong>, which in turn uses <strong>sapdbc.jar</strong> from 
<a href="https://help.sap.com/docs/SAP_NETWEAVER_DBOS/e55b190e1c0b462bbaabd2ad8eb6a692/e9005dac1592496783e26133eb7fad0b.html">SAP MaxDB Database Studio</a>. 
All indicators of the database are retrieved by commands similar to the Database Studio console; the library does not 
directly access database tables by SQL queries.<br />
Detailed description of the template are located here <a href="https://github.com/onlycrab/maxdb-dbm-monitor/tree/master/src/zabbix">https://github.com/onlycrab/maxdb-dbm-monitor/tree/master/src/zabbix</a>.</p>

<h2 id="author">Author</h2>
<p>Roman Rynkovich</p>

<h2 id="how-to-add-plugin-to-zabbix-agent">How to add plugin to zabbix-agent</h2>
<h3 id="standalone-server">Standalone server</h3>
<ol>
  <li>Place the contents of the <code class="language-plaintext highlighter-rouge">zabbixRoot</code> directory from the <code class="language-plaintext highlighter-rouge">maxdb-dbm-monitor-zabbix.zip</code> archive into the root 
directory of the zabbix-agent configuration. Make changes to the agent configuration file, similar to the file 
<code class="language-plaintext highlighter-rouge">~zabbix_agentd.conf</code>. If you are already using the <code class="language-plaintext highlighter-rouge">Include</code> directive, change it or place <code class="language-plaintext highlighter-rouge">maxdb.conf</code> so that <code class="language-plaintext highlighter-rouge">maxdb.conf</code> 
match within its definition.</li>
  <li>Place the <code class="language-plaintext highlighter-rouge">maxdb-dbm-monior.jar</code> and <code class="language-plaintext highlighter-rouge">sapdbc.jar</code> libraries in the <code class="language-plaintext highlighter-rouge">&lt;zabbixRoot&gt;\plugins\maxdb\</code> directory.</li>
  <li>For linux-like systems, make sure the zabbix-agent daemon has enough access to the plugin’s directories and files.</li>
  <li>Restart the zabbix-agent service.</li>
  <li>Make sure the settings are correct. To do this, follow<br />
for Windows<br />
<code class="language-plaintext highlighter-rouge">&lt;zabbixRoot&gt;\zabbix-agentd.exe -c &lt;zabbixRoot&gt;\zabbix-agentd.conf -t maxdb.discovery[]</code><br />
for Linux<br />
<code class="language-plaintext highlighter-rouge">/usr/sbin/zabbix-agentd -c &lt;zabbixRoot&gt;/zabbix-agentd.conf -t maxdb.discovery[]</code><br />
If the settings are correct, you will get a list of MaxDB database names as a result, or an empty list if the MaxDB 
database is not found.<br />
In case of an error in the settings, the result of the command will contain a textual description of the error.
    <h3 id="microsoft-failover-cluster">Microsoft failover cluster</h3>
  </li>
  <li>In order to correctly connect the cluster object to zabbix, you need to install a second instance of zabbix-agent 
service on each cluster node. Cmd command example:<br />
<code class="language-plaintext highlighter-rouge">sc create "Zabbix Agent Cluster" binPath= "c:\zabbixCluster\zabbix_agentd.exe -c c:\zabbixCluster\zabbix_agentd.win.conf" displayname= "Zabbix Agent Cluster" start= auto</code></li>
  <li>On the zabbix-server, create a host for the cluster object.</li>
  <li>Then follow all steps in sequence as for the case with a standalone server.</li>
</ol>

<h2 id="macros-used">Macros used</h2>
<p>|Name|Description|Default|Type|
|—-|———–|——-|—-|
|{$MAXDBHOST}|&lt;p&gt;Node on which the MaxDB instance is running.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">localhost</code>|Text macro|
|{$MAXDBUSER}|&lt;p&gt;Read-access MaxDB instance user.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">|Text macro|
|{$MAXDBPASS}|&lt;p&gt;Read-access MaxDB instance password.&lt;/p&gt;|</code>|Text macro|
|{$MAXDBPASSFILE}|&lt;p&gt;Absolute path to the file containing authorization data. The file is prioritized. That is, if you specify authentication data both in the macroses {$MAXDBUSER}{$MAXDBPASS} and in the file, data from the file will be used.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">c:\zabbix\plugins\maxdb\.pass</code>|Text macro|
|{$MAXDBINIPATH}|&lt;p&gt;ONLY FOR LINUX SYSTEMS! Absolute path to Installations.ini file (for MaxDB and XServer discovery). By default “/sapdb/data/config/Installations.ini”.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">|Text macro|
|{$MAXDBEXCLUDEDB}|&lt;p&gt;Exclude database name from DB and XServer discovery. Excluded db-names must be separated by comma (f.e. "ADB,BDB").&lt;/p&gt;|</code>|Text macro|
|{$MAXDBONLYDB}|&lt;p&gt;Discover only DB in this list (for DB instances and XServer) discovery. Db-names must be separated by comma (f.e. “ADB,BDB”).&lt;/p&gt;|``|Text macro|
|{$MAXDB_DA_FREEBYTESLIMIT}|&lt;p&gt;DataArea top filling limit for triggering (by default = 50 Gbytes).&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">52427776</code>|Text macro|
|{$MAXDB_LA_FREEBYTESLIMIT}|&lt;p&gt;LogArea top filling limit for triggering (by default = 50 Gbytes).&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">52427776</code>|Text macro|
|{$MAXDB_ZMACROS}|&lt;p&gt;Custom macros. This value will be returned from node with the DB response.&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">backup_daily_dat_days=12345#backup_daily_dat_time=080000</code>|Text macro|</p>

<h2 id="template-links">Template links</h2>
<p>There are no template links in this template.</p>

<h2 id="discovery-rules">Discovery rules</h2>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|MaxDB discovery|&lt;p&gt;Discover of MaxDB installations&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Zabbix agent</code>|maxdb.discovery[{$MAXDBINIPATH},{$MAXDBEXCLUDEDB},{$MAXDBONLYDB}]&lt;p&gt;Update: 4h&lt;/p&gt;|
|XServer discovery|&lt;p&gt;Discovery of XServer installations&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Zabbix agent</code>|xserver.discovery[{$MAXDBINIPATH},{$MAXDBEXCLUDEDB},{$MAXDBONLYDB}]&lt;p&gt;Update: 4h&lt;/p&gt;|</p>

<h2 id="items-collected">Items collected</h2>
<h3 id="xserver">XServer</h3>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|{#XSERVERNAME} data|&lt;p&gt;XServer status data&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Zabbix agent</code>|xserver.data[localhost,{#XSERVERPORT}]&lt;p&gt;Update: 5m&lt;/p&gt;|
|{#XSERVERNAME} availability|&lt;p&gt;XServer availability&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|xserver.state[{#XSERVERNAME},{#XSERVERPORT}]|
|{#XSERVERNAME} error|&lt;p&gt;XServer checker error&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|xserver.error[{#XSERVERNAME}]|</p>
<h3 id="power">Power</h3>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|{#MAXDBNAME} power state data|&lt;p&gt;Data map for command <db_state>&lt;/p&gt;|`Zabbix agent`|maxdb.power[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]&lt;p&gt;Update: 5m&lt;/p&gt;|
|{#MAXDBNAME} power state|&lt;p&gt;DB power state&lt;/p&gt;|`Dependent item`|maxdb.power.state[{#MAXDBNAME}]|
|{#MAXDBNAME} get power state error|&lt;p&gt;Error getting power state data&lt;/p&gt;|`Dependent item`|maxdb.power.error[{#MAXDBNAME}]|</db_state></p>
<h3 id="info-state">Info state</h3>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|{#MAXDBNAME} info state data|&lt;p&gt;Data map for command <info state="">&lt;/p&gt;|`Zabbix agent`|maxdb.infostate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]&lt;p&gt;Update: 5m&lt;/p&gt;|
|{#MAXDBNAME} Bad devspaces count|&lt;p&gt;Number of bad devspases&lt;/p&gt;|`Dependent item`|maxdb.common.bad_devspaces[{#MAXDBNAME}]|
|{#MAXDBNAME} Bad indexes count|&lt;p&gt;Number of bad indexes&lt;/p&gt;|`Dependent item`|maxdb.common.bad_indexes[{#MAXDBNAME}]|
|{#MAXDBNAME} Command monitoring|&lt;p&gt;Is command monitoring enabled&lt;/p&gt;|`Dependent item`|maxdb.common.command_monitoring[{#MAXDBNAME}]|
|{#MAXDBNAME} Connect possible|&lt;p&gt;Is it possible to create a new connection to {#MAXDBNAME}&lt;/p&gt;|`Dependent item`|maxdb.common.connect_possible[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea bytes|&lt;p&gt;Number of bytes of data in DataArea&lt;/p&gt;|`Dependent item`|maxdb.data.bytes[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea is full|&lt;p&gt;Is DataArea full&lt;/p&gt;|`Dependent item`|maxdb.data.full[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea MAX bytes|&lt;p&gt;Number of maximum possible bytes of data in DataArea&lt;/p&gt;|`Dependent item`|maxdb.data.max_bytes[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea percentage|&lt;p&gt;Percentage of used space in DataArea&lt;/p&gt;|`Dependent item`|maxdb.data.percentage[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea permanent bytes|&lt;p&gt;Number of bytes of permanent data in DataArea&lt;/p&gt;|`Dependent item`|maxdb.data.perm_bytes[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea permanent percentage|&lt;p&gt;Percentage of used space by permanent data in DataArea&lt;/p&gt;|`Dependent item`|maxdb.data.perm_percentage[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea temporarily bytes|&lt;p&gt;Number of bytes of temporarily data in DataArea&lt;/p&gt;|`Dependent item`|maxdb.data.temp_data_bytes[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea temporarily percentage|&lt;p&gt;Percentage of used space by temporarily data in DataArea&lt;/p&gt;|`Dependent item`|maxdb.data.temp_data_percentage[{#MAXDBNAME}]|
|{#MAXDBNAME} DataArea volumes count|&lt;p&gt;Number of DataArea volumes&lt;/p&gt;|`Dependent item`|maxdb.data.volumes_count[{#MAXDBNAME}]|
|{#MAXDBNAME} DB monitoring|&lt;p&gt;Is database monitoring enabled&lt;/p&gt;|`Dependent item`|maxdb.common.database_monitoring[{#MAXDBNAME}]|
|{#MAXDBNAME} get info state data error|&lt;p&gt;Error getting info state data&lt;/p&gt;|`Dependent item`|maxdb.infostate.error[{#MAXDBNAME}]|
|{#MAXDBNAME} Kernel trace|&lt;p&gt;Is kernel trace enabled&lt;/p&gt;|`Dependent item`|maxdb.common.kernel_trace[{#MAXDBNAME}]|
|{#MAXDBNAME} LogArea is full|&lt;p&gt;Is LogArea full&lt;/p&gt;|`Dependent item`|maxdb.log.full[{#MAXDBNAME}]|
|{#MAXDBNAME} sessions active|&lt;p&gt;Number of active sessions&lt;/p&gt;|`Dependent item`|maxdb.sessions.active[{#MAXDBNAME}]|
|{#MAXDBNAME} sessions active percentage|&lt;p&gt;Percentage of active sessions&lt;/p&gt;|`Dependent item`|maxdb.sessions.active_percentage[{#MAXDBNAME}]|
|{#MAXDBNAME} sessions MAX|&lt;p&gt;Number of maximum possible sessions&lt;/p&gt;|`Dependent item`|maxdb.sessions.max[{#MAXDBNAME}]|</info></p>
<h3 id="log">Log</h3>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|{#MAXDBNAME} LogArea info|&lt;p&gt;Data map for command <info log="">&lt;/p&gt;|`Zabbix agent`|maxdb.log[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]&lt;p&gt;Update: 5m&lt;/p&gt;|
|{#MAXDBNAME} get log info error|&lt;p&gt;Error getting log info data&lt;/p&gt;|`Dependent item`|maxdb.log.error[{#MAXDBNAME}]|
|{#MAXDBNAME} LogArea bytes|&lt;p&gt;Number of bytes of data in LogArea&lt;/p&gt;|`Dependent item`|maxdb.log.bytes[{#MAXDBNAME}]|
|{#MAXDBNAME} LogArea MAX bytes|&lt;p&gt;Number of maximum possible bytes of data in LogArea&lt;/p&gt;|`Dependent item`|maxdb.log.max_bytes[{#MAXDBNAME}]|
|{#MAXDBNAME} LogArea percentage|&lt;p&gt;Percentage of used space in LogArea&lt;/p&gt;|`Dependent item`|maxdb.log.percentage[{#MAXDBNAME}]|
|{#MAXDBNAME} LogArea auto override ON|&lt;p&gt;Is override mode ON for LogArea&lt;/p&gt;|`Dependent item`|maxdb.log.autooverride[{#MAXDBNAME}]|
|{#MAXDBNAME} LogArea is mirrored|&lt;p&gt;Is LogArea mirrored&lt;/p&gt;|`Dependent item`|maxdb.log.mirrored[{#MAXDBNAME}]|
|{#MAXDBNAME} LogArea is writing|&lt;p&gt;Is LogArea writing&lt;/p&gt;|`Dependent item`|maxdb.log.writing[{#MAXDBNAME}]|</info></p>
<h3 id="parameters">Parameters</h3>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|{#MAXDBNAME} parameters data|&lt;p&gt;List of changed parameters for command <info params="">&lt;/p&gt;|`Zabbix agent`|maxdb.params.diff[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]&lt;p&gt;Update: 15m&lt;/p&gt;|
|{#MAXDBNAME} parameters difference|&lt;p&gt;List of changed DB parameters&lt;/p&gt;|`Dependent item`|maxdb.params.diff.value[{#MAXDBNAME}]|
|{#MAXDBNAME} get parameters difference error|&lt;p&gt;Error getting parameters difference data&lt;/p&gt;|`Dependent item`|maxdb.params.diff.error[{#MAXDBNAME}]|</info></p>
<h3 id="cache-hit-rate">Cache hit rate</h3>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|{#MAXDBNAME} cache hit rate|&lt;p&gt;Data map for command <info caches="">&lt;/p&gt;|`Zabbix agent`|maxdb.cache.hitrate[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]&lt;p&gt;Update: 5m&lt;/p&gt;|
|{#MAXDBNAME} Cache catalog hit rate|&lt;p&gt;Percentage of successful accesses to catalog cache&lt;/p&gt;|`Dependent item`|maxdb.cache.hitrate.catalog[{#MAXDBNAME}]|
|{#MAXDBNAME} Cache command execute hit rate|&lt;p&gt;Percentage of successful accesses to command execute cache&lt;/p&gt;|`Dependent item`|maxdb.cache.hitrate.commandexecute[{#MAXDBNAME}]|
|{#MAXDBNAME} Cache command prepare hit rate|&lt;p&gt;Percentage of successful accesses to command prepare cache&lt;/p&gt;|`Dependent item`|maxdb.cache.hitrate.commandprepare[{#MAXDBNAME}]|
|{#MAXDBNAME} Cache data hit rate|&lt;p&gt;Percentage of successful accesses to data cache&lt;/p&gt;|`Dependent item`|maxdb.cache.hitrate.data[{#MAXDBNAME}]|
|{#MAXDBNAME} Cache sequence hit rate|&lt;p&gt;Percentage of successful accesses to sequence cache&lt;/p&gt;|`Dependent item`|maxdb.cache.hitrate.sequence[{#MAXDBNAME}]|
|{#MAXDBNAME} get caches hitrate error|&lt;p&gt;Error getting caches hitrate data&lt;/p&gt;|`Dependent item`|maxdb.cache.hitrate.error[{#MAXDBNAME}]|</info></p>
<h3 id="locks">Locks</h3>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|{#MAXDBNAME} locks|&lt;p&gt;Data map for command <info locks="">&lt;/p&gt;|`Zabbix agent`|maxdb.locks[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]&lt;p&gt;Update: 5m&lt;/p&gt;|
|{#MAXDBNAME} locks collisions|&lt;p&gt;Number of lock collisions&lt;/p&gt;|`Dependent item`|maxdb.locks.collisions[{#MAXDBNAME}]|
|{#MAXDBNAME} locks entries average used|&lt;p&gt;Number of average entries used for locks and lock requests&lt;/p&gt;|`Dependent item`|maxdb.locks.entries.avgused[{#MAXDBNAME}]|
|{#MAXDBNAME} locks entries MAX|&lt;p&gt;Number of entries available for locks and lock requests&lt;/p&gt;|`Dependent item`|maxdb.locks.entries.max[{#MAXDBNAME}]|
|{#MAXDBNAME} locks escalations|&lt;p&gt;Number of row locks from which the row locks are converted into table locks (lock escalation)&lt;/p&gt;|`Dependent item`|maxdb.locks.escalations[{#MAXDBNAME}]|
|{#MAXDBNAME} locks request timeout|&lt;p&gt;Timeout of locks request&lt;/p&gt;|`Dependent item`|maxdb.locks.requesttimeout[{#MAXDBNAME}]|
|{#MAXDBNAME} locks rows|&lt;p&gt;Number of row locks held&lt;/p&gt;|`Dependent item`|maxdb.locks.rows[{#MAXDBNAME}]|
|{#MAXDBNAME} locks tables|&lt;p&gt;Number of table locks held&lt;/p&gt;|`Dependent item`|maxdb.locks.tables[{#MAXDBNAME}]|
|{#MAXDBNAME} get locks info error|&lt;p&gt;Error getting locks data&lt;/p&gt;|`Dependent item`|maxdb.locks.error[{#MAXDBNAME}]|</info></p>
<h3 id="backup">Backup</h3>
<p>|Name|Description|Type|Key and additional info|
|—-|———–|—-|—-|
|{#MAXDBNAME} backup data|&lt;p&gt;Data map for command &lt;backup_history_list -c LABEL,START,STOP,RC,ERROR -Inverted&gt;&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Zabbix agent</code>|maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}]&lt;p&gt;Update: 30m&lt;/p&gt;|
|{#MAXDBNAME} get backup info error|&lt;p&gt;Error getting backup status data&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.error[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT daily ckeck time|&lt;p&gt;Time of day from which the status of the daily copy will be checked&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.checktime[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT daily ckeck today|&lt;p&gt;Flag whether it is necessary to check the status of the daily copy today&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.checkdaily[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT duration|&lt;p&gt;Last DataArea backup duration&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.duration[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT end date|&lt;p&gt;Last DataArea backup end date&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.enddate[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT end time|&lt;p&gt;Last DataArea backup end time&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.endtime[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT message|&lt;p&gt;Last DataArea backup message&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.message[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT number|&lt;p&gt;Last DataArea backup number&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.number[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT start date|&lt;p&gt;Last DataArea backup start date&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.startdate[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT start time|&lt;p&gt;Last DataArea backup start time&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.starttime[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup DAT successful|&lt;p&gt;Is Last DataArea backup successful&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.dat.successful[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup LOG duration|&lt;p&gt;Last LogArea backup duration&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.log.duration[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup LOG end date|&lt;p&gt;Last LogArea backup end date&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.log.enddate[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup LOG end time|&lt;p&gt;Last LogArea backup end time&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.log.endtime[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup LOG message|&lt;p&gt;Last LogArea backup message&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.log.message[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup LOG number|&lt;p&gt;Last LogArea backup number&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.log.number[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup LOG start date|&lt;p&gt;Last LogArea backup start date&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.log.startdate[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup LOG start time|&lt;p&gt;Last LogArea backup start time&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.log.starttime[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup LOG successful|&lt;p&gt;Is Last LogArea backup successful&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.log.successful[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup PAG duration|&lt;p&gt;Last DataArea incremental backup duration&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.pag.duration[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup PAG end date|&lt;p&gt;Last DataArea incremental backup end date&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.pag.enddate[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup PAG end time|&lt;p&gt;Last DataArea incremental backup end time&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.pag.endtime[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup PAG message|&lt;p&gt;Last DataArea incremental backup message&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.pag.message[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup PAG number|&lt;p&gt;Last DataArea incremental backup number&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.pag.number[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup PAG start date|&lt;p&gt;Last DataArea incremental backup start date&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.pag.startdate[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup PAG start time|&lt;p&gt;Last DataArea incremental backup start time&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.pag.starttime[{#MAXDBNAME}]|
|{#MAXDBNAME} Backup PAG successful|&lt;p&gt;Is last DataArea incremental backup successful&lt;/p&gt;|<code class="language-plaintext highlighter-rouge">Dependent item</code>|maxdb.backup.pag.successful[{#MAXDBNAME}]|</p>

<h2 id="triggers">Triggers</h2>
<p>|Name|Description|Expression|Priority|
|—-|———–|———-|——–|
|Cant get {#MAXDBNAME} power state|&lt;p&gt;This error occurs when the monitoring system cannot get data about the power state of the database for a long time. Possible reasons: - critical database error; - <maxdb-dbm-monitor.jar> library command execution error; - no connection to the server.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.power.state[{#MAXDBNAME}].nodata(16m)}=1&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|hight|
|{#MAXDBNAME} all sessions are busy|&lt;p&gt;This error occurs when the session limit has been reached in the database, which means it is not possible to create a new connection to the database.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.sessions.active_percentage[{#MAXDBNAME}].last()}=100&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|hight|
|{#MAXDBNAME} DataArea is full|&lt;p&gt;This error occurs when the database runs out of free space. For the correct operation of the database, you need to free up some space or create a new DataArea volume.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.data.full[{#MAXDBNAME}].last()}=1&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|hight|
|{#MAXDBNAME} error occurred at getting power state info|&lt;p&gt;This error occurs when an exception occurs when the maxdb-dbm-monitor library executes <db_state> command. You need to analyze the message and fix the error.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.power.error[{#MAXDBNAME}].strlen()}&gt;1&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|hight|
|{#MAXDBNAME} is OFFLINE|&lt;p&gt;This error occurs when the database is in the state OFFLINE or UNKNOWN.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.power.state[{#MAXDBNAME}].last()}=0 or {MaxDB DBMMonitor:maxdb.power.state[{#MAXDBNAME}].last()}=4&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|hight|
|{#MAXDBNAME} LogArea is full|&lt;p&gt;This error occurs when the database runs out of free LogArea space. For the correct operation of the database, you need to backup LogArea or create a new LogAre volume.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.log.full[{#MAXDBNAME}].last()}=1&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|hight|
|{#XSERVERNAME} is not available on {#XSERVERPORT}|&lt;p&gt;This error occurs when it is not possible to connect to the XServer service.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:xserver.state[{#XSERVERNAME},{#XSERVERPORT}].last()}=0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#XSERVERNAME} error occurred at getting data|&lt;p&gt;This error occurs when an exception occurs in a maxdb-dbm-monitor library call. You need to analyze the message and fix the error.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:xserver.error[{#XSERVERNAME}].strlen()}&gt;1&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} connect not possible|&lt;p&gt;This error occurs when the DB reports that it cannot be connected to.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.common.connect_possible[{#MAXDBNAME}].last()}=0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} DataArea few space left|&lt;p&gt;DataArea cells are filled almost to the limit. It is necessary to analyze the increase in the amount of data in the database.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.data.percentage[{#MAXDBNAME}].last()}&gt;90 and ({MaxDB DBMMonitor:maxdb.data.max_bytes[{#MAXDBNAME}].last()}-{MaxDB DBMMonitor:maxdb.data.bytes[{#MAXDBNAME}].last()})&lt;{$MAXDB_DA_FREEBYTESLIMIT}&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} DAT daily backup not found|&lt;p&gt;Daily backup process has not been started, or is still in progress.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.backup.dat.checkdaily[{#MAXDBNAME}].last()}=1 and {MaxDB DBMMonitor:maxdb.backup.dat.enddate[{#MAXDBNAME}].last()}&lt;&gt;{MaxDB DBMMonitor:maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}].date()} and {MaxDB DBMMonitor:maxdb.backup.dat.checktime[{#MAXDBNAME}].last()}&lt;{MaxDB DBMMonitor:maxdb.backup[{$MAXDBHOST},{#MAXDBNAME},{$MAXDBUSER},{$MAXDBPASS},{$MAXDBPASSFILE},{$MAXDB_ZMACROS}].time()}&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} error occurred at getting DB info|&lt;p&gt;This error occurs when an exception occurs when the maxdb-dbm-monitor library executes info command. You need to parse the message and fix the error.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.backup.error[{#MAXDBNAME}].strlen()}&gt;1 or {MaxDB DBMMonitor:maxdb.cache.hitrate.error[{#MAXDBNAME}].strlen()}&gt;1 or {MaxDB DBMMonitor:maxdb.infostate.error[{#MAXDBNAME}].strlen()}&gt;1 or {MaxDB DBMMonitor:maxdb.locks.error[{#MAXDBNAME}].strlen()}&gt;1 or {MaxDB DBMMonitor:maxdb.log.error[{#MAXDBNAME}].strlen()}&gt;1 or {MaxDB DBMMonitor:maxdb.params.diff.error[{#MAXDBNAME}].strlen()}&gt;1&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} few sessions left|&lt;p&gt;This message occurs when the number of connections to the database has almost reached the limit. It is necessary to analyze opened database connections.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.sessions.active_percentage[{#MAXDBNAME}].last()}&gt;90&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} last DAT backup failed|&lt;p&gt;This error occurs when the last DataArea full backup failed.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.backup.dat.successful[{#MAXDBNAME}].last()}=0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} last LOG backup failed|&lt;p&gt;This error occurs when the last LogArea backup failed.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.backup.log.successful[{#MAXDBNAME}].last()}=0 and {MaxDB DBMMonitor:maxdb.log.autooverride[{#MAXDBNAME}].last()}&lt;&gt;1&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} last PAG backup failed|&lt;p&gt;This error occurs when the last DataArea incremental backup failed.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.backup.pag.successful[{#MAXDBNAME}].last()}=0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|{#MAXDBNAME} LogArea few space left|&lt;p&gt;LogArea cells are filled almost to the limit. It is necessary to analyze the increase in the amount of data in the LogArea or run backup task.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.log.percentage[{#MAXDBNAME}].last()}&gt;90 and ({MaxDB DBMMonitor:maxdb.log.max_bytes[{#MAXDBNAME}].last()}-{MaxDB DBMMonitor:maxdb.log.bytes[{#MAXDBNAME}].last()})&lt;{$MAXDB_LA_FREEBYTESLIMIT}&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|warning|
|There are new bad devspaces in the database {#MAXDBNAME}|&lt;p&gt;This message informs that there are new bad devspaces in the database.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.common.bad_devspaces[{#MAXDBNAME}].change()}&gt;0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|There are new bad indexes in the database {#MAXDBNAME}|&lt;p&gt;This message informs that there are new bad indexes in the database.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.common.bad_indexes[{#MAXDBNAME}].change()}&gt;0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} command monitoring disabled|&lt;p&gt;This message informs that command monitoring mode has been disabled in the database.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.common.command_monitoring[{#MAXDBNAME}].last()}=0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} database monitoring disabled|&lt;p&gt;This message informs that databese monitoring mode has been disabled in the database.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.common.database_monitoring[{#MAXDBNAME}].last()}=0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} is not ONLINE|&lt;p&gt;This message informs that databese is up, but not in ONLINE state.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.power.state[{#MAXDBNAME}].last()}=2 or {MaxDB DBMMonitor:maxdb.power.state[{#MAXDBNAME}].last()}=3&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} kernel trace disabled|&lt;p&gt;This message informs that kernel trace mode has been disabled in the database.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.common.kernel_trace[{#MAXDBNAME}].last()}=0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} LogArea auto override mode changed|&lt;p&gt;This message informs that the LogArea overwrite mode has been changed.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.log.autooverride[{#MAXDBNAME}].change()}&lt;&gt;0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} LogArea mirror mode changed|&lt;p&gt;This message informs that the LogArea mirror mode has been changed.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.log.mirrored[{#MAXDBNAME}].change()}&lt;&gt;0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} LogArea writing mode changed|&lt;p&gt;This message informs that the LogArea writing mode has been changed.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.log.writing[{#MAXDBNAME}].change()}&lt;&gt;0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} number of volumes in DataArea was been changed|&lt;p&gt;This message informs that the number of volumes in DataArea has been changed. Disable this trigger if dynamic DataArea adjustment is enabled.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.data.volumes_count[{#MAXDBNAME}].diff()}&lt;&gt;0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|
|{#MAXDBNAME} parameters was been changed|&lt;p&gt;This message informs about the change of one or more database parameters.&lt;/p&gt;|&lt;p&gt;**Expression**: {MaxDB DBMMonitor:maxdb.params.diff.value[{#MAXDBNAME}].strlen()}&gt;0&lt;/p&gt;&lt;p&gt;**Recovery expression**: &lt;/p&gt;|info|</db_state></maxdb-dbm-monitor.jar></p>


    </div>
    
  </div>
  <script>
    (function () {
      
      //console.log('#content_ver_5_4');
      //console.log('#ver_5_4');
      $('.readme').hide();
      $('#content_ver_5_4').fadeIn('slow');
      $('#ver_5_4').addClass('active');

      
      $('#ver_5_0').click(function () {
        //console.log('#content_ver_5_0');
        //console.log('#ver_5_0');
        $('.readme').hide();
        $('#content_ver_5_0').fadeIn('slow');
        $('.js_tab').removeClass('active')
        $('#ver_5_0').addClass('active');
      })
      
      $('#ver_6_0').click(function () {
        //console.log('#content_ver_6_0');
        //console.log('#ver_6_0');
        $('.readme').hide();
        $('#content_ver_6_0').fadeIn('slow');
        $('.js_tab').removeClass('active')
        $('#ver_6_0').addClass('active');
      })
      
      $('#ver_5_4').click(function () {
        //console.log('#content_ver_5_4');
        //console.log('#ver_5_4');
        $('.readme').hide();
        $('#content_ver_5_4').fadeIn('slow');
        $('.js_tab').removeClass('active')
        $('#ver_5_4').addClass('active');
      })
      
    })();
  </script>
</body>

</html>