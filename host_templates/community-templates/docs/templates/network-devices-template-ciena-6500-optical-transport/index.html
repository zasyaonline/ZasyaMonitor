<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Ciena 6500 2</title>
  <link rel="stylesheet" href="/assets/css/styles.css">
  <script src="/assets/js/jquery.min.js"></script>
</head>

<body id="body">
  
  
  
  <a href="https://github.com/zabbix/community-templates/tree/main/Network_Devices/template_ciena_6500_optical_transport">
    <section class="banner-integrations">
	<div class="w container conference-header" id="training_overview" style="padding-top: 60px; min-height: 150px;">
		<div class="banner-content" style="padding-left: 0; padding-bottom: 16px;">
			<h1 class="h1 center">Ciena 6500 2</h1>
		</div>
		<!-- <div class="w container">
			<div class="content text">
				<div class="grid grid-space-category center">
					
					<div class="span">
						<a class="card center category-button" href="" style="color: #25282F">category:network </a>
					</div>
					
					<div class="span">
						<a class="card center category-button" href="" style="color: #25282F">title:Ciena </a>
					</div>
					
				</div>
			</div>
		</div> -->
	</div>
</section>
  </a>
  <div class="w container">
    <h2 class="h2">Available versions</h2>
    <br>
    <div class="tabs-section">
      <div id="integrations_tabs" class="tabs">
        <ul>
          
          
          <li>
            <a class="js_tab" id="ver_5_0" href="#body">ver. 5.0
            </a>
          </li>
          
          <li>
            <a class="js_tab" id="ver_6_0" href="#body">ver. 6.0
            </a>
          </li>
          
          <li>
            <a class="js_tab" id="ver_5_4" href="#body">ver. 5.4
            </a>
          </li>
          
        </ul>
      </div>
    </div>
    <br>
    <br>
    
    
    <div id="content_ver_5_0" class="readme">
      <div class="banner-buttons " style="padding-top: 20px; ">
        <a class="button button-gray" style="color: #ffff;" href="/#network-devices-template-ciena-6500-optical-transport">Back to index</a>
        <a class="button button-green" style="color: #ffff;" href="https://raw.githubusercontent.com/zabbix/community-templates/main/Network_Devices/template_ciena_6500_optical_transport/5.0/template_ciena_6500_optical_transport.xml">Download</a>
      </div>
      
      



<h1 id="ciena-6500-2">Ciena 6500 2</h1>

<h2 id="overview">Overview</h2>

<p>This template will discover and monitor various optical interfaces - mainly light levels and baselines and alert if light levels fall outside of VARIANCE macro. Also will report when OSC has no light and serve a clear indication that there is a fiber issue.</p>

<p>No MIBs required. Used OIDs.</p>

<p>No Dependencies - just enable SNMP with v2 community on the shelf and set SNMP_COMMUNITY macro in template.</p>

<h2 id="author">Author</h2>

<p>Dustin Howard</p>

<h2 id="macros-used">Macros used</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Default</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{$OPTICAL_VARIANCE}</td>
      <td>&lt;p&gt;the allowed variance from baselines in db&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">2</code></td>
      <td>Text macro</td>
    </tr>
    <tr>
      <td>{$SNMP_COMMUNITY}</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">secret</code></td>
      <td>Text macro</td>
    </tr>
  </tbody>
</table>

<h2 id="template-links">Template links</h2>

<p>There are no template links in this template.</p>

<h2 id="discovery-rules">Discovery rules</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Key and additional info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Optical AMP Rx Discovery</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.rx.discovery&lt;p&gt;Update: 1d;wd1h13&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Shelf Inventory Discovery</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>enventory.discovery&lt;p&gt;Update: 1d;wd1h8&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Optical OSC Discovery</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.osc.discovery&lt;p&gt;Update: 1d;wd1h9&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Optical AMP Tx Discovery</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.tx.discovery&lt;p&gt;Update: 1d;wd1h12&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Optical OSC Spanloss Discovery</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.osc.spanloss.discovery&lt;p&gt;Update: 1d;wd1h10&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Ethernet Interface Discovery</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ethernet.transport.if.discovery&lt;p&gt;Update: 1d;wd1h14&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Optical Transport Interface Discovery</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.transport.if.discovery&lt;p&gt;Update: 1d;wd1h11&lt;/p&gt;</td>
    </tr>
  </tbody>
</table>

<h2 id="items-collected">Items collected</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Key and additional info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Number of Major Alarms</td>
      <td>&lt;p&gt;This is the number of major alarms that currently exist at this node which may have one or more shelves.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ciena.major.alarms&lt;p&gt;Update: 5m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Number of Warnings</td>
      <td>&lt;p&gt;This is the number of warnings that currently exist at this node which may have one or more shelves.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ciena.warnings&lt;p&gt;Update: 5m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Software Version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>software.version&lt;p&gt;Update: 6h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Number of Critical Alarms</td>
      <td>&lt;p&gt;This is the number of critical alarms that currently exist at this node which may have one or more shelves.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ciena.critical.alarms&lt;p&gt;Update: 5m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Device Uptime</td>
      <td>&lt;p&gt;The time (in seconds) since the network management portion of the system was last re-initialized.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>system.uptime&lt;p&gt;Update: 5m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Number of Minor Alarms</td>
      <td>&lt;p&gt;This is the number of minor alarms that currently exist at this node which may have one or more shelves.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ciena.minor.alarms&lt;p&gt;Update: 5m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#PORTNAME} “Optical Receive Power” baseline</td>
      <td>&lt;p&gt;The baseline set on the shelf. This can be re-initialized when needed via site manager.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.baseline[{#PORTNAME}.OPIN]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#PORTNAME} “Optical Receive Power”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.rx[{#PORTNAME}.OPIN]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Serial Number: “{#DESCRIPTION}” in {#CONTAINER} MODEL-{#MODEL}</td>
      <td>&lt;p&gt;The serial number for this module.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>serial.number.[{#SNMPINDEX}]&lt;p&gt;Update: 1d&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#PORTNAME} “{#CHECKNAME}”</td>
      <td>&lt;p&gt;The OSC received light level in dbm.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.osc[{#PORTNAME}.{#CHECKNAME}]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#PORTNAME} “Optical Transmit Power” baseline</td>
      <td>&lt;p&gt;The baseline set on the shelf. This can be re-initialized when needed via site manager.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.tx.baseline[{#PORTNAME}.OPOUT]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#PORTNAME} “Optical Return Loss” baseline</td>
      <td>&lt;p&gt;The baseline set on the shelf. This can be re-initialized when needed via site manager.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.tx.baseline[{#PORTNAME}.ORL]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#PORTNAME} “Optical Transmit Power”</td>
      <td>&lt;p&gt;The optical transit power for this port in dbm.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.tx[{#PORTNAME}.OPOUT]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#PORTNAME} “Optical Return Loss”</td>
      <td>&lt;p&gt;Optical Return Loss (ORL) is similar to SNR. The higher the ORL, the better.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.tx[{#PORTNAME}.ORL]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#PORTNAME} “{#CHECKNAME}”</td>
      <td>&lt;p&gt;The span loss ont he receive fiber in db.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.osc.spanloss[{#PORTNAME}.{#CHECKNAME}]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Bits Received</td>
      <td>&lt;p&gt;The total number of bits per second received on the interface.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ciena6500.ethernet.if.bits.in[{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Bits Sent</td>
      <td>&lt;p&gt;The total number of bits per second sent on the interface.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ciena6500.ethernet.if.bits.out[{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Ethernet Errors</td>
      <td>&lt;p&gt;The average number of inbound packets per second that contained errors preventing them from being deliverable to a higher-layer protocol.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ciena6500.ethernet.if.errors.in[{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Admin status</td>
      <td>&lt;p&gt;The administrative state of the interface.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ethernet.if.status[ifAdminStatus.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Operational status</td>
      <td>&lt;p&gt;The operational state of the interface.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ethernet.if.status[ifOperStatus.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Admin Status</td>
      <td>&lt;p&gt;The administrative status of the port.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>net.if.status[ifAdminStatus.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Operational status</td>
      <td>&lt;p&gt;The operational status of the port.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>net.if.status[ifOperStatus.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Optical Power Received</td>
      <td>&lt;p&gt;The optical power received at this port in dbm.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>net.if.status[opr.och.nend.rcv.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Optical Power Transmitted</td>
      <td>&lt;p&gt;The optical power transmitted at this port in dbm.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>net.if.status[opr.och.nend.trmt.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Post-FEC bit error rate</td>
      <td>&lt;p&gt;Post-FEC bit error rate estimate, optical channel transport unit&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>net.if.status[post.fec.ber.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Pre-FEC bit error rate</td>
      <td>&lt;p&gt;Pre-FEC bit error rate, optical channel transport unit&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>net.if.status[pre.fec.ber.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Uncorrected FEC block</td>
      <td>&lt;p&gt;Uncorrected FEC blocks, Optical Transport Unit.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>net.if.status[uncorrected.fec.block.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
  </tbody>
</table>

<h2 id="triggers">Triggers</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Expression</th>
      <th>Priority</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{#IFDESCR} DOWN</td>
      <td>&lt;p&gt;The operational status of this Ethernet interface is DOWN.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Ciena 6500 2:ethernet.if.status[ifOperStatus.{#SNMPINDEX}].last(#1)}&lt;&gt;1 and {Ciena 6500 2:ethernet.if.status[ifAdminStatus.{#SNMPINDEX}].last(#1,1)}=1&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>warning</td>
    </tr>
    <tr>
      <td>{#PORTNAME} has No Light</td>
      <td>&lt;p&gt;The last two values for “{#CHECKNAME}” is 0. The check reports 0db when the OSC circuit cannot determine the spanloss. This would indicate a loss of light.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Ciena 6500 2:optical.osc.spanloss[{#PORTNAME}.{#CHECKNAME}].sum(#2)}=0 or {Ciena 6500 2:optical.osc.spanloss[{#PORTNAME}.{#CHECKNAME}].last(#1)}&lt;-44&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>{#PORTNAME} Optical Rx Power crossed baseline thresholds</td>
      <td>&lt;p&gt;The optical power level it more than {$OPTICAL_VARIANCE}db from the baseline value. This could be due to a new fiber event or the baselines may need to be reset. First verify the optical path then decide weather to reset the baselines. The baseline value can be reset in the PMs on the Ciena shelf.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: (({Ciena 6500 2:optical.rx[{#PORTNAME}.OPIN].last(#1)}&lt;{Ciena 6500 2:optical.baseline[{#PORTNAME}.OPIN].last(#1)}-2) or ({Ciena 6500 2:optical.rx[{#PORTNAME}.OPIN].last(#1)}&gt;{Ciena 6500 2:optical.baseline[{#PORTNAME}.OPIN].last(#1)}+2))&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>information</td>
    </tr>
    <tr>
      <td>{#IFDESCR} DOWN</td>
      <td>&lt;p&gt;The interface status is not UP for this DWDM transport interface. This indicates the DWDM wave is down and could be a result of a fiber cut.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Ciena 6500 2:net.if.status[ifOperStatus.{#SNMPINDEX}].last(#1)}&lt;&gt;1 and {Ciena 6500 2:net.if.status[ifAdminStatus.{#SNMPINDEX}].last(#1,1)}=1&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>{#PORTNAME} Optical Return Loss crossed baseline thresholds</td>
      <td>&lt;p&gt;The optical return loss it more than {$OPTICAL_VARIANCE}db from the baseline value. This could be due to a new fiber event or the baselines may need to be reset. First verify the optical path then decide weather to reset the baselines. The baseline value can be reset in the PMs on the Ciena shelf.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: ({Ciena 6500 2:optical.tx[{#PORTNAME}.ORL].last(#1)}&lt;{Ciena 6500 2:optical.tx.baseline[{#PORTNAME}.ORL].last(#1)}-2) or ({Ciena 6500 2:optical.tx[{#PORTNAME}.ORL].last(#1)}&gt;{Ciena 6500 2:optical.tx.baseline[{#PORTNAME}.ORL].last(#1)}+2)&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>information</td>
    </tr>
    <tr>
      <td>{#PORTNAME} Optical Tx Power crossed baseline thresholds</td>
      <td>&lt;p&gt;The optical power level is more than {$OPTICAL_VARIANCE}db from the baseline value. This could be due to a new fiber event or the baselines may need to be reset. First verify the optical path then decide weather to reset the baselines. The baseline value can be reset in the PMs on the Ciena shelf.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: ({Ciena 6500 2:optical.tx[{#PORTNAME}.OPOUT].last(#1)}&lt;{Ciena 6500 2:optical.tx.baseline[{#PORTNAME}.OPOUT].last(#1)}-2) or ({Ciena 6500 2:optical.tx[{#PORTNAME}.OPOUT].last(#1)}&gt;{Ciena 6500 2:optical.tx.baseline[{#PORTNAME}.OPOUT].last(#1)}+2)&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>information</td>
    </tr>
    <tr>
      <td>{#PORTNAME} LOW “Optical Return Loss”</td>
      <td>&lt;p&gt;Optical Return Loss (ORL) is similar to SNR. The higher the ORL, the better. The minimum ORL is 30db. Anything lower than 30db indicates a fiber issue, such as a dirty connector or improper fiber mating.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Ciena 6500 2:optical.tx[{#PORTNAME}.ORL].last(#1)}&lt;30&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>warning</td>
    </tr>
    <tr>
      <td>{#PORTNAME} Optical Rx Power crossed baseline thresholds (LLD)</td>
      <td>&lt;p&gt;The optical power level it more than {$OPTICAL_VARIANCE}db from the baseline value. This could be due to a new fiber event or the baselines may need to be reset. First verify the optical path then decide weather to reset the baselines. The baseline value can be reset in the PMs on the Ciena shelf.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: (({Ciena 6500 2:optical.rx[{#PORTNAME}.OPIN].last(#1)}&lt;{Ciena 6500 2:optical.baseline[{#PORTNAME}.OPIN].last(#1)}-2) or ({Ciena 6500 2:optical.rx[{#PORTNAME}.OPIN].last(#1)}&gt;{Ciena 6500 2:optical.baseline[{#PORTNAME}.OPIN].last(#1)}+2))&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>information</td>
    </tr>
    <tr>
      <td>{#PORTNAME} Optical Return Loss crossed baseline thresholds (LLD)</td>
      <td>&lt;p&gt;The optical return loss it more than {$OPTICAL_VARIANCE}db from the baseline value. This could be due to a new fiber event or the baselines may need to be reset. First verify the optical path then decide weather to reset the baselines. The baseline value can be reset in the PMs on the Ciena shelf.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: ({Ciena 6500 2:optical.tx[{#PORTNAME}.ORL].last(#1)}&lt;{Ciena 6500 2:optical.tx.baseline[{#PORTNAME}.ORL].last(#1)}-2) or ({Ciena 6500 2:optical.tx[{#PORTNAME}.ORL].last(#1)}&gt;{Ciena 6500 2:optical.tx.baseline[{#PORTNAME}.ORL].last(#1)}+2)&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>information</td>
    </tr>
    <tr>
      <td>{#PORTNAME} Optical Tx Power crossed baseline thresholds (LLD)</td>
      <td>&lt;p&gt;The optical power level is more than {$OPTICAL_VARIANCE}db from the baseline value. This could be due to a new fiber event or the baselines may need to be reset. First verify the optical path then decide weather to reset the baselines. The baseline value can be reset in the PMs on the Ciena shelf.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: ({Ciena 6500 2:optical.tx[{#PORTNAME}.OPOUT].last(#1)}&lt;{Ciena 6500 2:optical.tx.baseline[{#PORTNAME}.OPOUT].last(#1)}-2) or ({Ciena 6500 2:optical.tx[{#PORTNAME}.OPOUT].last(#1)}&gt;{Ciena 6500 2:optical.tx.baseline[{#PORTNAME}.OPOUT].last(#1)}+2)&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>information</td>
    </tr>
    <tr>
      <td>{#PORTNAME} LOW “Optical Return Loss” (LLD)</td>
      <td>&lt;p&gt;Optical Return Loss (ORL) is similar to SNR. The higher the ORL, the better. The minimum ORL is 30db. Anything lower than 30db indicates a fiber issue, such as a dirty connector or improper fiber mating.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Ciena 6500 2:optical.tx[{#PORTNAME}.ORL].last(#1)}&lt;30&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>warning</td>
    </tr>
    <tr>
      <td>{#PORTNAME} has No Light (LLD)</td>
      <td>&lt;p&gt;The last two values for “{#CHECKNAME}” is 0. The check reports 0db when the OSC circuit cannot determine the spanloss. This would indicate a loss of light.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Ciena 6500 2:optical.osc.spanloss[{#PORTNAME}.{#CHECKNAME}].sum(#2)}=0 or {Ciena 6500 2:optical.osc.spanloss[{#PORTNAME}.{#CHECKNAME}].last(#1)}&lt;-44&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>{#IFDESCR} DOWN (LLD)</td>
      <td>&lt;p&gt;The operational status of this Ethernet interface is DOWN.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Ciena 6500 2:ethernet.if.status[ifOperStatus.{#SNMPINDEX}].last(#1)}&lt;&gt;1 and {Ciena 6500 2:ethernet.if.status[ifAdminStatus.{#SNMPINDEX}].last(#1,1)}=1&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>warning</td>
    </tr>
    <tr>
      <td>{#IFDESCR} DOWN (LLD)</td>
      <td>&lt;p&gt;The interface status is not UP for this DWDM transport interface. This indicates the DWDM wave is down and could be a result of a fiber cut.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: {Ciena 6500 2:net.if.status[ifOperStatus.{#SNMPINDEX}].last(#1)}&lt;&gt;1 and {Ciena 6500 2:net.if.status[ifAdminStatus.{#SNMPINDEX}].last(#1,1)}=1&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
  </tbody>
</table>


    </div>
    
    
    <div id="content_ver_6_0" class="readme">
      <div class="banner-buttons " style="padding-top: 20px; ">
        <a class="button button-gray" style="color: #ffff;" href="/#network-devices-template-ciena-6500-optical-transport">Back to index</a>
        <a class="button button-green" style="color: #ffff;" href="https://raw.githubusercontent.com/zabbix/community-templates/main/Network_Devices/template_ciena_6500_optical_transport/6.0/template_ciena_6500_optical_transport.yaml">Download</a>
      </div>
      
      



<h1 id="ciena-6500-2">Ciena 6500 2</h1>

<h2 id="overview">Overview</h2>

<p>This template will discover and monitor various optical interfaces - mainly light levels and baselines and alert if light levels fall outside of VARIANCE macro. Also will report when OSC has no light and serve a clear indication that there is a fiber issue.</p>

<p>No MIBs required. Used OIDs.</p>

<p>No Dependencies - just enable SNMP with v2 community on the shelf and set SNMP_COMMUNITY macro in template.</p>

<h2 id="author">Author</h2>

<p>Dustin Howard</p>

<h2 id="macros-used">Macros used</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Default</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{$OPTICAL_VARIANCE}</td>
      <td>&lt;p&gt;the allowed variance from baselines in db&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">2</code></td>
      <td>Text macro</td>
    </tr>
    <tr>
      <td>{$SNMP_COMMUNITY}</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">secret</code></td>
      <td>Text macro</td>
    </tr>
  </tbody>
</table>

<h2 id="template-links">Template links</h2>

<p>There are no template links in this template.</p>

<h2 id="discovery-rules">Discovery rules</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Key and additional info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Ethernet Interface Discovery</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ethernet.transport.if.discovery&lt;p&gt;Update: 1d;wd1h14&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Shelf Inventory Discovery</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>enventory.discovery&lt;p&gt;Update: 1d;wd1h8&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Optical OSC Discovery</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.osc.discovery&lt;p&gt;Update: 1d;wd1h9&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Optical AMP Tx Discovery</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.tx.discovery&lt;p&gt;Update: 1d;wd1h12&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Optical AMP Rx Discovery</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.rx.discovery&lt;p&gt;Update: 1d;wd1h13&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Optical Transport Interface Discovery</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.transport.if.discovery&lt;p&gt;Update: 1d;wd1h11&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Optical OSC Spanloss Discovery</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.osc.spanloss.discovery&lt;p&gt;Update: 1d;wd1h10&lt;/p&gt;</td>
    </tr>
  </tbody>
</table>

<h2 id="items-collected">Items collected</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Key and additional info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Number of Warnings</td>
      <td>&lt;p&gt;This is the number of warnings that currently exist at this node which may have one or more shelves.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ciena.warnings&lt;p&gt;Update: 5m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Software Version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>software.version&lt;p&gt;Update: 6h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Number of Critical Alarms</td>
      <td>&lt;p&gt;This is the number of critical alarms that currently exist at this node which may have one or more shelves.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ciena.critical.alarms&lt;p&gt;Update: 5m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Number of Major Alarms</td>
      <td>&lt;p&gt;This is the number of major alarms that currently exist at this node which may have one or more shelves.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ciena.major.alarms&lt;p&gt;Update: 5m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Device Uptime</td>
      <td>&lt;p&gt;The time (in seconds) since the network management portion of the system was last re-initialized.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>system.uptime&lt;p&gt;Update: 5m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Number of Minor Alarms</td>
      <td>&lt;p&gt;This is the number of minor alarms that currently exist at this node which may have one or more shelves.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ciena.minor.alarms&lt;p&gt;Update: 5m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Bits Received</td>
      <td>&lt;p&gt;The total number of bits per second received on the interface.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ciena6500.ethernet.if.bits.in[{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Bits Sent</td>
      <td>&lt;p&gt;The total number of bits per second sent on the interface.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ciena6500.ethernet.if.bits.out[{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Ethernet Errors</td>
      <td>&lt;p&gt;The average number of inbound packets per second that contained errors preventing them from being deliverable to a higher-layer protocol.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ciena6500.ethernet.if.errors.in[{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Admin status</td>
      <td>&lt;p&gt;The administrative state of the interface.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ethernet.if.status[ifAdminStatus.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Operational status</td>
      <td>&lt;p&gt;The operational state of the interface.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ethernet.if.status[ifOperStatus.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Serial Number: “{#DESCRIPTION}” in {#CONTAINER} MODEL-{#MODEL}</td>
      <td>&lt;p&gt;The serial number for this module.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>serial.number.[{#SNMPINDEX}]&lt;p&gt;Update: 1d&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#PORTNAME} “{#CHECKNAME}”</td>
      <td>&lt;p&gt;The OSC received light level in dbm.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.osc[{#PORTNAME}.{#CHECKNAME}]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#PORTNAME} “Optical Transmit Power” baseline</td>
      <td>&lt;p&gt;The baseline set on the shelf. This can be re-initialized when needed via site manager.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.tx.baseline[{#PORTNAME}.OPOUT]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#PORTNAME} “Optical Return Loss” baseline</td>
      <td>&lt;p&gt;The baseline set on the shelf. This can be re-initialized when needed via site manager.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.tx.baseline[{#PORTNAME}.ORL]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#PORTNAME} “Optical Transmit Power”</td>
      <td>&lt;p&gt;The optical transit power for this port in dbm.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.tx[{#PORTNAME}.OPOUT]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#PORTNAME} “Optical Return Loss”</td>
      <td>&lt;p&gt;Optical Return Loss (ORL) is similar to SNR. The higher the ORL, the better.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.tx[{#PORTNAME}.ORL]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#PORTNAME} “Optical Receive Power” baseline</td>
      <td>&lt;p&gt;The baseline set on the shelf. This can be re-initialized when needed via site manager.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.baseline[{#PORTNAME}.OPIN]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#PORTNAME} “Optical Receive Power”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.rx[{#PORTNAME}.OPIN]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Admin Status</td>
      <td>&lt;p&gt;The administrative status of the port.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>net.if.status[ifAdminStatus.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Operational status</td>
      <td>&lt;p&gt;The operational status of the port.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>net.if.status[ifOperStatus.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Optical Power Received</td>
      <td>&lt;p&gt;The optical power received at this port in dbm.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>net.if.status[opr.och.nend.rcv.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Optical Power Transmitted</td>
      <td>&lt;p&gt;The optical power transmitted at this port in dbm.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>net.if.status[opr.och.nend.trmt.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Post-FEC bit error rate</td>
      <td>&lt;p&gt;Post-FEC bit error rate estimate, optical channel transport unit&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>net.if.status[post.fec.ber.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Pre-FEC bit error rate</td>
      <td>&lt;p&gt;Pre-FEC bit error rate, optical channel transport unit&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>net.if.status[pre.fec.ber.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Uncorrected FEC block</td>
      <td>&lt;p&gt;Uncorrected FEC blocks, Optical Transport Unit.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>net.if.status[uncorrected.fec.block.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#PORTNAME} “{#CHECKNAME}”</td>
      <td>&lt;p&gt;The span loss ont he receive fiber in db.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.osc.spanloss[{#PORTNAME}.{#CHECKNAME}]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
  </tbody>
</table>

<h2 id="triggers">Triggers</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Expression</th>
      <th>Priority</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{#IFDESCR} DOWN</td>
      <td>&lt;p&gt;The operational status of this Ethernet interface is DOWN.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Ciena 6500 2/ethernet.if.status[ifOperStatus.{#SNMPINDEX}],#1)&lt;&gt;1 and last(/Ciena 6500 2/ethernet.if.status[ifAdminStatus.{#SNMPINDEX}],#1:now-1s)=1&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>warning</td>
    </tr>
    <tr>
      <td>{#PORTNAME} has No Light</td>
      <td>&lt;p&gt;The last two values for “{#CHECKNAME}” is 0. The check reports 0db when the OSC circuit cannot determine the spanloss. This would indicate a loss of light.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: sum(/Ciena 6500 2/optical.osc.spanloss[{#PORTNAME}.{#CHECKNAME}],#2)=0 or last(/Ciena 6500 2/optical.osc.spanloss[{#PORTNAME}.{#CHECKNAME}],#1)&lt;-44&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>{#PORTNAME} Optical Rx Power crossed baseline thresholds</td>
      <td>&lt;p&gt;The optical power level it more than {$OPTICAL_VARIANCE}db from the baseline value. This could be due to a new fiber event or the baselines may need to be reset. First verify the optical path then decide weather to reset the baselines. The baseline value can be reset in the PMs on the Ciena shelf.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: ((last(/Ciena 6500 2/optical.rx[{#PORTNAME}.OPIN],#1)&lt;last(/Ciena 6500 2/optical.baseline[{#PORTNAME}.OPIN],#1)-2) or (last(/Ciena 6500 2/optical.rx[{#PORTNAME}.OPIN],#1)&gt;last(/Ciena 6500 2/optical.baseline[{#PORTNAME}.OPIN],#1)+2))&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>information</td>
    </tr>
    <tr>
      <td>{#IFDESCR} DOWN</td>
      <td>&lt;p&gt;The interface status is not UP for this DWDM transport interface. This indicates the DWDM wave is down and could be a result of a fiber cut.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Ciena 6500 2/net.if.status[ifOperStatus.{#SNMPINDEX}],#1)&lt;&gt;1 and last(/Ciena 6500 2/net.if.status[ifAdminStatus.{#SNMPINDEX}],#1:now-1s)=1&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>{#PORTNAME} Optical Return Loss crossed baseline thresholds</td>
      <td>&lt;p&gt;The optical return loss it more than {$OPTICAL_VARIANCE}db from the baseline value. This could be due to a new fiber event or the baselines may need to be reset. First verify the optical path then decide weather to reset the baselines. The baseline value can be reset in the PMs on the Ciena shelf.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: (last(/Ciena 6500 2/optical.tx[{#PORTNAME}.ORL],#1)&lt;last(/Ciena 6500 2/optical.tx.baseline[{#PORTNAME}.ORL],#1)-2) or (last(/Ciena 6500 2/optical.tx[{#PORTNAME}.ORL],#1)&gt;last(/Ciena 6500 2/optical.tx.baseline[{#PORTNAME}.ORL],#1)+2)&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>information</td>
    </tr>
    <tr>
      <td>{#PORTNAME} Optical Tx Power crossed baseline thresholds</td>
      <td>&lt;p&gt;The optical power level is more than {$OPTICAL_VARIANCE}db from the baseline value. This could be due to a new fiber event or the baselines may need to be reset. First verify the optical path then decide weather to reset the baselines. The baseline value can be reset in the PMs on the Ciena shelf.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: (last(/Ciena 6500 2/optical.tx[{#PORTNAME}.OPOUT],#1)&lt;last(/Ciena 6500 2/optical.tx.baseline[{#PORTNAME}.OPOUT],#1)-2) or (last(/Ciena 6500 2/optical.tx[{#PORTNAME}.OPOUT],#1)&gt;last(/Ciena 6500 2/optical.tx.baseline[{#PORTNAME}.OPOUT],#1)+2)&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>information</td>
    </tr>
    <tr>
      <td>{#PORTNAME} LOW “Optical Return Loss”</td>
      <td>&lt;p&gt;Optical Return Loss (ORL) is similar to SNR. The higher the ORL, the better. The minimum ORL is 30db. Anything lower than 30db indicates a fiber issue, such as a dirty connector or improper fiber mating.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Ciena 6500 2/optical.tx[{#PORTNAME}.ORL],#1)&lt;30&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>warning</td>
    </tr>
    <tr>
      <td>{#IFDESCR} DOWN (LLD)</td>
      <td>&lt;p&gt;The operational status of this Ethernet interface is DOWN.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Ciena 6500 2/ethernet.if.status[ifOperStatus.{#SNMPINDEX}],#1)&lt;&gt;1 and last(/Ciena 6500 2/ethernet.if.status[ifAdminStatus.{#SNMPINDEX}],#1:now-1s)=1&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>warning</td>
    </tr>
    <tr>
      <td>{#PORTNAME} Optical Return Loss crossed baseline thresholds (LLD)</td>
      <td>&lt;p&gt;The optical return loss it more than {$OPTICAL_VARIANCE}db from the baseline value. This could be due to a new fiber event or the baselines may need to be reset. First verify the optical path then decide weather to reset the baselines. The baseline value can be reset in the PMs on the Ciena shelf.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: (last(/Ciena 6500 2/optical.tx[{#PORTNAME}.ORL],#1)&lt;last(/Ciena 6500 2/optical.tx.baseline[{#PORTNAME}.ORL],#1)-2) or (last(/Ciena 6500 2/optical.tx[{#PORTNAME}.ORL],#1)&gt;last(/Ciena 6500 2/optical.tx.baseline[{#PORTNAME}.ORL],#1)+2)&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>information</td>
    </tr>
    <tr>
      <td>{#PORTNAME} Optical Tx Power crossed baseline thresholds (LLD)</td>
      <td>&lt;p&gt;The optical power level is more than {$OPTICAL_VARIANCE}db from the baseline value. This could be due to a new fiber event or the baselines may need to be reset. First verify the optical path then decide weather to reset the baselines. The baseline value can be reset in the PMs on the Ciena shelf.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: (last(/Ciena 6500 2/optical.tx[{#PORTNAME}.OPOUT],#1)&lt;last(/Ciena 6500 2/optical.tx.baseline[{#PORTNAME}.OPOUT],#1)-2) or (last(/Ciena 6500 2/optical.tx[{#PORTNAME}.OPOUT],#1)&gt;last(/Ciena 6500 2/optical.tx.baseline[{#PORTNAME}.OPOUT],#1)+2)&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>information</td>
    </tr>
    <tr>
      <td>{#PORTNAME} LOW “Optical Return Loss” (LLD)</td>
      <td>&lt;p&gt;Optical Return Loss (ORL) is similar to SNR. The higher the ORL, the better. The minimum ORL is 30db. Anything lower than 30db indicates a fiber issue, such as a dirty connector or improper fiber mating.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Ciena 6500 2/optical.tx[{#PORTNAME}.ORL],#1)&lt;30&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>warning</td>
    </tr>
    <tr>
      <td>{#PORTNAME} Optical Rx Power crossed baseline thresholds (LLD)</td>
      <td>&lt;p&gt;The optical power level it more than {$OPTICAL_VARIANCE}db from the baseline value. This could be due to a new fiber event or the baselines may need to be reset. First verify the optical path then decide weather to reset the baselines. The baseline value can be reset in the PMs on the Ciena shelf.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: ((last(/Ciena 6500 2/optical.rx[{#PORTNAME}.OPIN],#1)&lt;last(/Ciena 6500 2/optical.baseline[{#PORTNAME}.OPIN],#1)-2) or (last(/Ciena 6500 2/optical.rx[{#PORTNAME}.OPIN],#1)&gt;last(/Ciena 6500 2/optical.baseline[{#PORTNAME}.OPIN],#1)+2))&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>information</td>
    </tr>
    <tr>
      <td>{#IFDESCR} DOWN (LLD)</td>
      <td>&lt;p&gt;The interface status is not UP for this DWDM transport interface. This indicates the DWDM wave is down and could be a result of a fiber cut.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Ciena 6500 2/net.if.status[ifOperStatus.{#SNMPINDEX}],#1)&lt;&gt;1 and last(/Ciena 6500 2/net.if.status[ifAdminStatus.{#SNMPINDEX}],#1:now-1s)=1&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>{#PORTNAME} has No Light (LLD)</td>
      <td>&lt;p&gt;The last two values for “{#CHECKNAME}” is 0. The check reports 0db when the OSC circuit cannot determine the spanloss. This would indicate a loss of light.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: sum(/Ciena 6500 2/optical.osc.spanloss[{#PORTNAME}.{#CHECKNAME}],#2)=0 or last(/Ciena 6500 2/optical.osc.spanloss[{#PORTNAME}.{#CHECKNAME}],#1)&lt;-44&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
  </tbody>
</table>


    </div>
    
    
    <div id="content_ver_5_4" class="readme">
      <div class="banner-buttons " style="padding-top: 20px; ">
        <a class="button button-gray" style="color: #ffff;" href="/#network-devices-template-ciena-6500-optical-transport">Back to index</a>
        <a class="button button-green" style="color: #ffff;" href="https://raw.githubusercontent.com/zabbix/community-templates/main/Network_Devices/template_ciena_6500_optical_transport/5.4/template_ciena_6500_optical_transport.yaml">Download</a>
      </div>
      
      



<h1 id="ciena-6500-2">Ciena 6500 2</h1>

<h2 id="overview">Overview</h2>

<p>This template will discover and monitor various optical interfaces - mainly light levels and baselines and alert if light levels fall outside of VARIANCE macro. Also will report when OSC has no light and serve a clear indication that there is a fiber issue.</p>

<p>No MIBs required. Used OIDs.</p>

<p>No Dependencies - just enable SNMP with v2 community on the shelf and set SNMP_COMMUNITY macro in template.</p>

<h2 id="author">Author</h2>

<p>Dustin Howard</p>

<h2 id="macros-used">Macros used</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Default</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{$OPTICAL_VARIANCE}</td>
      <td>&lt;p&gt;the allowed variance from baselines in db&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">2</code></td>
      <td>Text macro</td>
    </tr>
    <tr>
      <td>{$SNMP_COMMUNITY}</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">secret</code></td>
      <td>Text macro</td>
    </tr>
  </tbody>
</table>

<h2 id="template-links">Template links</h2>

<p>There are no template links in this template.</p>

<h2 id="discovery-rules">Discovery rules</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Key and additional info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Ethernet Interface Discovery</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ethernet.transport.if.discovery&lt;p&gt;Update: 1d;wd1h14&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Shelf Inventory Discovery</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>enventory.discovery&lt;p&gt;Update: 1d;wd1h8&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Optical OSC Discovery</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.osc.discovery&lt;p&gt;Update: 1d;wd1h9&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Optical AMP Tx Discovery</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.tx.discovery&lt;p&gt;Update: 1d;wd1h12&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Optical AMP Rx Discovery</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.rx.discovery&lt;p&gt;Update: 1d;wd1h13&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Optical Transport Interface Discovery</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.transport.if.discovery&lt;p&gt;Update: 1d;wd1h11&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Optical OSC Spanloss Discovery</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.osc.spanloss.discovery&lt;p&gt;Update: 1d;wd1h10&lt;/p&gt;</td>
    </tr>
  </tbody>
</table>

<h2 id="items-collected">Items collected</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Key and additional info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Number of Warnings</td>
      <td>&lt;p&gt;This is the number of warnings that currently exist at this node which may have one or more shelves.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ciena.warnings&lt;p&gt;Update: 5m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Software Version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>software.version&lt;p&gt;Update: 6h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Number of Critical Alarms</td>
      <td>&lt;p&gt;This is the number of critical alarms that currently exist at this node which may have one or more shelves.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ciena.critical.alarms&lt;p&gt;Update: 5m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Number of Major Alarms</td>
      <td>&lt;p&gt;This is the number of major alarms that currently exist at this node which may have one or more shelves.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ciena.major.alarms&lt;p&gt;Update: 5m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Device Uptime</td>
      <td>&lt;p&gt;The time (in seconds) since the network management portion of the system was last re-initialized.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>system.uptime&lt;p&gt;Update: 5m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Number of Minor Alarms</td>
      <td>&lt;p&gt;This is the number of minor alarms that currently exist at this node which may have one or more shelves.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ciena.minor.alarms&lt;p&gt;Update: 5m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Bits Received</td>
      <td>&lt;p&gt;The total number of bits per second received on the interface.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ciena6500.ethernet.if.bits.in[{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Bits Sent</td>
      <td>&lt;p&gt;The total number of bits per second sent on the interface.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ciena6500.ethernet.if.bits.out[{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Ethernet Errors</td>
      <td>&lt;p&gt;The average number of inbound packets per second that contained errors preventing them from being deliverable to a higher-layer protocol.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ciena6500.ethernet.if.errors.in[{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Admin status</td>
      <td>&lt;p&gt;The administrative state of the interface.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ethernet.if.status[ifAdminStatus.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Operational status</td>
      <td>&lt;p&gt;The operational state of the interface.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ethernet.if.status[ifOperStatus.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Serial Number: “{#DESCRIPTION}” in {#CONTAINER} MODEL-{#MODEL}</td>
      <td>&lt;p&gt;The serial number for this module.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>serial.number.[{#SNMPINDEX}]&lt;p&gt;Update: 1d&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#PORTNAME} “{#CHECKNAME}”</td>
      <td>&lt;p&gt;The OSC received light level in dbm.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.osc[{#PORTNAME}.{#CHECKNAME}]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#PORTNAME} “Optical Transmit Power” baseline</td>
      <td>&lt;p&gt;The baseline set on the shelf. This can be re-initialized when needed via site manager.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.tx.baseline[{#PORTNAME}.OPOUT]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#PORTNAME} “Optical Return Loss” baseline</td>
      <td>&lt;p&gt;The baseline set on the shelf. This can be re-initialized when needed via site manager.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.tx.baseline[{#PORTNAME}.ORL]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#PORTNAME} “Optical Transmit Power”</td>
      <td>&lt;p&gt;The optical transit power for this port in dbm.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.tx[{#PORTNAME}.OPOUT]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#PORTNAME} “Optical Return Loss”</td>
      <td>&lt;p&gt;Optical Return Loss (ORL) is similar to SNR. The higher the ORL, the better.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.tx[{#PORTNAME}.ORL]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#PORTNAME} “Optical Receive Power” baseline</td>
      <td>&lt;p&gt;The baseline set on the shelf. This can be re-initialized when needed via site manager.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.baseline[{#PORTNAME}.OPIN]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#PORTNAME} “Optical Receive Power”</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.rx[{#PORTNAME}.OPIN]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Admin Status</td>
      <td>&lt;p&gt;The administrative status of the port.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>net.if.status[ifAdminStatus.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Operational status</td>
      <td>&lt;p&gt;The operational status of the port.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>net.if.status[ifOperStatus.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Optical Power Received</td>
      <td>&lt;p&gt;The optical power received at this port in dbm.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>net.if.status[opr.och.nend.rcv.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Optical Power Transmitted</td>
      <td>&lt;p&gt;The optical power transmitted at this port in dbm.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>net.if.status[opr.och.nend.trmt.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Post-FEC bit error rate</td>
      <td>&lt;p&gt;Post-FEC bit error rate estimate, optical channel transport unit&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>net.if.status[post.fec.ber.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Pre-FEC bit error rate</td>
      <td>&lt;p&gt;Pre-FEC bit error rate, optical channel transport unit&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>net.if.status[pre.fec.ber.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#IFDESCR}: Uncorrected FEC block</td>
      <td>&lt;p&gt;Uncorrected FEC blocks, Optical Transport Unit.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>net.if.status[uncorrected.fec.block.{#SNMPINDEX}]&lt;p&gt;Update: 5m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>{#PORTNAME} “{#CHECKNAME}”</td>
      <td>&lt;p&gt;The span loss ont he receive fiber in db.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>optical.osc.spanloss[{#PORTNAME}.{#CHECKNAME}]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
  </tbody>
</table>

<h2 id="triggers">Triggers</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Expression</th>
      <th>Priority</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{#IFDESCR} DOWN</td>
      <td>&lt;p&gt;The operational status of this Ethernet interface is DOWN.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Ciena 6500 2/ethernet.if.status[ifOperStatus.{#SNMPINDEX}],#1)&lt;&gt;1 and last(/Ciena 6500 2/ethernet.if.status[ifAdminStatus.{#SNMPINDEX}],#1:now-1s)=1&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>warning</td>
    </tr>
    <tr>
      <td>{#PORTNAME} has No Light</td>
      <td>&lt;p&gt;The last two values for “{#CHECKNAME}” is 0. The check reports 0db when the OSC circuit cannot determine the spanloss. This would indicate a loss of light.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: sum(/Ciena 6500 2/optical.osc.spanloss[{#PORTNAME}.{#CHECKNAME}],#2)=0 or last(/Ciena 6500 2/optical.osc.spanloss[{#PORTNAME}.{#CHECKNAME}],#1)&lt;-44&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
    <tr>
      <td>{#PORTNAME} Optical Rx Power crossed baseline thresholds</td>
      <td>&lt;p&gt;The optical power level it more than {$OPTICAL_VARIANCE}db from the baseline value. This could be due to a new fiber event or the baselines may need to be reset. First verify the optical path then decide weather to reset the baselines. The baseline value can be reset in the PMs on the Ciena shelf.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: ((last(/Ciena 6500 2/optical.rx[{#PORTNAME}.OPIN],#1)&lt;last(/Ciena 6500 2/optical.baseline[{#PORTNAME}.OPIN],#1)-2) or (last(/Ciena 6500 2/optical.rx[{#PORTNAME}.OPIN],#1)&gt;last(/Ciena 6500 2/optical.baseline[{#PORTNAME}.OPIN],#1)+2))&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>information</td>
    </tr>
    <tr>
      <td>{#IFDESCR} DOWN</td>
      <td>&lt;p&gt;The interface status is not UP for this DWDM transport interface. This indicates the DWDM wave is down and could be a result of a fiber cut.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Ciena 6500 2/net.if.status[ifOperStatus.{#SNMPINDEX}],#1)&lt;&gt;1 and last(/Ciena 6500 2/net.if.status[ifAdminStatus.{#SNMPINDEX}],#1:now-1s)=1&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>{#PORTNAME} Optical Return Loss crossed baseline thresholds</td>
      <td>&lt;p&gt;The optical return loss it more than {$OPTICAL_VARIANCE}db from the baseline value. This could be due to a new fiber event or the baselines may need to be reset. First verify the optical path then decide weather to reset the baselines. The baseline value can be reset in the PMs on the Ciena shelf.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: (last(/Ciena 6500 2/optical.tx[{#PORTNAME}.ORL],#1)&lt;last(/Ciena 6500 2/optical.tx.baseline[{#PORTNAME}.ORL],#1)-2) or (last(/Ciena 6500 2/optical.tx[{#PORTNAME}.ORL],#1)&gt;last(/Ciena 6500 2/optical.tx.baseline[{#PORTNAME}.ORL],#1)+2)&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>information</td>
    </tr>
    <tr>
      <td>{#PORTNAME} Optical Tx Power crossed baseline thresholds</td>
      <td>&lt;p&gt;The optical power level is more than {$OPTICAL_VARIANCE}db from the baseline value. This could be due to a new fiber event or the baselines may need to be reset. First verify the optical path then decide weather to reset the baselines. The baseline value can be reset in the PMs on the Ciena shelf.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: (last(/Ciena 6500 2/optical.tx[{#PORTNAME}.OPOUT],#1)&lt;last(/Ciena 6500 2/optical.tx.baseline[{#PORTNAME}.OPOUT],#1)-2) or (last(/Ciena 6500 2/optical.tx[{#PORTNAME}.OPOUT],#1)&gt;last(/Ciena 6500 2/optical.tx.baseline[{#PORTNAME}.OPOUT],#1)+2)&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>information</td>
    </tr>
    <tr>
      <td>{#PORTNAME} LOW “Optical Return Loss”</td>
      <td>&lt;p&gt;Optical Return Loss (ORL) is similar to SNR. The higher the ORL, the better. The minimum ORL is 30db. Anything lower than 30db indicates a fiber issue, such as a dirty connector or improper fiber mating.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Ciena 6500 2/optical.tx[{#PORTNAME}.ORL],#1)&lt;30&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>warning</td>
    </tr>
    <tr>
      <td>{#IFDESCR} DOWN (LLD)</td>
      <td>&lt;p&gt;The operational status of this Ethernet interface is DOWN.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Ciena 6500 2/ethernet.if.status[ifOperStatus.{#SNMPINDEX}],#1)&lt;&gt;1 and last(/Ciena 6500 2/ethernet.if.status[ifAdminStatus.{#SNMPINDEX}],#1:now-1s)=1&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>warning</td>
    </tr>
    <tr>
      <td>{#PORTNAME} Optical Return Loss crossed baseline thresholds (LLD)</td>
      <td>&lt;p&gt;The optical return loss it more than {$OPTICAL_VARIANCE}db from the baseline value. This could be due to a new fiber event or the baselines may need to be reset. First verify the optical path then decide weather to reset the baselines. The baseline value can be reset in the PMs on the Ciena shelf.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: (last(/Ciena 6500 2/optical.tx[{#PORTNAME}.ORL],#1)&lt;last(/Ciena 6500 2/optical.tx.baseline[{#PORTNAME}.ORL],#1)-2) or (last(/Ciena 6500 2/optical.tx[{#PORTNAME}.ORL],#1)&gt;last(/Ciena 6500 2/optical.tx.baseline[{#PORTNAME}.ORL],#1)+2)&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>information</td>
    </tr>
    <tr>
      <td>{#PORTNAME} Optical Tx Power crossed baseline thresholds (LLD)</td>
      <td>&lt;p&gt;The optical power level is more than {$OPTICAL_VARIANCE}db from the baseline value. This could be due to a new fiber event or the baselines may need to be reset. First verify the optical path then decide weather to reset the baselines. The baseline value can be reset in the PMs on the Ciena shelf.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: (last(/Ciena 6500 2/optical.tx[{#PORTNAME}.OPOUT],#1)&lt;last(/Ciena 6500 2/optical.tx.baseline[{#PORTNAME}.OPOUT],#1)-2) or (last(/Ciena 6500 2/optical.tx[{#PORTNAME}.OPOUT],#1)&gt;last(/Ciena 6500 2/optical.tx.baseline[{#PORTNAME}.OPOUT],#1)+2)&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>information</td>
    </tr>
    <tr>
      <td>{#PORTNAME} LOW “Optical Return Loss” (LLD)</td>
      <td>&lt;p&gt;Optical Return Loss (ORL) is similar to SNR. The higher the ORL, the better. The minimum ORL is 30db. Anything lower than 30db indicates a fiber issue, such as a dirty connector or improper fiber mating.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Ciena 6500 2/optical.tx[{#PORTNAME}.ORL],#1)&lt;30&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>warning</td>
    </tr>
    <tr>
      <td>{#PORTNAME} Optical Rx Power crossed baseline thresholds (LLD)</td>
      <td>&lt;p&gt;The optical power level it more than {$OPTICAL_VARIANCE}db from the baseline value. This could be due to a new fiber event or the baselines may need to be reset. First verify the optical path then decide weather to reset the baselines. The baseline value can be reset in the PMs on the Ciena shelf.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: ((last(/Ciena 6500 2/optical.rx[{#PORTNAME}.OPIN],#1)&lt;last(/Ciena 6500 2/optical.baseline[{#PORTNAME}.OPIN],#1)-2) or (last(/Ciena 6500 2/optical.rx[{#PORTNAME}.OPIN],#1)&gt;last(/Ciena 6500 2/optical.baseline[{#PORTNAME}.OPIN],#1)+2))&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>information</td>
    </tr>
    <tr>
      <td>{#IFDESCR} DOWN (LLD)</td>
      <td>&lt;p&gt;The interface status is not UP for this DWDM transport interface. This indicates the DWDM wave is down and could be a result of a fiber cut.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: last(/Ciena 6500 2/net.if.status[ifOperStatus.{#SNMPINDEX}],#1)&lt;&gt;1 and last(/Ciena 6500 2/net.if.status[ifAdminStatus.{#SNMPINDEX}],#1:now-1s)=1&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>average</td>
    </tr>
    <tr>
      <td>{#PORTNAME} has No Light (LLD)</td>
      <td>&lt;p&gt;The last two values for “{#CHECKNAME}” is 0. The check reports 0db when the OSC circuit cannot determine the spanloss. This would indicate a loss of light.&lt;/p&gt;</td>
      <td>&lt;p&gt;<strong>Expression</strong>: sum(/Ciena 6500 2/optical.osc.spanloss[{#PORTNAME}.{#CHECKNAME}],#2)=0 or last(/Ciena 6500 2/optical.osc.spanloss[{#PORTNAME}.{#CHECKNAME}],#1)&lt;-44&lt;/p&gt;&lt;p&gt;<strong>Recovery expression</strong>: &lt;/p&gt;</td>
      <td>high</td>
    </tr>
  </tbody>
</table>


    </div>
    
  </div>
  <script>
    (function () {
      
      //console.log('#content_ver_5_4');
      //console.log('#ver_5_4');
      $('.readme').hide();
      $('#content_ver_5_4').fadeIn('slow');
      $('#ver_5_4').addClass('active');

      
      $('#ver_5_0').click(function () {
        //console.log('#content_ver_5_0');
        //console.log('#ver_5_0');
        $('.readme').hide();
        $('#content_ver_5_0').fadeIn('slow');
        $('.js_tab').removeClass('active')
        $('#ver_5_0').addClass('active');
      })
      
      $('#ver_6_0').click(function () {
        //console.log('#content_ver_6_0');
        //console.log('#ver_6_0');
        $('.readme').hide();
        $('#content_ver_6_0').fadeIn('slow');
        $('.js_tab').removeClass('active')
        $('#ver_6_0').addClass('active');
      })
      
      $('#ver_5_4').click(function () {
        //console.log('#content_ver_5_4');
        //console.log('#ver_5_4');
        $('.readme').hide();
        $('#content_ver_5_4').fadeIn('slow');
        $('.js_tab').removeClass('active')
        $('#ver_5_4').addClass('active');
      })
      
    })();
  </script>
</body>

</html>