<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Module Cyberpower RMCARD305</title>
  <link rel="stylesheet" href="/assets/css/styles.css">
  <script src="/assets/js/jquery.min.js"></script>
</head>

<body id="body">
  
  
  
  <a href="https://github.com/zabbix/community-templates/tree/main/Power_(UPS)/Cyberpower/template_cyberpower_rmcard305(205)">
    <section class="banner-integrations">
	<div class="w container conference-header" id="training_overview" style="padding-top: 60px; min-height: 150px;">
		<div class="banner-content" style="padding-left: 0; padding-bottom: 16px;">
			<h1 class="h1 center">Module Cyberpower RMCARD305</h1>
		</div>
		<!-- <div class="w container">
			<div class="content text">
				<div class="grid grid-space-category center">
					
					<div class="span">
						<a class="card center category-button" href="" style="color: #25282F">category:infrastructure </a>
					</div>
					
					<div class="span">
						<a class="card center category-button" href="" style="color: #25282F">title:Cyberpower </a>
					</div>
					
				</div>
			</div>
		</div> -->
	</div>
</section>
  </a>
  <div class="w container">
    <h2 class="h2">Available versions</h2>
    <br>
    <div class="tabs-section">
      <div id="integrations_tabs" class="tabs">
        <ul>
          
          
          <li>
            <a class="js_tab" id="ver_5_0" href="#body">ver. 5.0
            </a>
          </li>
          
          <li>
            <a class="js_tab" id="ver_6_0" href="#body">ver. 6.0
            </a>
          </li>
          
          <li>
            <a class="js_tab" id="ver_5_4" href="#body">ver. 5.4
            </a>
          </li>
          
        </ul>
      </div>
    </div>
    <br>
    <br>
    
    
    <div id="content_ver_5_0" class="readme">
      <div class="banner-buttons " style="padding-top: 20px; ">
        <a class="button button-gray" style="color: #ffff;" href="/#power-ups-cyberpower-template-cyberpower-rmcard305-205">Back to index</a>
        <a class="button button-green" style="color: #ffff;" href="https://raw.githubusercontent.com/zabbix/community-templates/main/Power_(UPS)/Cyberpower/template_cyberpower_rmcard305(205)/5.0/template_cyberpower_rmcard305(205).xml">Download</a>
      </div>
      
      



<h1 id="module-cyberpower-rmcard305">Module Cyberpower RMCARD305</h1>

<h2 id="description">Description</h2>

<p>SNMPv2 Template for Cyberpower’s remote management card ver.305 (205) used in OR and PR-series UPSes. Tested on firmware version 1.3.0. Created by Taurus (https://github.com/RusTaurus) MIBs used: CPS-MIB (v2.9) https://www.cyberpowersystems.com/products/software/mib-files/</p>

<h2 id="overview">Overview</h2>

<p>This is Zabbix SNMPv2 Template for Cyberpower’s remote management card ver.305(205) used in OR- and PR-series UPSes.</p>

<p>Tested on Zabbix 4.0 and 4.4, PR3000ELCDRT2U, OR1500ELCDRM1U with RMCARD305 (firmware version 1.3.0).</p>

<p><a href="https://github.com/RusTaurus/cyberpower-rmcard305">Here</a> you can find latest firmware and MIB versions of RMCARD305.</p>

<hr />

<p>Enhancements in v2 version of this template:</p>

<ul>
  <li>New application with UPS configuration settings</li>
  <li>Add discovery of battery Age Recommendation parameter</li>
  <li>Display RMCARD serial number</li>
</ul>

<hr />

<p>MIBs used: CPS-MIB (v2.9)</p>

<h2 id="author">Author</h2>

<p>Sergey Romanov</p>

<h2 id="macros-used">Macros used</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Default</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{$SNMP_COMMUNITY}</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">public</code></td>
      <td>Text macro</td>
    </tr>
  </tbody>
</table>

<h2 id="template-links">Template links</h2>

<p>There are no template links in this template.</p>

<h2 id="discovery-rules">Discovery rules</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Key and additional info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Output Current Discovery</td>
      <td>&lt;p&gt;Discovery because CPS-MIB::upsAdvanceOutputCurrent returns 0 (zero) on OR-series UPSes.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>Output.current.discovery&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Configuration Discovery #1</td>
      <td>&lt;p&gt;Discovery because CPS-MIB::upsAdvanceConfigColdStart returns NULL on OR-series UPSes.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.discovery.1&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Configuration Discovery #3</td>
      <td>&lt;p&gt;Discovery because CPS-MIB::upsAdvanceConfigReturnDelay returns NULL on OR-series UPSes.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.discovery.3&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Battery Age Recommendation Discovery</td>
      <td>&lt;p&gt;Discovery because CPS-MIB::upsBaseBatteryAgeRecommand returns 0 (zero) on OR-series UPSes.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>BatteryAge.discovery&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Temperature Discovery</td>
      <td>&lt;p&gt;Discovery because CPS-MIB::upsAdvanceBatteryTemperature returns 0 (zero) on OR-series UPSes.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>Temperature.discovery&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Configuration Discovery #2</td>
      <td>&lt;p&gt;Discovery because CPS-MIB::upsAdvanceConfigRechargedCapacity returns NULL on OR-series UPSes.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.discovery.2&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Configuration Discovery #5</td>
      <td>&lt;p&gt;Discovery because CPS-MIB::upsAdvanceConfigSleepDelay returns NULL on OR-series UPSes.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.discovery.5&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Configuration Discovery #4</td>
      <td>&lt;p&gt;Discovery because CPS-MIB::upsAdvanceConfigShutoffDelay returns NULL on OR-series UPSes.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.discovery.4&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
  </tbody>
</table>

<h2 id="items-collected">Items collected</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Key and additional info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Firmware Version</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceIdentFirmwareRevision - the UPS firmware revision&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ups.info.FirmwareVersion&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Replace Indicator</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceBatteryReplaceIndicator - this value indicates if UPS batteries need to be replaced&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>battery.ReplaceIndicator&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Serial Number</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceIdentAgentSerialNumber - a string identifying the serial number of the Agent&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>rmcard.SerialNumber&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Load (watts)</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceOutputPower - the total output active power of the UPS system in W&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>output.LoadW&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>System - Enter Sleep Mode After All Clients Shutdown</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigSleepAfterAllClientShut - if this option is enabled, UPS will enter sleep mode after utility power failed and remaining MSDT+2 minutes.More information about MSDT please reference to help page of UPS - &gt; PowerPanel List.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.sleepMode&lt;p&gt;Update: 30m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Voltage</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceOutputVoltage - the UPS output voltage in Volts&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>output.Voltage&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Name</td>
      <td>&lt;p&gt;CPS-MIB::upsBaseIdentName - the UPS identified name could be set by the administrator&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ups.info.Name&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Remaining Runtime</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceBatteryRunTimeRemaining - the UPS battery remaining run time&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>battery.RemainingRuntime&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>System - Audible Alarm</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigAlarm - this value is set to handle audible alarms when power failure.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.audibleAlarm&lt;p&gt;Update: 30m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Load Power</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceIdentLoadPower - the power rating (Watts) of the UPS&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ups.info.LoadPower&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Frequency</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceOutputFrequency - the UPS output frequency in Hz&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>output.Frequency&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Model</td>
      <td>&lt;p&gt;CPS-MIB::upsBaseIdentModel - the UPS model name&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ups.info.Model&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Frequency</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceInputFrequency - the input line frequency in Hz&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>input.Frequency&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Status</td>
      <td>&lt;p&gt;CPS-MIB::upsBaseOutputStatus - the UPS output status&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>output.Status&lt;p&gt;Update: 15s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Output Voltage</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigOutputVoltage - the standard UPS output voltage in Volts. The possible values are 100, 110, 120, 127, 208, 220, 230, and 240. If a value other than a possible value is set, it will not be accepted.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.outputVoltage&lt;p&gt;Update: 30m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Battery Low Threshold</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigLowBatteryThreshold - when the UPS supplies battery power and the remaining capacity is lower than this threshold, the UPS will sound an alarm. The value expressed in percentage.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.batteryLow&lt;p&gt;Update: 30m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Capacity</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceBatteryCapacity - the battery capacity expressed in percentage&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>battery.Capacity&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Power Rating</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceIdentPowerRating - the Volt-Amp rating of the UPS&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ups.info.PowerRating&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Status</td>
      <td>&lt;p&gt;CPS-MIB::upsBaseBatteryStatus - the UPS battery status. A batteryLow(3) value means the battery will be exhausted soon under the current load. The amount of low battery run time can be configured by the upsAdvanceConfigLowBatteryRunTime.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>battery.Status&lt;p&gt;Update: 15s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Voltage Rating</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceBatteryVoltageRating - the DC voltage rating of the battery set&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>battery.VoltageRating&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>System - Over Discharge Protection</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigDeepDischargeProtection - when the UPS is on Battery Mode with 0% load and the status remains for the time configured, the RMCARD will enforce the UPS to Sleep Mode and the output will be turned off. The possible values are 0, 20, 40, and 60 minutes. If a value other than a possible value is set, it will not be accepted.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.dischargeProtection&lt;p&gt;Update: 30m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Time on Battery</td>
      <td>&lt;p&gt;CPS-MIB::upsBaseBatteryTimeOnBattery - the UPS wasted battery time since the UPS has transfered to backup mode&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>battery.TimeOnBattery&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Voltage</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceInputLineVoltage - the input line voltage in Volts&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>input.Voltage&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Status</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceInputStatus - display the present status of the utility power supplied to the UPS&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>input.Status&lt;p&gt;Update: 15s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Load</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceOutputLoad - the UPS output load expressed in percentage&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>output.Load&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware Revision</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceIdentAgentFirmwareRevision - the SNMP agent firmware revision&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>rmcard.FirmwareRevision&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Last Fail Cause</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceInputLineFailCause - The reason of UPS power failure. This value is set to: - noTransfer(1), if UPS is in utility mode. - highLineVoltage(2), if UPS switch to battery mode by reason of input voltage over the high transfer vloltage. - brownout(3), if UPS switch to battery mode by reason of input voltage under the low transfer vloltage. - selfTest(4), if the UPS was commanded to do a self test.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>input.FailCause&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Current</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceOutputCurrent - the UPS output current in Amps&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>output.current.[{#SNMPINDEX}]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>System - Cold Start</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigColdStart - set the ability of the UPS can start in the absence of input power. When this option is enabled the UPS can be turned on without having input power.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.coldStart.[{#SNMPINDEX}]&lt;p&gt;Update: 30m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Power Restore - Returned Delay</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigReturnDelay - the delay time the UPS will turn on after power recovery. The value is also used in a ‘reboot’ or ‘wake up’ sequence. The possible values are 0 to 600 seconds. If a value other than a supported value is set, the value will not be accepted.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.returnedDelay.[{#SNMPINDEX}]&lt;p&gt;Update: 30m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Age Recommendation</td>
      <td>&lt;p&gt;CPS-MIB::upsBaseBatteryAgeRecommand - Recommended battery life in months&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>battery.ageRecommend.[{#SNMPINDEX}]&lt;p&gt;Update: 1h&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Last Replace Date</td>
      <td>&lt;p&gt;CPS-MIB::upsBaseBatteryLastReplaceDate - the UPS batteries last replaced date in mm/dd/yyyy format. This value is originally set when manufactured. If batteries replaced, administrator should reset this value.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>battery.lastReplaceDate.[{#SNMPINDEX}]&lt;p&gt;Update: 1h&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Temperature</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceBatteryTemperature - the UPS battery temperature expressed in Celsius&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ups.info.Temperature.[{#SNMPINDEX}]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Power Restore - Recharged Capacity</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigRechargedCapacity - when the utility power restores, the UPS will start to recharge until the specified battery capacity in percentage is met before restoring output power. The possible values are 0, 15, 30, 45, 60, 75, and 90. If a value other than a possible value is set, it will not be accepted.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.rechargedCapacity.[{#SNMPINDEX}]&lt;p&gt;Update: 30m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Timers - Sleep Delay</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigSleepDelay - the delay time the UPS will enter sleep mode after receiving a sleep command. The possible values are between 60 to 5940 seconds. If a value other than a supported value is set, the value will not be accepted.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.sleepDelay.[{#SNMPINDEX}]&lt;p&gt;Update: 30m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Timers - ShutOff Delay</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigShutoffDelay - the delay time the UPS will remain on after receiving a turn off command. The possible values are between 60 to 5940 seconds. If a value other than a supported value is set, the value will not be accepted.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.shutoffDelay.[{#SNMPINDEX}]&lt;p&gt;Update: 30m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
  </tbody>
</table>

<h2 id="triggers">Triggers</h2>

<p>There are no triggers in this template.</p>


    </div>
    
    
    <div id="content_ver_6_0" class="readme">
      <div class="banner-buttons " style="padding-top: 20px; ">
        <a class="button button-gray" style="color: #ffff;" href="/#power-ups-cyberpower-template-cyberpower-rmcard305-205">Back to index</a>
        <a class="button button-green" style="color: #ffff;" href="https://raw.githubusercontent.com/zabbix/community-templates/main/Power_(UPS)/Cyberpower/template_cyberpower_rmcard305(205)/6.0/template_cyberpower_rmcard305(205).yaml">Download</a>
      </div>
      
      



<h1 id="module-cyberpower-rmcard305">Module Cyberpower RMCARD305</h1>

<h2 id="description">Description</h2>

<p>SNMPv2 Template for Cyberpower’s remote management card ver.305 (205) used in OR and PR-series UPSes. Tested on firmware version 1.3.0. Created by Taurus (https://github.com/RusTaurus) MIBs used: CPS-MIB (v2.9) https://www.cyberpowersystems.com/products/software/mib-files/</p>

<h2 id="overview">Overview</h2>

<p>This is Zabbix SNMPv2 Template for Cyberpower’s remote management card ver.305(205) used in OR- and PR-series UPSes.</p>

<p>Tested on Zabbix 4.0 and 4.4, PR3000ELCDRT2U, OR1500ELCDRM1U with RMCARD305 (firmware version 1.3.0).</p>

<p><a href="https://github.com/RusTaurus/cyberpower-rmcard305">Here</a> you can find latest firmware and MIB versions of RMCARD305.</p>

<hr />

<p>Enhancements in v2 version of this template:</p>

<ul>
  <li>New application with UPS configuration settings</li>
  <li>Add discovery of battery Age Recommendation parameter</li>
  <li>Display RMCARD serial number</li>
</ul>

<hr />

<p>MIBs used: CPS-MIB (v2.9)</p>

<h2 id="author">Author</h2>

<p>Sergey Romanov</p>

<h2 id="macros-used">Macros used</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Default</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{$SNMP_COMMUNITY}</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">public</code></td>
      <td>Text macro</td>
    </tr>
  </tbody>
</table>

<h2 id="template-links">Template links</h2>

<p>There are no template links in this template.</p>

<h2 id="discovery-rules">Discovery rules</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Key and additional info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Output Current Discovery</td>
      <td>&lt;p&gt;Discovery because CPS-MIB::upsAdvanceOutputCurrent returns 0 (zero) on OR-series UPSes.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>Output.current.discovery&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Configuration Discovery #3</td>
      <td>&lt;p&gt;Discovery because CPS-MIB::upsAdvanceConfigReturnDelay returns NULL on OR-series UPSes.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.discovery.3&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Configuration Discovery #2</td>
      <td>&lt;p&gt;Discovery because CPS-MIB::upsAdvanceConfigRechargedCapacity returns NULL on OR-series UPSes.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.discovery.2&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Configuration Discovery #4</td>
      <td>&lt;p&gt;Discovery because CPS-MIB::upsAdvanceConfigShutoffDelay returns NULL on OR-series UPSes.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.discovery.4&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Temperature Discovery</td>
      <td>&lt;p&gt;Discovery because CPS-MIB::upsAdvanceBatteryTemperature returns 0 (zero) on OR-series UPSes.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>Temperature.discovery&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Battery Age Recommendation Discovery</td>
      <td>&lt;p&gt;Discovery because CPS-MIB::upsBaseBatteryAgeRecommand returns 0 (zero) on OR-series UPSes.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>BatteryAge.discovery&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Configuration Discovery #5</td>
      <td>&lt;p&gt;Discovery because CPS-MIB::upsAdvanceConfigSleepDelay returns NULL on OR-series UPSes.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.discovery.5&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Configuration Discovery #1</td>
      <td>&lt;p&gt;Discovery because CPS-MIB::upsAdvanceConfigColdStart returns NULL on OR-series UPSes.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.discovery.1&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
  </tbody>
</table>

<h2 id="items-collected">Items collected</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Key and additional info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Replace Indicator</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceBatteryReplaceIndicator - this value indicates if UPS batteries need to be replaced&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>battery.ReplaceIndicator&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Voltage</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceOutputVoltage - the UPS output voltage in Volts&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>output.Voltage&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Battery Low Threshold</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigLowBatteryThreshold - when the UPS supplies battery power and the remaining capacity is lower than this threshold, the UPS will sound an alarm. The value expressed in percentage.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.batteryLow&lt;p&gt;Update: 30m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Power Rating</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceIdentPowerRating - the Volt-Amp rating of the UPS&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ups.info.PowerRating&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware Revision</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceIdentAgentFirmwareRevision - the SNMP agent firmware revision&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>rmcard.FirmwareRevision&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Status</td>
      <td>&lt;p&gt;CPS-MIB::upsBaseBatteryStatus - the UPS battery status. A batteryLow(3) value means the battery will be exhausted soon under the current load. The amount of low battery run time can be configured by the upsAdvanceConfigLowBatteryRunTime.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>battery.Status&lt;p&gt;Update: 15s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>System - Over Discharge Protection</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigDeepDischargeProtection - when the UPS is on Battery Mode with 0% load and the status remains for the time configured, the RMCARD will enforce the UPS to Sleep Mode and the output will be turned off. The possible values are 0, 20, 40, and 60 minutes. If a value other than a possible value is set, it will not be accepted.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.dischargeProtection&lt;p&gt;Update: 30m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Last Fail Cause</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceInputLineFailCause - The reason of UPS power failure. This value is set to: - noTransfer(1), if UPS is in utility mode. - highLineVoltage(2), if UPS switch to battery mode by reason of input voltage over the high transfer vloltage. - brownout(3), if UPS switch to battery mode by reason of input voltage under the low transfer vloltage. - selfTest(4), if the UPS was commanded to do a self test.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>input.FailCause&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Time on Battery</td>
      <td>&lt;p&gt;CPS-MIB::upsBaseBatteryTimeOnBattery - the UPS wasted battery time since the UPS has transfered to backup mode&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>battery.TimeOnBattery&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>System - Enter Sleep Mode After All Clients Shutdown</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigSleepAfterAllClientShut - if this option is enabled, UPS will enter sleep mode after utility power failed and remaining MSDT+2 minutes.More information about MSDT please reference to help page of UPS - &gt; PowerPanel List.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.sleepMode&lt;p&gt;Update: 30m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Load Power</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceIdentLoadPower - the power rating (Watts) of the UPS&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ups.info.LoadPower&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>System - Audible Alarm</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigAlarm - this value is set to handle audible alarms when power failure.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.audibleAlarm&lt;p&gt;Update: 30m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Frequency</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceOutputFrequency - the UPS output frequency in Hz&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>output.Frequency&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Frequency</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceInputFrequency - the input line frequency in Hz&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>input.Frequency&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Voltage Rating</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceBatteryVoltageRating - the DC voltage rating of the battery set&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>battery.VoltageRating&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Status</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceInputStatus - display the present status of the utility power supplied to the UPS&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>input.Status&lt;p&gt;Update: 15s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Output Voltage</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigOutputVoltage - the standard UPS output voltage in Volts. The possible values are 100, 110, 120, 127, 208, 220, 230, and 240. If a value other than a possible value is set, it will not be accepted.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.outputVoltage&lt;p&gt;Update: 30m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Remaining Runtime</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceBatteryRunTimeRemaining - the UPS battery remaining run time&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>battery.RemainingRuntime&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Name</td>
      <td>&lt;p&gt;CPS-MIB::upsBaseIdentName - the UPS identified name could be set by the administrator&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ups.info.Name&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Serial Number</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceIdentAgentSerialNumber - a string identifying the serial number of the Agent&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>rmcard.SerialNumber&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Status</td>
      <td>&lt;p&gt;CPS-MIB::upsBaseOutputStatus - the UPS output status&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>output.Status&lt;p&gt;Update: 15s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Load</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceOutputLoad - the UPS output load expressed in percentage&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>output.Load&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware Version</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceIdentFirmwareRevision - the UPS firmware revision&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ups.info.FirmwareVersion&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Capacity</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceBatteryCapacity - the battery capacity expressed in percentage&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>battery.Capacity&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Model</td>
      <td>&lt;p&gt;CPS-MIB::upsBaseIdentModel - the UPS model name&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ups.info.Model&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Voltage</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceInputLineVoltage - the input line voltage in Volts&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>input.Voltage&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Load (watts)</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceOutputPower - the total output active power of the UPS system in W&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>output.LoadW&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Current</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceOutputCurrent - the UPS output current in Amps&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>output.current.[{#SNMPINDEX}]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Power Restore - Returned Delay</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigReturnDelay - the delay time the UPS will turn on after power recovery. The value is also used in a ‘reboot’ or ‘wake up’ sequence. The possible values are 0 to 600 seconds. If a value other than a supported value is set, the value will not be accepted.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.returnedDelay.[{#SNMPINDEX}]&lt;p&gt;Update: 30m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Power Restore - Recharged Capacity</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigRechargedCapacity - when the utility power restores, the UPS will start to recharge until the specified battery capacity in percentage is met before restoring output power. The possible values are 0, 15, 30, 45, 60, 75, and 90. If a value other than a possible value is set, it will not be accepted.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.rechargedCapacity.[{#SNMPINDEX}]&lt;p&gt;Update: 30m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Timers - ShutOff Delay</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigShutoffDelay - the delay time the UPS will remain on after receiving a turn off command. The possible values are between 60 to 5940 seconds. If a value other than a supported value is set, the value will not be accepted.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.shutoffDelay.[{#SNMPINDEX}]&lt;p&gt;Update: 30m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Temperature</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceBatteryTemperature - the UPS battery temperature expressed in Celsius&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ups.info.Temperature.[{#SNMPINDEX}]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Age Recommendation</td>
      <td>&lt;p&gt;CPS-MIB::upsBaseBatteryAgeRecommand - Recommended battery life in months&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>battery.ageRecommend.[{#SNMPINDEX}]&lt;p&gt;Update: 1h&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Last Replace Date</td>
      <td>&lt;p&gt;CPS-MIB::upsBaseBatteryLastReplaceDate - the UPS batteries last replaced date in mm/dd/yyyy format. This value is originally set when manufactured. If batteries replaced, administrator should reset this value.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>battery.lastReplaceDate.[{#SNMPINDEX}]&lt;p&gt;Update: 1h&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Timers - Sleep Delay</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigSleepDelay - the delay time the UPS will enter sleep mode after receiving a sleep command. The possible values are between 60 to 5940 seconds. If a value other than a supported value is set, the value will not be accepted.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.sleepDelay.[{#SNMPINDEX}]&lt;p&gt;Update: 30m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>System - Cold Start</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigColdStart - set the ability of the UPS can start in the absence of input power. When this option is enabled the UPS can be turned on without having input power.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.coldStart.[{#SNMPINDEX}]&lt;p&gt;Update: 30m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
  </tbody>
</table>

<h2 id="triggers">Triggers</h2>

<p>There are no triggers in this template.</p>


    </div>
    
    
    <div id="content_ver_5_4" class="readme">
      <div class="banner-buttons " style="padding-top: 20px; ">
        <a class="button button-gray" style="color: #ffff;" href="/#power-ups-cyberpower-template-cyberpower-rmcard305-205">Back to index</a>
        <a class="button button-green" style="color: #ffff;" href="https://raw.githubusercontent.com/zabbix/community-templates/main/Power_(UPS)/Cyberpower/template_cyberpower_rmcard305(205)/5.4/template_cyberpower_rmcard305(205).yaml">Download</a>
      </div>
      
      



<h1 id="module-cyberpower-rmcard305">Module Cyberpower RMCARD305</h1>

<h2 id="description">Description</h2>

<p>SNMPv2 Template for Cyberpower’s remote management card ver.305 (205) used in OR and PR-series UPSes. Tested on firmware version 1.3.0. Created by Taurus (https://github.com/RusTaurus) MIBs used: CPS-MIB (v2.9) https://www.cyberpowersystems.com/products/software/mib-files/</p>

<h2 id="overview">Overview</h2>

<p>This is Zabbix SNMPv2 Template for Cyberpower’s remote management card ver.305(205) used in OR- and PR-series UPSes.</p>

<p>Tested on Zabbix 4.0 and 4.4, PR3000ELCDRT2U, OR1500ELCDRM1U with RMCARD305 (firmware version 1.3.0).</p>

<p><a href="https://github.com/RusTaurus/cyberpower-rmcard305">Here</a> you can find latest firmware and MIB versions of RMCARD305.</p>

<hr />

<p>Enhancements in v2 version of this template:</p>

<ul>
  <li>New application with UPS configuration settings</li>
  <li>Add discovery of battery Age Recommendation parameter</li>
  <li>Display RMCARD serial number</li>
</ul>

<hr />

<p>MIBs used: CPS-MIB (v2.9)</p>

<h2 id="author">Author</h2>

<p>Sergey Romanov</p>

<h2 id="macros-used">Macros used</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Default</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{$SNMP_COMMUNITY}</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">public</code></td>
      <td>Text macro</td>
    </tr>
  </tbody>
</table>

<h2 id="template-links">Template links</h2>

<p>There are no template links in this template.</p>

<h2 id="discovery-rules">Discovery rules</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Key and additional info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Output Current Discovery</td>
      <td>&lt;p&gt;Discovery because CPS-MIB::upsAdvanceOutputCurrent returns 0 (zero) on OR-series UPSes.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>Output.current.discovery&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Configuration Discovery #3</td>
      <td>&lt;p&gt;Discovery because CPS-MIB::upsAdvanceConfigReturnDelay returns NULL on OR-series UPSes.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.discovery.3&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Configuration Discovery #2</td>
      <td>&lt;p&gt;Discovery because CPS-MIB::upsAdvanceConfigRechargedCapacity returns NULL on OR-series UPSes.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.discovery.2&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Configuration Discovery #4</td>
      <td>&lt;p&gt;Discovery because CPS-MIB::upsAdvanceConfigShutoffDelay returns NULL on OR-series UPSes.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.discovery.4&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Temperature Discovery</td>
      <td>&lt;p&gt;Discovery because CPS-MIB::upsAdvanceBatteryTemperature returns 0 (zero) on OR-series UPSes.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>Temperature.discovery&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Battery Age Recommendation Discovery</td>
      <td>&lt;p&gt;Discovery because CPS-MIB::upsBaseBatteryAgeRecommand returns 0 (zero) on OR-series UPSes.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>BatteryAge.discovery&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Configuration Discovery #5</td>
      <td>&lt;p&gt;Discovery because CPS-MIB::upsAdvanceConfigSleepDelay returns NULL on OR-series UPSes.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.discovery.5&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Configuration Discovery #1</td>
      <td>&lt;p&gt;Discovery because CPS-MIB::upsAdvanceConfigColdStart returns NULL on OR-series UPSes.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.discovery.1&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
  </tbody>
</table>

<h2 id="items-collected">Items collected</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Key and additional info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Replace Indicator</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceBatteryReplaceIndicator - this value indicates if UPS batteries need to be replaced&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>battery.ReplaceIndicator&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Voltage</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceOutputVoltage - the UPS output voltage in Volts&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>output.Voltage&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Battery Low Threshold</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigLowBatteryThreshold - when the UPS supplies battery power and the remaining capacity is lower than this threshold, the UPS will sound an alarm. The value expressed in percentage.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.batteryLow&lt;p&gt;Update: 30m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Power Rating</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceIdentPowerRating - the Volt-Amp rating of the UPS&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ups.info.PowerRating&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware Revision</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceIdentAgentFirmwareRevision - the SNMP agent firmware revision&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>rmcard.FirmwareRevision&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Status</td>
      <td>&lt;p&gt;CPS-MIB::upsBaseBatteryStatus - the UPS battery status. A batteryLow(3) value means the battery will be exhausted soon under the current load. The amount of low battery run time can be configured by the upsAdvanceConfigLowBatteryRunTime.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>battery.Status&lt;p&gt;Update: 15s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>System - Over Discharge Protection</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigDeepDischargeProtection - when the UPS is on Battery Mode with 0% load and the status remains for the time configured, the RMCARD will enforce the UPS to Sleep Mode and the output will be turned off. The possible values are 0, 20, 40, and 60 minutes. If a value other than a possible value is set, it will not be accepted.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.dischargeProtection&lt;p&gt;Update: 30m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Last Fail Cause</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceInputLineFailCause - The reason of UPS power failure. This value is set to: - noTransfer(1), if UPS is in utility mode. - highLineVoltage(2), if UPS switch to battery mode by reason of input voltage over the high transfer vloltage. - brownout(3), if UPS switch to battery mode by reason of input voltage under the low transfer vloltage. - selfTest(4), if the UPS was commanded to do a self test.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>input.FailCause&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Time on Battery</td>
      <td>&lt;p&gt;CPS-MIB::upsBaseBatteryTimeOnBattery - the UPS wasted battery time since the UPS has transfered to backup mode&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>battery.TimeOnBattery&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>System - Enter Sleep Mode After All Clients Shutdown</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigSleepAfterAllClientShut - if this option is enabled, UPS will enter sleep mode after utility power failed and remaining MSDT+2 minutes.More information about MSDT please reference to help page of UPS - &gt; PowerPanel List.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.sleepMode&lt;p&gt;Update: 30m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Load Power</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceIdentLoadPower - the power rating (Watts) of the UPS&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ups.info.LoadPower&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>System - Audible Alarm</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigAlarm - this value is set to handle audible alarms when power failure.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.audibleAlarm&lt;p&gt;Update: 30m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Frequency</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceOutputFrequency - the UPS output frequency in Hz&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>output.Frequency&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Frequency</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceInputFrequency - the input line frequency in Hz&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>input.Frequency&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Voltage Rating</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceBatteryVoltageRating - the DC voltage rating of the battery set&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>battery.VoltageRating&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Status</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceInputStatus - display the present status of the utility power supplied to the UPS&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>input.Status&lt;p&gt;Update: 15s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Output Voltage</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigOutputVoltage - the standard UPS output voltage in Volts. The possible values are 100, 110, 120, 127, 208, 220, 230, and 240. If a value other than a possible value is set, it will not be accepted.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.outputVoltage&lt;p&gt;Update: 30m&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Remaining Runtime</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceBatteryRunTimeRemaining - the UPS battery remaining run time&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>battery.RemainingRuntime&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Name</td>
      <td>&lt;p&gt;CPS-MIB::upsBaseIdentName - the UPS identified name could be set by the administrator&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ups.info.Name&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Serial Number</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceIdentAgentSerialNumber - a string identifying the serial number of the Agent&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>rmcard.SerialNumber&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Status</td>
      <td>&lt;p&gt;CPS-MIB::upsBaseOutputStatus - the UPS output status&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>output.Status&lt;p&gt;Update: 15s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Load</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceOutputLoad - the UPS output load expressed in percentage&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>output.Load&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware Version</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceIdentFirmwareRevision - the UPS firmware revision&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ups.info.FirmwareVersion&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Capacity</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceBatteryCapacity - the battery capacity expressed in percentage&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>battery.Capacity&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Model</td>
      <td>&lt;p&gt;CPS-MIB::upsBaseIdentModel - the UPS model name&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ups.info.Model&lt;p&gt;Update: 1h&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Voltage</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceInputLineVoltage - the input line voltage in Volts&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>input.Voltage&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Load (watts)</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceOutputPower - the total output active power of the UPS system in W&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>output.LoadW&lt;p&gt;Update: 30s&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Current</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceOutputCurrent - the UPS output current in Amps&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>output.current.[{#SNMPINDEX}]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Power Restore - Returned Delay</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigReturnDelay - the delay time the UPS will turn on after power recovery. The value is also used in a ‘reboot’ or ‘wake up’ sequence. The possible values are 0 to 600 seconds. If a value other than a supported value is set, the value will not be accepted.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.returnedDelay.[{#SNMPINDEX}]&lt;p&gt;Update: 30m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Power Restore - Recharged Capacity</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigRechargedCapacity - when the utility power restores, the UPS will start to recharge until the specified battery capacity in percentage is met before restoring output power. The possible values are 0, 15, 30, 45, 60, 75, and 90. If a value other than a possible value is set, it will not be accepted.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.rechargedCapacity.[{#SNMPINDEX}]&lt;p&gt;Update: 30m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Timers - ShutOff Delay</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigShutoffDelay - the delay time the UPS will remain on after receiving a turn off command. The possible values are between 60 to 5940 seconds. If a value other than a supported value is set, the value will not be accepted.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.shutoffDelay.[{#SNMPINDEX}]&lt;p&gt;Update: 30m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Temperature</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceBatteryTemperature - the UPS battery temperature expressed in Celsius&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>ups.info.Temperature.[{#SNMPINDEX}]&lt;p&gt;Update: 1m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Age Recommendation</td>
      <td>&lt;p&gt;CPS-MIB::upsBaseBatteryAgeRecommand - Recommended battery life in months&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>battery.ageRecommend.[{#SNMPINDEX}]&lt;p&gt;Update: 1h&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Last Replace Date</td>
      <td>&lt;p&gt;CPS-MIB::upsBaseBatteryLastReplaceDate - the UPS batteries last replaced date in mm/dd/yyyy format. This value is originally set when manufactured. If batteries replaced, administrator should reset this value.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>battery.lastReplaceDate.[{#SNMPINDEX}]&lt;p&gt;Update: 1h&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Timers - Sleep Delay</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigSleepDelay - the delay time the UPS will enter sleep mode after receiving a sleep command. The possible values are between 60 to 5940 seconds. If a value other than a supported value is set, the value will not be accepted.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.sleepDelay.[{#SNMPINDEX}]&lt;p&gt;Update: 30m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>System - Cold Start</td>
      <td>&lt;p&gt;CPS-MIB::upsAdvanceConfigColdStart - set the ability of the UPS can start in the absence of input power. When this option is enabled the UPS can be turned on without having input power.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">SNMP agent</code></td>
      <td>config.coldStart.[{#SNMPINDEX}]&lt;p&gt;Update: 30m&lt;/p&gt;&lt;p&gt;LLD&lt;/p&gt;</td>
    </tr>
  </tbody>
</table>

<h2 id="triggers">Triggers</h2>

<p>There are no triggers in this template.</p>


    </div>
    
  </div>
  <script>
    (function () {
      
      //console.log('#content_ver_5_4');
      //console.log('#ver_5_4');
      $('.readme').hide();
      $('#content_ver_5_4').fadeIn('slow');
      $('#ver_5_4').addClass('active');

      
      $('#ver_5_0').click(function () {
        //console.log('#content_ver_5_0');
        //console.log('#ver_5_0');
        $('.readme').hide();
        $('#content_ver_5_0').fadeIn('slow');
        $('.js_tab').removeClass('active')
        $('#ver_5_0').addClass('active');
      })
      
      $('#ver_6_0').click(function () {
        //console.log('#content_ver_6_0');
        //console.log('#ver_6_0');
        $('.readme').hide();
        $('#content_ver_6_0').fadeIn('slow');
        $('.js_tab').removeClass('active')
        $('#ver_6_0').addClass('active');
      })
      
      $('#ver_5_4').click(function () {
        //console.log('#content_ver_5_4');
        //console.log('#ver_5_4');
        $('.readme').hide();
        $('#content_ver_5_4').fadeIn('slow');
        $('.js_tab').removeClass('active')
        $('#ver_5_4').addClass('active');
      })
      
    })();
  </script>
</body>

</html>