<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Template Shelly 3EM</title>
  <link rel="stylesheet" href="/assets/css/styles.css">
  <script src="/assets/js/jquery.min.js"></script>
</head>

<body id="body">
  
  
  
  <a href="https://github.com/zabbix/community-templates/tree/main/SCADA_IoT_Energy_Home_Automation_Industrial_monitoring/template_shelly_monitoring">
    <section class="banner-integrations">
	<div class="w container conference-header" id="training_overview" style="padding-top: 60px; min-height: 150px;">
		<div class="banner-content" style="padding-left: 0; padding-bottom: 16px;">
			<h1 class="h1 center">Template Shelly 3EM</h1>
		</div>
		<!-- <div class="w container">
			<div class="content text">
				<div class="grid grid-space-category center">
					
					<div class="span">
						<a class="card center category-button" href="" style="color: #25282F">category:iot </a>
					</div>
					
					<div class="span">
						<a class="card center category-button" href="" style="color: #25282F">title:Shelly </a>
					</div>
					
				</div>
			</div>
		</div> -->
	</div>
</section>
  </a>
  <div class="w container">
    <h2 class="h2">Available versions</h2>
    <br>
    <div class="tabs-section">
      <div id="integrations_tabs" class="tabs">
        <ul>
          
          
          <li>
            <a class="js_tab" id="ver_6_0" href="#body">ver. 6.0
            </a>
          </li>
          
          <li>
            <a class="js_tab" id="ver_5_4" href="#body">ver. 5.4
            </a>
          </li>
          
        </ul>
      </div>
    </div>
    <br>
    <br>
    
    
    <div id="content_ver_6_0" class="readme">
      <div class="banner-buttons " style="padding-top: 20px; ">
        <a class="button button-gray" style="color: #ffff;" href="/#scada-iot-energy-home-automation-industrial-monitoring-template-shelly-monitoring">Back to index</a>
        <a class="button button-green" style="color: #ffff;" href="https://raw.githubusercontent.com/zabbix/community-templates/main/SCADA_IoT_Energy_Home_Automation_Industrial_monitoring/template_shelly_monitoring/6.0/template_shelly_monitoring.yaml">Download</a>
      </div>
      
      



<h1 id="shelly-3em">Shelly 3EM</h1>

<h2 id="overview">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author">Author</h2>

<p>Martin Suchy</p>

<h2 id="macros-used">Macros used</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Default</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{$EC_EM_CONSUMPTION}</td>
      <td>&lt;p&gt;Total value on your electric company electrometer in Wh at the moment you reset Shelly 3EM data.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">0</code></td>
      <td>Text macro</td>
    </tr>
    <tr>
      <td>{$SHELLY_PASS}</td>
      <td>&lt;p&gt;Device password, if configured&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">****</code></td>
      <td>Secret macro</td>
    </tr>
    <tr>
      <td>{$SHELLY_USER}</td>
      <td>&lt;p&gt;Device user, if configured&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">admin</code></td>
      <td>Text macro</td>
    </tr>
  </tbody>
</table>

<h2 id="template-links">Template links</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Template Module ICMP Ping</td>
    </tr>
  </tbody>
</table>

<h2 id="discovery-rules">Discovery rules</h2>

<p>There are no discovery rules in this template.</p>

<h2 id="items-collected">Items collected</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Key and additional info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Electrometer C power factor</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.pf&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay timer started</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.timer_started&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C current</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.current&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C power</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.power&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi IP</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.ip&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A power</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.power&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Skipped actions</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>actions_stats.skipped&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A current</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.current&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Sysflash is mounted</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_mounted&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay timer duration</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.timer_duration&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Cloud enabled</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cloud.enabled&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A total consumed</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay has timer</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.has_timer&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B current</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.current&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N total consumed</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>File system free size</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_free&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi SSID</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.ssid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>RAM free</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ram_free&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B power factor</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.pf&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electric company electrometer estimate</td>
      <td>&lt;p&gt;Estimated value of electric company electrometer. This value may differ from real value due to device restarts or incorrect measurements. This estimate is only useful when your Shelly 3EM is measuring power consumption on the main breaker. For this value to show correct estimate, you have to take a note of how many Wh were on electric company electrometer when you reset Shelly 3EM data and put this value into macro {$EC_EM_CONSUMPTION}.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ec_em_estimate&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>File system total size</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_size&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay overpower occurred</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.overpower&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi RSSI</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.rssi&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C total consumed</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A total returned</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.total_returned&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B total consumed</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Uptime</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>uptime&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B voltage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.voltage&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay turned on</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.ison&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N power factor</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.pf&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relays last command source</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.source&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Total return from last reset</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>total_returned&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N power</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.power&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay sensor self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N voltage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.voltage&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware old version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.old_version&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Update available</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.has_update&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Device time</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>unixtime&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay timer remaining</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.timer_remaining&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N current</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.current&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>System configuration changes</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cfg_changed_cnt&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Status data</td>
      <td>&lt;p&gt;Collect data from Shelly device status API.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">HTTP agent</code></td>
      <td>status&lt;p&gt;Update: 30&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Total consumption from last reset</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>total_consuption&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware new version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.new_version&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A voltage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.voltage&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A power factor</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.pf&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Cloud connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cloud.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>MQTT connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>mqtt.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N total returned</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.total_returned&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>RAM total</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ram_total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B total returned</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.total_returned&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Total power consumption</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>total_power&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B power</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.power&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C total returned</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.total_returned&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C voltage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.voltage&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
  </tbody>
</table>

<h2 id="triggers">Triggers</h2>

<p>There are no triggers in this template.</p>

<h1 id="shelly-3em---mqtt">Shelly 3EM - MQTT</h1>

<h2 id="overview-1">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-1">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-2">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-2">Author</h2>

<p>Martin Suchy</p>

<h2 id="macros-used-1">Macros used</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Default</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{$EC_EM_CONSUMPTION}</td>
      <td>&lt;p&gt;Total value on your electric company electrometer in Wh at the moment you reset Shelly 3EM data.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">0</code></td>
      <td>Text macro</td>
    </tr>
    <tr>
      <td>{$MQTT_BROKER_HOST}</td>
      <td>&lt;p&gt;MQTT broker host&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">tcp://localhost:1883</code></td>
      <td>Text macro</td>
    </tr>
    <tr>
      <td>{$MQTT_BROKER_PASS}</td>
      <td>&lt;p&gt;MQTT broker password, if configured&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">****</code></td>
      <td>Secret macro</td>
    </tr>
    <tr>
      <td>{$MQTT_BROKER_USER}</td>
      <td>&lt;p&gt;MQTT broker user, if configured&lt;/p&gt;</td>
      <td>``</td>
      <td>Text macro</td>
    </tr>
    <tr>
      <td>{$MQTT_DEVICE_ID}</td>
      <td>&lt;p&gt;Shelly device MQTT ID&lt;/p&gt;</td>
      <td>``</td>
      <td>Text macro</td>
    </tr>
  </tbody>
</table>

<h2 id="template-links-1">Template links</h2>

<p>There are no template links in this template.</p>

<h2 id="discovery-rules-1">Discovery rules</h2>

<p>There are no discovery rules in this template.</p>

<h2 id="items-collected-1">Items collected</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Key and additional info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Relay timer remaining</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.timer_remaining&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Update available</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.has_update&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi SSID</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.ssid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electric company electrometer estimate</td>
      <td>&lt;p&gt;Estimated value of electric company electrometer. This value may differ from real value due to device restarts or incorrect measurements. This estimate is only useful when your Shelly 3EM is measuring power consumption on the main breaker. For this value to show correct estimate, you have to take a note of how many Wh were on electric company electrometer when you reset Shelly 3EM data and put this value into macro {$EC_EM_CONSUMPTION}.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ec_em_estimate&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi RSSI</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.rssi&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A power</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.power&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Sysflash is mounted</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_mounted&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>File system free size</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_free&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay has timer</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.has_timer&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N total returned</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.total_returned&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Status data</td>
      <td>&lt;p&gt;Collect data from Shelly device status topic.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Zabbix agent (active)</code></td>
      <td>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B total returned</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.total_returned&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Total power consumption</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>total_power&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>File system total size</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_size&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A power factor</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.pf&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay sensor self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Skipped actions</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>actions_stats.skipped&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Total consumption from last reset</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>total_consuption&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Total return from last reset</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>total_returned&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A total consumed</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N current</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.current&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C current</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.current&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B voltage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.voltage&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B power</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.power&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C power</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.power&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C total consumed</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A current</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.current&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>RAM total</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ram_total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C power factor</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.pf&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>RAM free</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ram_free&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B current</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.current&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Cloud enabled</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cloud.enabled&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Uptime</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>uptime&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C voltage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.voltage&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B total consumed</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>System configuration changes</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cfg_changed_cnt&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N power</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.power&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Device time</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>unixtime&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi IP</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.ip&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay turned on</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.ison&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A total returned</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.total_returned&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N power factor</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.pf&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N voltage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.voltage&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N total consumed</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C total returned</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.total_returned&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay timer duration</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.timer_duration&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Cloud connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cloud.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay timer started</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.timer_started&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relays last command source</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.source&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware old version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.old_version&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A voltage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.voltage&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay overpower occurred</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.overpower&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B power factor</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.pf&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>MQTT connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>mqtt.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware new version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.new_version&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
  </tbody>
</table>

<h2 id="triggers-1">Triggers</h2>

<p>There are no triggers in this template.</p>

<h1 id="shelly-motion">Shelly Motion</h1>

<h2 id="overview-3">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-3">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-4">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-4">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-5">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-5">Author</h2>

<p>Martin Suchy</p>

<h2 id="macros-used-2">Macros used</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Default</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{$SHELLY_PASS}</td>
      <td>&lt;p&gt;Device password, if configured&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">****</code></td>
      <td>Secret macro</td>
    </tr>
    <tr>
      <td>{$SHELLY_USER}</td>
      <td>&lt;p&gt;Device user, if configured&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">admin</code></td>
      <td>Text macro</td>
    </tr>
  </tbody>
</table>

<h2 id="template-links-2">Template links</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Template Module ICMP Ping</td>
    </tr>
  </tbody>
</table>

<h2 id="discovery-rules-2">Discovery rules</h2>

<p>There are no discovery rules in this template.</p>

<h2 id="items-collected-2">Items collected</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Key and additional info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Status data</td>
      <td>&lt;p&gt;Collect data from Shelly device status API.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">HTTP agent</code></td>
      <td>status&lt;p&gt;Update: 30&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Lux illumination</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>lux.illumination&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>RAM total</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ram_total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>MQTT connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>mqtt.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>RAM free</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ram_free&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi IP</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.ip&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>File system free size</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_free&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware new version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.new_version&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Cloud connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cloud.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>System configuration changes</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cfg_changed_cnt&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Update available</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.has_update&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Battery percentage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>bat.value&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Tamper detection</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>sensor.vibration&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Device time</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>unixtime&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Cloud enabled</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cloud.enabled&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi SSID</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.ssid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>File system total size</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_size&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Motion sensor active</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>sensor.active&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware old version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.old_version&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Motion detection</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>sensor.motion&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Charger connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>charger&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Uptime</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>uptime&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi RSSI</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.rssi&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Lux sensor self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>lux.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Lux value</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>lux.value&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Motion sensor self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>sensor.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Skipped actions</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>actions_stats.skipped&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Battery voltage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>bat.voltage&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
  </tbody>
</table>

<h2 id="triggers-2">Triggers</h2>

<p>There are no triggers in this template.</p>

<h1 id="shelly-motion---mqtt">Shelly Motion - MQTT</h1>

<h2 id="overview-6">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-6">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-7">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-7">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-8">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-8">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-9">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-9">Author</h2>

<p>Martin Suchy</p>

<h2 id="macros-used-3">Macros used</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Default</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{$MQTT_BROKER_HOST}</td>
      <td>&lt;p&gt;MQTT broker host&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">tcp://localhost:1883</code></td>
      <td>Text macro</td>
    </tr>
    <tr>
      <td>{$MQTT_BROKER_PASS}</td>
      <td>&lt;p&gt;MQTT broker password, if configured&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">****</code></td>
      <td>Secret macro</td>
    </tr>
    <tr>
      <td>{$MQTT_BROKER_USER}</td>
      <td>&lt;p&gt;MQTT broker user, if configured&lt;/p&gt;</td>
      <td>``</td>
      <td>Text macro</td>
    </tr>
    <tr>
      <td>{$MQTT_DEVICE_ID}</td>
      <td>&lt;p&gt;Shelly device MQTT ID&lt;/p&gt;</td>
      <td>``</td>
      <td>Text macro</td>
    </tr>
  </tbody>
</table>

<h2 id="template-links-3">Template links</h2>

<p>There are no template links in this template.</p>

<h2 id="discovery-rules-3">Discovery rules</h2>

<p>There are no discovery rules in this template.</p>

<h2 id="items-collected-3">Items collected</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Key and additional info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Lux illumination</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>lux.illumination&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware new version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.new_version&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Update available</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.has_update&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware old version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.old_version&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Cloud connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cloud.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi RSSI</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.rssi&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi SSID</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.ssid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>RAM free</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ram_free&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi IP</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.ip&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Cloud enabled</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cloud.enabled&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Lux sensor self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>lux.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Uptime</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>uptime&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Skipped actions</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>actions_stats.skipped&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Motion detection</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>sensor.motion&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Battery voltage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>bat.voltage&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>MQTT connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>mqtt.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Lux value</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>lux.value&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>File system total size</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_size&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Motion sensor active</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>sensor.active&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Status data</td>
      <td>&lt;p&gt;Collect data from Shelly device status topic.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Zabbix agent (active)</code></td>
      <td>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>RAM total</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ram_total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Motion sensor self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>sensor.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Charger connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>charger&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Device time</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>unixtime&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Battery percentage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>bat.value&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>System configuration changes</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cfg_changed_cnt&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Tamper detection</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>sensor.vibration&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>File system free size</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_free&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
  </tbody>
</table>

<h2 id="triggers-3">Triggers</h2>

<p>There are no triggers in this template.</p>

<h1 id="shelly-plug-and-plug-s">Shelly Plug and Plug-S</h1>

<h2 id="overview-10">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-10">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-11">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-11">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-12">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-12">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-13">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-13">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-14">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-14">Author</h2>

<p>Martin Suchy</p>

<h2 id="macros-used-4">Macros used</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Default</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{$SHELLY_PASS}</td>
      <td>&lt;p&gt;Device password, if configured&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">****</code></td>
      <td>Secret macro</td>
    </tr>
    <tr>
      <td>{$SHELLY_USER}</td>
      <td>&lt;p&gt;Device user, if configured&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">admin</code></td>
      <td>Text macro</td>
    </tr>
  </tbody>
</table>

<h2 id="template-links-4">Template links</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Template Module ICMP Ping</td>
    </tr>
  </tbody>
</table>

<h2 id="discovery-rules-4">Discovery rules</h2>

<p>There are no discovery rules in this template.</p>

<h2 id="items-collected-4">Items collected</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Key and additional info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Status data</td>
      <td>&lt;p&gt;Collect data from Shelly device status API.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">HTTP agent</code></td>
      <td>status&lt;p&gt;Update: 30&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>MQTT connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>mqtt.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Temperature in Fahrenheit</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>tmp.tF&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer total consumed</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>meters-0.total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer power</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>meters-0.power&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware new version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.new_version&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Temperature self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>tmp.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware old version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.old_version&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi SSID</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.ssid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Cloud enabled</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cloud.enabled&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Cloud connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cloud.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay overpower occurred</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.overpower&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Temperature in Celsius</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>tmp.tC&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>File system free size</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_free&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi IP</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.ip&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>RAM total</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ram_total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Skipped actions</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>actions_stats.skipped&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay has timer</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.has_timer&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Uptime</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>uptime&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>RAM free</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ram_free&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>System configuration changes</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cfg_changed_cnt&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>meters-0.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay turned on</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.ison&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Update available</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.has_update&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay timer duration</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.timer_duration&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Device overtemperature occurred</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>overtemperature&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relays last command source</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.source&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi RSSI</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.rssi&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>File system total size</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_size&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay timer started</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.timer_started&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer overpower occurred</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>meters-0.overpower&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Device time</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>unixtime&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay timer remaining</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.timer_remaining&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
  </tbody>
</table>

<h2 id="triggers-4">Triggers</h2>

<p>There are no triggers in this template.</p>

<h1 id="shelly-plug-and-plug-s---mqtt">Shelly Plug and Plug-S - MQTT</h1>

<h2 id="overview-15">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-15">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-16">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-16">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-17">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-17">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-18">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-18">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-19">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-19">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-20">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-20">Author</h2>

<p>Martin Suchy</p>

<h2 id="macros-used-5">Macros used</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Default</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{$MQTT_BROKER_HOST}</td>
      <td>&lt;p&gt;MQTT broker host&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">tcp://localhost:1883</code></td>
      <td>Text macro</td>
    </tr>
    <tr>
      <td>{$MQTT_BROKER_PASS}</td>
      <td>&lt;p&gt;MQTT broker password, if configured&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">****</code></td>
      <td>Secret macro</td>
    </tr>
    <tr>
      <td>{$MQTT_BROKER_USER}</td>
      <td>&lt;p&gt;MQTT broker user, if configured&lt;/p&gt;</td>
      <td>``</td>
      <td>Text macro</td>
    </tr>
    <tr>
      <td>{$MQTT_DEVICE_ID}</td>
      <td>&lt;p&gt;Shelly device MQTT ID&lt;/p&gt;</td>
      <td>``</td>
      <td>Text macro</td>
    </tr>
  </tbody>
</table>

<h2 id="template-links-5">Template links</h2>

<p>There are no template links in this template.</p>

<h2 id="discovery-rules-5">Discovery rules</h2>

<p>There are no discovery rules in this template.</p>

<h2 id="items-collected-5">Items collected</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Key and additional info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Device time</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>unixtime&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Status data</td>
      <td>&lt;p&gt;Collect data from Shelly device status topic.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Zabbix agent (active)</code></td>
      <td>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay timer duration</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.timer_duration&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay timer remaining</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.timer_remaining&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>File system total size</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_size&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>meters-0.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relays last command source</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.source&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Skipped actions</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>actions_stats.skipped&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>MQTT connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>mqtt.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Update available</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.has_update&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay has timer</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.has_timer&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Cloud enabled</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cloud.enabled&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay overpower occurred</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.overpower&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>File system free size</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_free&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Cloud connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cloud.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Uptime</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>uptime&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Device overtemperature occurred</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>overtemperature&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer overpower occurred</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>meters-0.overpower&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer power</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>meters-0.power&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi IP</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.ip&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Temperature in Celsius</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>tmp.tC&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware new version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.new_version&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi SSID</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.ssid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>System configuration changes</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cfg_changed_cnt&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>RAM total</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ram_total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>RAM free</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ram_free&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Temperature in Fahrenheit</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>tmp.tF&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay turned on</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.ison&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer total consumed</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>meters-0.total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Temperature self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>tmp.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay timer started</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.timer_started&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi RSSI</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.rssi&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware old version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.old_version&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
  </tbody>
</table>

<h2 id="triggers-5">Triggers</h2>

<p>There are no triggers in this template.</p>


    </div>
    
    
    <div id="content_ver_5_4" class="readme">
      <div class="banner-buttons " style="padding-top: 20px; ">
        <a class="button button-gray" style="color: #ffff;" href="/#scada-iot-energy-home-automation-industrial-monitoring-template-shelly-monitoring">Back to index</a>
        <a class="button button-green" style="color: #ffff;" href="https://raw.githubusercontent.com/zabbix/community-templates/main/SCADA_IoT_Energy_Home_Automation_Industrial_monitoring/template_shelly_monitoring/5.4/template_shelly_monitoring.yaml">Download</a>
      </div>
      
      



<h1 id="shelly-3em">Shelly 3EM</h1>

<h2 id="overview">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author">Author</h2>

<p>Martin Suchy</p>

<h2 id="macros-used">Macros used</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Default</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{$EC_EM_CONSUMPTION}</td>
      <td>&lt;p&gt;Total value on your electric company electrometer in Wh at the moment you reset Shelly 3EM data.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">0</code></td>
      <td>Text macro</td>
    </tr>
    <tr>
      <td>{$SHELLY_PASS}</td>
      <td>&lt;p&gt;Device password, if configured&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">****</code></td>
      <td>Secret macro</td>
    </tr>
    <tr>
      <td>{$SHELLY_USER}</td>
      <td>&lt;p&gt;Device user, if configured&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">admin</code></td>
      <td>Text macro</td>
    </tr>
  </tbody>
</table>

<h2 id="template-links">Template links</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Template Module ICMP Ping</td>
    </tr>
  </tbody>
</table>

<h2 id="discovery-rules">Discovery rules</h2>

<p>There are no discovery rules in this template.</p>

<h2 id="items-collected">Items collected</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Key and additional info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Electrometer C power factor</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.pf&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay timer started</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.timer_started&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C current</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.current&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C power</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.power&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi IP</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.ip&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A power</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.power&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Skipped actions</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>actions_stats.skipped&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A current</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.current&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Sysflash is mounted</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_mounted&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay timer duration</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.timer_duration&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Cloud enabled</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cloud.enabled&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A total consumed</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay has timer</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.has_timer&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B current</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.current&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N total consumed</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>File system free size</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_free&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi SSID</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.ssid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>RAM free</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ram_free&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B power factor</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.pf&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electric company electrometer estimate</td>
      <td>&lt;p&gt;Estimated value of electric company electrometer. This value may differ from real value due to device restarts or incorrect measurements. This estimate is only useful when your Shelly 3EM is measuring power consumption on the main breaker. For this value to show correct estimate, you have to take a note of how many Wh were on electric company electrometer when you reset Shelly 3EM data and put this value into macro {$EC_EM_CONSUMPTION}.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ec_em_estimate&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>File system total size</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_size&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay overpower occurred</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.overpower&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi RSSI</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.rssi&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C total consumed</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A total returned</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.total_returned&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B total consumed</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Uptime</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>uptime&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B voltage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.voltage&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay turned on</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.ison&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N power factor</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.pf&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relays last command source</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.source&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Total return from last reset</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>total_returned&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N power</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.power&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay sensor self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N voltage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.voltage&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware old version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.old_version&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Update available</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.has_update&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Device time</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>unixtime&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay timer remaining</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.timer_remaining&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N current</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.current&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>System configuration changes</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cfg_changed_cnt&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Status data</td>
      <td>&lt;p&gt;Collect data from Shelly device status API.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">HTTP agent</code></td>
      <td>status&lt;p&gt;Update: 30&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Total consumption from last reset</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>total_consuption&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware new version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.new_version&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A voltage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.voltage&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A power factor</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.pf&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Cloud connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cloud.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>MQTT connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>mqtt.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N total returned</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.total_returned&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>RAM total</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ram_total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B total returned</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.total_returned&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Total power consumption</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>total_power&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B power</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.power&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C total returned</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.total_returned&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C voltage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.voltage&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
  </tbody>
</table>

<h2 id="triggers">Triggers</h2>

<p>There are no triggers in this template.</p>

<h1 id="shelly-3em---mqtt">Shelly 3EM - MQTT</h1>

<h2 id="overview-1">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-1">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-2">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-2">Author</h2>

<p>Martin Suchy</p>

<h2 id="macros-used-1">Macros used</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Default</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{$EC_EM_CONSUMPTION}</td>
      <td>&lt;p&gt;Total value on your electric company electrometer in Wh at the moment you reset Shelly 3EM data.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">0</code></td>
      <td>Text macro</td>
    </tr>
    <tr>
      <td>{$MQTT_BROKER_HOST}</td>
      <td>&lt;p&gt;MQTT broker host&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">tcp://localhost:1883</code></td>
      <td>Text macro</td>
    </tr>
    <tr>
      <td>{$MQTT_BROKER_PASS}</td>
      <td>&lt;p&gt;MQTT broker password, if configured&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">****</code></td>
      <td>Secret macro</td>
    </tr>
    <tr>
      <td>{$MQTT_BROKER_USER}</td>
      <td>&lt;p&gt;MQTT broker user, if configured&lt;/p&gt;</td>
      <td>``</td>
      <td>Text macro</td>
    </tr>
    <tr>
      <td>{$MQTT_DEVICE_ID}</td>
      <td>&lt;p&gt;Shelly device MQTT ID&lt;/p&gt;</td>
      <td>``</td>
      <td>Text macro</td>
    </tr>
  </tbody>
</table>

<h2 id="template-links-1">Template links</h2>

<p>There are no template links in this template.</p>

<h2 id="discovery-rules-1">Discovery rules</h2>

<p>There are no discovery rules in this template.</p>

<h2 id="items-collected-1">Items collected</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Key and additional info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Relay timer remaining</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.timer_remaining&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Update available</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.has_update&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi SSID</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.ssid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electric company electrometer estimate</td>
      <td>&lt;p&gt;Estimated value of electric company electrometer. This value may differ from real value due to device restarts or incorrect measurements. This estimate is only useful when your Shelly 3EM is measuring power consumption on the main breaker. For this value to show correct estimate, you have to take a note of how many Wh were on electric company electrometer when you reset Shelly 3EM data and put this value into macro {$EC_EM_CONSUMPTION}.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ec_em_estimate&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi RSSI</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.rssi&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A power</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.power&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Sysflash is mounted</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_mounted&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>File system free size</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_free&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay has timer</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.has_timer&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N total returned</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.total_returned&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Status data</td>
      <td>&lt;p&gt;Collect data from Shelly device status topic.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Zabbix agent (active)</code></td>
      <td>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B total returned</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.total_returned&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Total power consumption</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>total_power&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>File system total size</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_size&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A power factor</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.pf&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay sensor self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Skipped actions</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>actions_stats.skipped&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Total consumption from last reset</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>total_consuption&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Total return from last reset</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>total_returned&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A total consumed</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N current</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.current&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C current</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.current&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B voltage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.voltage&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B power</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.power&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C power</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.power&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C total consumed</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A current</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.current&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>RAM total</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ram_total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C power factor</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.pf&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>RAM free</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ram_free&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B current</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.current&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Cloud enabled</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cloud.enabled&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Uptime</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>uptime&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C voltage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.voltage&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B total consumed</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>System configuration changes</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cfg_changed_cnt&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N power</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.power&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Device time</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>unixtime&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi IP</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.ip&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay turned on</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.ison&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A total returned</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.total_returned&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N power factor</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.pf&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N voltage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.voltage&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer N total consumed</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-3.total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer C total returned</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-2.total_returned&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay timer duration</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.timer_duration&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Cloud connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cloud.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay timer started</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.timer_started&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relays last command source</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.source&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware old version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.old_version&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A voltage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.voltage&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay overpower occurred</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.overpower&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer A self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-0.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer B power factor</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>emeters-1.pf&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>MQTT connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>mqtt.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware new version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.new_version&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
  </tbody>
</table>

<h2 id="triggers-1">Triggers</h2>

<p>There are no triggers in this template.</p>

<h1 id="shelly-motion">Shelly Motion</h1>

<h2 id="overview-3">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-3">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-4">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-4">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-5">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-5">Author</h2>

<p>Martin Suchy</p>

<h2 id="macros-used-2">Macros used</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Default</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{$SHELLY_PASS}</td>
      <td>&lt;p&gt;Device password, if configured&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">****</code></td>
      <td>Secret macro</td>
    </tr>
    <tr>
      <td>{$SHELLY_USER}</td>
      <td>&lt;p&gt;Device user, if configured&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">admin</code></td>
      <td>Text macro</td>
    </tr>
  </tbody>
</table>

<h2 id="template-links-2">Template links</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Template Module ICMP Ping</td>
    </tr>
  </tbody>
</table>

<h2 id="discovery-rules-2">Discovery rules</h2>

<p>There are no discovery rules in this template.</p>

<h2 id="items-collected-2">Items collected</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Key and additional info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Status data</td>
      <td>&lt;p&gt;Collect data from Shelly device status API.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">HTTP agent</code></td>
      <td>status&lt;p&gt;Update: 30&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Lux illumination</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>lux.illumination&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>RAM total</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ram_total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>MQTT connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>mqtt.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>RAM free</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ram_free&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi IP</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.ip&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>File system free size</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_free&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware new version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.new_version&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Cloud connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cloud.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>System configuration changes</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cfg_changed_cnt&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Update available</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.has_update&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Battery percentage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>bat.value&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Tamper detection</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>sensor.vibration&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Device time</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>unixtime&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Cloud enabled</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cloud.enabled&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi SSID</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.ssid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>File system total size</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_size&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Motion sensor active</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>sensor.active&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware old version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.old_version&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Motion detection</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>sensor.motion&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Charger connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>charger&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Uptime</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>uptime&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi RSSI</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.rssi&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Lux sensor self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>lux.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Lux value</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>lux.value&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Motion sensor self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>sensor.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Skipped actions</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>actions_stats.skipped&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Battery voltage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>bat.voltage&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
  </tbody>
</table>

<h2 id="triggers-2">Triggers</h2>

<p>There are no triggers in this template.</p>

<h1 id="shelly-motion---mqtt">Shelly Motion - MQTT</h1>

<h2 id="overview-6">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-6">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-7">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-7">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-8">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-8">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-9">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-9">Author</h2>

<p>Martin Suchy</p>

<h2 id="macros-used-3">Macros used</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Default</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{$MQTT_BROKER_HOST}</td>
      <td>&lt;p&gt;MQTT broker host&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">tcp://localhost:1883</code></td>
      <td>Text macro</td>
    </tr>
    <tr>
      <td>{$MQTT_BROKER_PASS}</td>
      <td>&lt;p&gt;MQTT broker password, if configured&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">****</code></td>
      <td>Secret macro</td>
    </tr>
    <tr>
      <td>{$MQTT_BROKER_USER}</td>
      <td>&lt;p&gt;MQTT broker user, if configured&lt;/p&gt;</td>
      <td>``</td>
      <td>Text macro</td>
    </tr>
    <tr>
      <td>{$MQTT_DEVICE_ID}</td>
      <td>&lt;p&gt;Shelly device MQTT ID&lt;/p&gt;</td>
      <td>``</td>
      <td>Text macro</td>
    </tr>
  </tbody>
</table>

<h2 id="template-links-3">Template links</h2>

<p>There are no template links in this template.</p>

<h2 id="discovery-rules-3">Discovery rules</h2>

<p>There are no discovery rules in this template.</p>

<h2 id="items-collected-3">Items collected</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Key and additional info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Lux illumination</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>lux.illumination&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware new version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.new_version&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Update available</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.has_update&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware old version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.old_version&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Cloud connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cloud.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi RSSI</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.rssi&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi SSID</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.ssid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>RAM free</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ram_free&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi IP</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.ip&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Cloud enabled</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cloud.enabled&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Lux sensor self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>lux.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Uptime</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>uptime&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Skipped actions</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>actions_stats.skipped&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Motion detection</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>sensor.motion&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Battery voltage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>bat.voltage&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>MQTT connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>mqtt.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Lux value</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>lux.value&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>File system total size</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_size&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Motion sensor active</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>sensor.active&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Status data</td>
      <td>&lt;p&gt;Collect data from Shelly device status topic.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Zabbix agent (active)</code></td>
      <td>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>RAM total</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ram_total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Motion sensor self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>sensor.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Charger connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>charger&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Device time</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>unixtime&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Battery percentage</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>bat.value&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>System configuration changes</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cfg_changed_cnt&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Tamper detection</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>sensor.vibration&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>File system free size</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_free&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
  </tbody>
</table>

<h2 id="triggers-3">Triggers</h2>

<p>There are no triggers in this template.</p>

<h1 id="shelly-plug-and-plug-s">Shelly Plug and Plug-S</h1>

<h2 id="overview-10">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-10">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-11">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-11">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-12">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-12">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-13">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-13">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-14">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-14">Author</h2>

<p>Martin Suchy</p>

<h2 id="macros-used-4">Macros used</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Default</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{$SHELLY_PASS}</td>
      <td>&lt;p&gt;Device password, if configured&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">****</code></td>
      <td>Secret macro</td>
    </tr>
    <tr>
      <td>{$SHELLY_USER}</td>
      <td>&lt;p&gt;Device user, if configured&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">admin</code></td>
      <td>Text macro</td>
    </tr>
  </tbody>
</table>

<h2 id="template-links-4">Template links</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Template Module ICMP Ping</td>
    </tr>
  </tbody>
</table>

<h2 id="discovery-rules-4">Discovery rules</h2>

<p>There are no discovery rules in this template.</p>

<h2 id="items-collected-4">Items collected</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Key and additional info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Status data</td>
      <td>&lt;p&gt;Collect data from Shelly device status API.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">HTTP agent</code></td>
      <td>status&lt;p&gt;Update: 30&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>MQTT connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>mqtt.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Temperature in Fahrenheit</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>tmp.tF&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer total consumed</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>meters-0.total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer power</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>meters-0.power&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware new version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.new_version&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Temperature self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>tmp.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware old version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.old_version&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi SSID</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.ssid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Cloud enabled</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cloud.enabled&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Cloud connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cloud.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay overpower occurred</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.overpower&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Temperature in Celsius</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>tmp.tC&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>File system free size</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_free&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi IP</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.ip&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>RAM total</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ram_total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Skipped actions</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>actions_stats.skipped&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay has timer</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.has_timer&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Uptime</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>uptime&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>RAM free</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ram_free&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>System configuration changes</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cfg_changed_cnt&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>meters-0.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay turned on</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.ison&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Update available</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.has_update&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay timer duration</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.timer_duration&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Device overtemperature occurred</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>overtemperature&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relays last command source</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.source&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi RSSI</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.rssi&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>File system total size</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_size&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay timer started</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.timer_started&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer overpower occurred</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>meters-0.overpower&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Device time</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>unixtime&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay timer remaining</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.timer_remaining&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
  </tbody>
</table>

<h2 id="triggers-4">Triggers</h2>

<p>There are no triggers in this template.</p>

<h1 id="shelly-plug-and-plug-s---mqtt">Shelly Plug and Plug-S - MQTT</h1>

<h2 id="overview-15">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-15">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-16">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-16">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-17">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-17">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-18">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-18">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-19">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-19">Author</h2>

<p>Martin Suchy</p>

<h2 id="overview-20">Overview</h2>

<p>List of supported Shelly devices:</p>

<ul>
  <li>Shelly 3EM</li>
  <li>Shelly Plug and Plug-S</li>
  <li>Shelly Motion</li>
  <li>more to come (I hope)…</li>
</ul>

<p>Each device has two templates to choose from, one is using HTTP calls to collect device information from API status page and other is collecting device information from MQTT broker “shellies/*/info” topic. Templates were tested and created on Zabbix version 5.4 but some other versions will most likely work as well.</p>

<p>For more information and configuration information see <a href="https://github.com/UniverseDevel/zabbix-templates/tree/main/shelly">README.md</a> at GitHub repo. All templates can be downloaded here as a single file or separate templates are available on GitHub.</p>

<h2 id="author-20">Author</h2>

<p>Martin Suchy</p>

<h2 id="macros-used-5">Macros used</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Default</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{$MQTT_BROKER_HOST}</td>
      <td>&lt;p&gt;MQTT broker host&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">tcp://localhost:1883</code></td>
      <td>Text macro</td>
    </tr>
    <tr>
      <td>{$MQTT_BROKER_PASS}</td>
      <td>&lt;p&gt;MQTT broker password, if configured&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">****</code></td>
      <td>Secret macro</td>
    </tr>
    <tr>
      <td>{$MQTT_BROKER_USER}</td>
      <td>&lt;p&gt;MQTT broker user, if configured&lt;/p&gt;</td>
      <td>``</td>
      <td>Text macro</td>
    </tr>
    <tr>
      <td>{$MQTT_DEVICE_ID}</td>
      <td>&lt;p&gt;Shelly device MQTT ID&lt;/p&gt;</td>
      <td>``</td>
      <td>Text macro</td>
    </tr>
  </tbody>
</table>

<h2 id="template-links-5">Template links</h2>

<p>There are no template links in this template.</p>

<h2 id="discovery-rules-5">Discovery rules</h2>

<p>There are no discovery rules in this template.</p>

<h2 id="items-collected-5">Items collected</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Key and additional info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Device time</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>unixtime&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Status data</td>
      <td>&lt;p&gt;Collect data from Shelly device status topic.&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Zabbix agent (active)</code></td>
      <td>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay timer duration</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.timer_duration&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay timer remaining</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.timer_remaining&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>File system total size</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_size&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>meters-0.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relays last command source</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.source&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Skipped actions</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>actions_stats.skipped&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>MQTT connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>mqtt.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Update available</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.has_update&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay has timer</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.has_timer&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Cloud enabled</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cloud.enabled&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay overpower occurred</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.overpower&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>File system free size</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>fs_free&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Cloud connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cloud.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Uptime</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>uptime&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Device overtemperature occurred</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>overtemperature&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer overpower occurred</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>meters-0.overpower&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer power</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>meters-0.power&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi IP</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.ip&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Temperature in Celsius</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>tmp.tC&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware new version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.new_version&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi SSID</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.ssid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>System configuration changes</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>cfg_changed_cnt&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>RAM total</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ram_total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>RAM free</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>ram_free&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Temperature in Fahrenheit</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>tmp.tF&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay turned on</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.ison&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Electrometer total consumed</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>meters-0.total&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi connected</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.connected&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Temperature self-check</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>tmp.is_valid&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Relay timer started</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>relays-0.timer_started&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>WiFi RSSI</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>wifi_sta.rssi&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
    <tr>
      <td>Firmware old version</td>
      <td>&lt;p&gt;-&lt;/p&gt;</td>
      <td><code class="language-plaintext highlighter-rouge">Dependent item</code></td>
      <td>update.old_version&lt;p&gt;Update: 0&lt;/p&gt;</td>
    </tr>
  </tbody>
</table>

<h2 id="triggers-5">Triggers</h2>

<p>There are no triggers in this template.</p>


    </div>
    
  </div>
  <script>
    (function () {
      
      //console.log('#content_ver_5_4');
      //console.log('#ver_5_4');
      $('.readme').hide();
      $('#content_ver_5_4').fadeIn('slow');
      $('#ver_5_4').addClass('active');

      
      $('#ver_6_0').click(function () {
        //console.log('#content_ver_6_0');
        //console.log('#ver_6_0');
        $('.readme').hide();
        $('#content_ver_6_0').fadeIn('slow');
        $('.js_tab').removeClass('active')
        $('#ver_6_0').addClass('active');
      })
      
      $('#ver_5_4').click(function () {
        //console.log('#content_ver_5_4');
        //console.log('#ver_5_4');
        $('.readme').hide();
        $('#content_ver_5_4').fadeIn('slow');
        $('.js_tab').removeClass('active')
        $('#ver_5_4').addClass('active');
      })
      
    })();
  </script>
</body>

</html>