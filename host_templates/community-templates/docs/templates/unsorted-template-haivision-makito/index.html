<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Haivision Makito X</title>
  <link rel="stylesheet" href="/assets/css/styles.css">
  <script src="/assets/js/jquery.min.js"></script>
</head>

<body id="body">
  
  
  
  <a href="https://github.com/zabbix/community-templates/tree/main/Unsorted/template_haivision_makito">
    <section class="banner-integrations">
	<div class="w container conference-header" id="training_overview" style="padding-top: 60px; min-height: 150px;">
		<div class="banner-content" style="padding-left: 0; padding-bottom: 16px;">
			<h1 class="h1 center">Haivision Makito X</h1>
		</div>
		<!-- <div class="w container">
			<div class="content text">
				<div class="grid grid-space-category center">
					
				</div>
			</div>
		</div> -->
	</div>
</section>
  </a>
  <div class="w container">
    <h2 class="h2">Available versions</h2>
    <br>
    <div class="tabs-section">
      <div id="integrations_tabs" class="tabs">
        <ul>
          
          
          <li>
            <a class="js_tab" id="ver_5_2" href="#body">ver. 5.2
            </a>
          </li>
          
        </ul>
      </div>
    </div>
    <br>
    <br>
    
    
    <div id="content_ver_5_2" class="readme">
      <div class="banner-buttons " style="padding-top: 20px; ">
        <a class="button button-gray" style="color: #ffff;" href="/#unsorted-template-haivision-makito">Back to index</a>
        <a class="button button-green" style="color: #ffff;" href="https://raw.githubusercontent.com/zabbix/community-templates/main/Unsorted/template_haivision_makito/5.2/template_haivision_makito.xml">Download</a>
      </div>
      
      



<h1 id="haivision-makito-x">Haivision Makito X</h1>

<h2 id="overview">Overview</h2>

<p>Template version 1.0</p>

<h3 id="features">Features</h3>
<ul>
  <li>Monitoring overall system status</li>
  <li>Monitoring Stream status (LLD)</li>
  <li>Monitoring Audio Encoder status (LLD)</li>
  <li>Monitoring Video Encoder status (LLD)</li>
  <li>Collect inventory info</li>
</ul>

<h3 id="environment">Environment</h3>
<p>Created and tested with:</p>
<ul>
  <li>Zabbix v.5.2.7</li>
  <li>Haivision Makito2 Dual-SDI Encoder</li>
</ul>

<h3 id="setup">Setup</h3>
<p>Configuring SNMP on the device:
https://doc.haivision.com/MakitoXEnc2.5/makito-x-encoder-user-s-guide/using-snmp-to-configure-a-v-services</p>

<p>Quick howto for enabling snmpv2 on the device:</p>
<ul>
  <li>Connect to device via SSH</li>
  <li>Edit /usr/share/snmp/snmpd.conf; add line to allow all snmp requests from zabbix server: 
  <code class="language-plaintext highlighter-rouge">rocommunity &lt;SNMP_COMMUNITY&gt; &lt;ZABBX_SRV_IP&gt; .1</code>
  eg. <code class="language-plaintext highlighter-rouge">rocommunity snmp_zabbix 192.168.1.2 .1</code></li>
  <li>Restart snmp service: <code class="language-plaintext highlighter-rouge">service snmp restart</code></li>
</ul>

<p>MIB files can be found on the device in /usr/share/snmp/mibs</p>

<h3 id="author">Author</h3>
<p>Gert De Rouck</p>

<h2 id="macros-used">Macros used</h2>
<p>none</p>

<h2 id="template-links">Template links</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Generic SNMP</td>
    </tr>
  </tbody>
</table>

<h2 id="discovery-rules">Discovery rules</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Key</th>
      <th>Update interval</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Haivision Audio/Video Streams discovery</td>
      <td>SNMP agent</td>
      <td>haivision.HAI-AVT-STREAM.streams</td>
      <td>1h</td>
    </tr>
    <tr>
      <td>Haivision Audio Encoders discovery</td>
      <td>SNMP agent</td>
      <td>haivision.HAI-HDC.audioEncoders</td>
      <td>1h</td>
    </tr>
    <tr>
      <td>Haivision Video Encoders discovery</td>
      <td>SNMP agent</td>
      <td>haivision.HAI-HDC.videoEncoders</td>
      <td>1h</td>
    </tr>
  </tbody>
</table>

<h2 id="items">Items</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Key</th>
      <th>LLD</th>
      <th>Update interval</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Haivision status LED</td>
      <td>SNMP agent</td>
      <td>haivision.HAI-HDC.haiHdcSysAdminStatus</td>
      <td>-</td>
      <td>5m</td>
    </tr>
    <tr>
      <td>Haivision system error</td>
      <td>SNMP agent</td>
      <td>haivision.HAI-HDC.haiHdcSysError</td>
      <td>-</td>
      <td>5m</td>
    </tr>
    <tr>
      <td>Haivision firmware revision</td>
      <td>SNMP agent</td>
      <td>haivision.HAI-HDC.haiHdcSysFirmwareRev</td>
      <td>-</td>
      <td>1d</td>
    </tr>
    <tr>
      <td>Haivision serial number</td>
      <td>SNMP agent</td>
      <td>haivision.HAI-HDC.haiHdcSysSerialNumber</td>
      <td>-</td>
      <td>1d</td>
    </tr>
    <tr>
      <td>Haivision system type</td>
      <td>SNMP agent</td>
      <td>haivision.HAI-HDC.haiHdcSysType</td>
      <td>-</td>
      <td>1d</td>
    </tr>
    <tr>
      <td>Stream Name [{#STREAMNAME}]</td>
      <td>SNMP agent</td>
      <td>haivision.HAI-AVT-STREAM.haiAvtStreamName.[{#SNMPINDEX}]</td>
      <td>LLD</td>
      <td>1h</td>
    </tr>
    <tr>
      <td>Stream Mode [{#STREAMNAME}]</td>
      <td>SNMP agent</td>
      <td>haivision.HAI-AVT-STREAM.haiAvtStreamCxMode.[{#SNMPINDEX}]</td>
      <td>LLD</td>
      <td>15m</td>
    </tr>
    <tr>
      <td>Stream Admin Status [{#STREAMNAME}]</td>
      <td>SNMP agent</td>
      <td>haivision.HAI-AVT-STREAM.haiAvtStreamAdminStatus.[{#SNMPINDEX}]</td>
      <td>LLD</td>
      <td>15m</td>
    </tr>
    <tr>
      <td>Stream Operational Status [{#STREAMNAME}]</td>
      <td>SNMP agent</td>
      <td>haivision.HAI-AVT-STREAM.haiAvtStreamOperStatus.[{#SNMPINDEX}]</td>
      <td>LLD</td>
      <td>5m</td>
    </tr>
    <tr>
      <td>Audio Encoder Name [{#AUDIOENCNAME}]</td>
      <td>SNMP agent</td>
      <td>haivision.HAI-HDC.haiHdcAudioEncName.[{#SNMPINDEX}]</td>
      <td>LLD</td>
      <td>1h</td>
    </tr>
    <tr>
      <td>Audio Encoder Admin Status [{#AUDIOENCNAME}]</td>
      <td>SNMP agent</td>
      <td>haivision.HAI-HDC.haiHdcAudioEncAdminStatus.[{#SNMPINDEX}]</td>
      <td>LLD</td>
      <td>15m</td>
    </tr>
    <tr>
      <td>Audio Encoder Operational Status [{#AUDIOENCNAME}]</td>
      <td>SNMP agent</td>
      <td>haivision.HAI-HDC.haiHdcAudioEncOperStatus.[{#SNMPINDEX}]</td>
      <td>LLD</td>
      <td>5m</td>
    </tr>
    <tr>
      <td>Video Encoder Name [{#VIDEOENCNAME}]</td>
      <td>SNMP agent</td>
      <td>haivision.HAI-HDC.haiHdcVideoEncName.[{#SNMPINDEX}]</td>
      <td>LLD</td>
      <td>1h</td>
    </tr>
    <tr>
      <td>Video Encoder Admin Status [{#VIDEOENCNAME}]</td>
      <td>SNMP agent</td>
      <td>haivision.HAI-HDC.haiHdcVideoEncAdminStatus.[{#SNMPINDEX}]</td>
      <td>LLD</td>
      <td>15m</td>
    </tr>
    <tr>
      <td>Video Encoder Operational Status [{#VIDEOENCNAME}]</td>
      <td>SNMP agent</td>
      <td>haivision.HAI-HDC.haiHdcVideoEncOperStatus.[{#SNMPINDEX}]</td>
      <td>LLD</td>
      <td>5m</td>
    </tr>
  </tbody>
</table>

<h2 id="triggers">Triggers</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Expression</th>
      <th>LLD</th>
      <th>Severity</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Haivision status LED indicates a system error.</td>
      <td>{Haivision Makito X:haivision.HAI-HDC.haiHdcSysAdminStatus.last()}&lt;&gt;1</td>
      <td>-</td>
      <td>HIGH</td>
    </tr>
    <tr>
      <td>Haivision System Error</td>
      <td>{Haivision Makito X:haivision.HAI-HDC.haiHdcSysError.last()}&lt;&gt;”No Error”</td>
      <td>-</td>
      <td>HIGH</td>
    </tr>
    <tr>
      <td>Haivision caller mode stream [{#STREAMNAME}] is in an undesired state.</td>
      <td>{Haivision Makito X:haivision.HAI-AVT-STREAM.haiAvtStreamAdminStatus.[{#SNMPINDEX}].last()}=1 and {Haivision Makito X:haivision.HAI-AVT-STREAM.haiAvtStreamCxMode.[{#SNMPINDEX}].last()}=1 and {Haivision Makito X:haivision.HAI-AVT-STREAM.haiAvtStreamOperStatus.[{#SNMPINDEX}].last()}&lt;&gt;1</td>
      <td>LLD</td>
      <td>HIGH</td>
    </tr>
    <tr>
      <td>Haivision listener mode stream [{#STREAMNAME}] is in an undesired state.</td>
      <td>{Haivision Makito X:haivision.HAI-AVT-STREAM.haiAvtStreamAdminStatus.[{#SNMPINDEX}].last()}=1 and {Haivision Makito X:haivision.HAI-AVT-STREAM.haiAvtStreamCxMode.[{#SNMPINDEX}].last()}=2 and {Haivision Makito X:haivision.HAI-AVT-STREAM.haiAvtStreamOperStatus.[{#SNMPINDEX}].last()}&lt;&gt;5</td>
      <td>LLD</td>
      <td>HIGH</td>
    </tr>
    <tr>
      <td>Haivision Audio encoder [{#AUDIOENCNAME}] is in an undesired state.</td>
      <td>{Haivision Makito X:haivision.HAI-HDC.haiHdcAudioEncAdminStatus.[{#SNMPINDEX}].last()}=1 and {Haivision Makito X:haivision.HAI-HDC.haiHdcAudioEncOperStatus.[{#SNMPINDEX}].last()}&lt;&gt;1</td>
      <td>LLD</td>
      <td>HIGH</td>
    </tr>
    <tr>
      <td>Haivision Video encoder [{#VIDEOENCNAME}] is in an undesired state.</td>
      <td>{Haivision Makito X:haivision.HAI-HDC.haiHdcVideoEncAdminStatus.[{#SNMPINDEX}].last()}=1 and {Haivision Makito X:haivision.HAI-HDC.haiHdcVideoEncOperStatus.[{#SNMPINDEX}].last()}&lt;&gt;1</td>
      <td>LLD</td>
      <td>HIGH</td>
    </tr>
  </tbody>
</table>


    </div>
    
  </div>
  <script>
    (function () {
      
      //console.log('#content_ver_5_2');
      //console.log('#ver_5_2');
      $('.readme').hide();
      $('#content_ver_5_2').fadeIn('slow');
      $('#ver_5_2').addClass('active');

      
      $('#ver_5_2').click(function () {
        //console.log('#content_ver_5_2');
        //console.log('#ver_5_2');
        $('.readme').hide();
        $('#content_ver_5_2').fadeIn('slow');
        $('.js_tab').removeClass('active')
        $('#ver_5_2').addClass('active');
      })
      
    })();
  </script>
</body>

</html>